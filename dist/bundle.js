!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ecstatic",[],t):"object"==typeof exports?exports.ecstatic=t():n.ecstatic=t()}(self,()=>(()=>{"use strict";var __webpack_modules__={309:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('{// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  Entity: () => (/* reexport */ Entity_Entity),\n  World: () => (/* reexport */ World_World),\n  trackComponent: () => (/* reexport */ trackComponent)\n});\n\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/rng.js\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== \'undefined\' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== \'undefined\' && typeof msCrypto.getRandomValues === \'function\' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error(\'crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/regex.js\n/* ESM default export */ const regex = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/validate.js\n\n\nfunction validate(uuid) {\n  return typeof uuid === \'string\' && regex.test(uuid);\n}\n\n/* ESM default export */ const esm_browser_validate = (validate);\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/stringify.js\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var stringify_i = 0; stringify_i < 256; ++stringify_i) {\n  byteToHex.push((stringify_i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It\'s been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + \'-\' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + \'-\' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + \'-\' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + \'-\' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it\'s likely due to one\n  // of the following:\n  // - One or more input array values don\'t map to a hex octet (leading to\n  // "undefined" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!esm_browser_validate(uuid)) {\n    throw TypeError(\'Stringified UUID is invalid\');\n  }\n\n  return uuid;\n}\n\n/* ESM default export */ const esm_browser_stringify = (stringify);\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/v4.js\n\n\n\nfunction v4_v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return esm_browser_stringify(rnds);\n}\n\n/* ESM default export */ const v4 = (v4_v4);\n;// CONCATENATED MODULE: ./src/guards.ts\nfunction _instanceof(left, right) {\n    if (right != null && typeof Symbol !== "undefined" && right[Symbol.hasInstance]) {\n        return !!right[Symbol.hasInstance](left);\n    } else {\n        return left instanceof right;\n    }\n}\nfunction isComponentInstance(Class, comp) {\n    if (!comp) {\n        return false;\n    }\n    if (!_instanceof(comp, Class)) {\n        return false;\n    }\n    return true;\n}\n\n;// CONCATENATED MODULE: ./src/ComponentCollection.ts\n/* eslint-disable @typescript-eslint/no-explicit-any */ function _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nfunction _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _iterable_to_array(iter) {\n    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);\n}\nfunction _iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i["return"] != null) _i["return"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction _non_iterable_rest() {\n    throw new TypeError("Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction _non_iterable_spread() {\n    throw new TypeError("Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction _sliced_to_array(arr, i) {\n    return _array_with_holes(arr) || _iterable_to_array_limit(arr, i) || _unsupported_iterable_to_array(arr, i) || _non_iterable_rest();\n}\nfunction _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return _array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\n\nvar ComponentCollection_ComponentCollection = /*#__PURE__*/ function() {\n    "use strict";\n    function ComponentCollection() {\n        var _this = this;\n        _class_call_check(this, ComponentCollection);\n        _define_property(this, "components", new Map());\n        // instance of a component\n        _define_property(this, "add", function(component) {\n            _this.components.set(component.constructor.name, component);\n        });\n        // eslint-disable-next-line no-unused-vars\n        _define_property(this, "update", function(cl, func) {\n            var c = _this.components.get(cl.name);\n            if (isComponentInstance(cl, c)) {\n                var updatedComponent = func(c);\n                _this.components.set(cl.name, updatedComponent);\n            }\n        });\n        /**\n   * Remove a component.\n   * @param cType Class of component to remove.\n   */ _define_property(this, "remove", function(cType) {\n            _this.components.delete(cType.name);\n        });\n        /**\n   * Get a component that matches the passed class.\n   * Will throw an error if an instance of the given component\n   * doesn\'t exist in the collection, so if you don\'t know if it\'s safe\n   * to get a component, you should test with has() or hasByName() first.\n   * You have been warned.\n   * @param cl component Class reference.\n   */ _define_property(this, "get", function(cl) {\n            var comp = _this.components.get(cl.name);\n            if (isComponentInstance(cl, comp)) {\n                return comp;\n            } else {\n                throw new Error("ComponentCollection does not have component of type ".concat(cl.name));\n            }\n        });\n        /**\n   * Test to see if the collection contains a specific Class or Classes.\n   * @param cType component Class, or array of component Classes.\n   */ _define_property(this, "has", function(cType) {\n            return Array.isArray(cType) ? cType.every(function(ct) {\n                return _this.components.has(ct.name) === true;\n            }) : _this.components.has(cType.name);\n        });\n        /**\n   * Test to see if the collection has a component instance based on a\n   * class name. Some build steps/minifiers will change the name of Classes,\n   * so it\'s usually best to pass in a MyClass.name instead of \'MyClass\'.\n   * @param cName The name of a Class, or array of Class names.\n   */ _define_property(this, "hasByName", function(cName) {\n            return Array.isArray(cName) ? cName.every(function(ct) {\n                return _this.components.has(ct) === true;\n            }) : _this.components.has(cName);\n        });\n    }\n    _create_class(ComponentCollection, [\n        {\n            key: "componentTypes",\n            get: /**\n   * Get the component type names that are currently being used in the collection.\n   */ function get() {\n                return _to_consumable_array(this.components.keys());\n            }\n        },\n        {\n            key: "size",\n            get: /**\n   * Get the current number of components that are in the collection.\n   */ function get() {\n                return this.components.size;\n            }\n        },\n        {\n            key: "toDevComponents",\n            value: function toDevComponents() {\n                var obj = {};\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this.components[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var _step_value = _sliced_to_array(_step.value, 2), compName = _step_value[0], comp = _step_value[1];\n                        obj[compName] = comp;\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                return obj;\n            }\n        }\n    ]);\n    return ComponentCollection;\n}();\n// CT is a Union, like `type = FirstComponent | SecondComponent`.\n\n\n;// CONCATENATED MODULE: ./src/DevEntity.ts\nfunction DevEntity_array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction DevEntity_array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction DevEntity_array_without_holes(arr) {\n    if (Array.isArray(arr)) return DevEntity_array_like_to_array(arr);\n}\nfunction DevEntity_class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction DevEntity_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction DevEntity_create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) DevEntity_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) DevEntity_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction DevEntity_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction DevEntity_iterable_to_array(iter) {\n    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);\n}\nfunction DevEntity_iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i["return"] != null) _i["return"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction DevEntity_non_iterable_rest() {\n    throw new TypeError("Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction DevEntity_non_iterable_spread() {\n    throw new TypeError("Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction DevEntity_sliced_to_array(arr, i) {\n    return DevEntity_array_with_holes(arr) || DevEntity_iterable_to_array_limit(arr, i) || DevEntity_unsupported_iterable_to_array(arr, i) || DevEntity_non_iterable_rest();\n}\nfunction DevEntity_to_consumable_array(arr) {\n    return DevEntity_array_without_holes(arr) || DevEntity_iterable_to_array(arr) || DevEntity_unsupported_iterable_to_array(arr) || DevEntity_non_iterable_spread();\n}\nfunction DevEntity_unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return DevEntity_array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return DevEntity_array_like_to_array(o, minLen);\n}\nvar DevEntity_DevEntity = /*#__PURE__*/ function() {\n    "use strict";\n    function DevEntity(entity, world) {\n        DevEntity_class_call_check(this, DevEntity);\n        DevEntity_define_property(this, "id", void 0);\n        DevEntity_define_property(this, "components", void 0);\n        DevEntity_define_property(this, "tags", void 0);\n        DevEntity_define_property(this, "systems", []);\n        DevEntity_define_property(this, "state", void 0);\n        this.id = entity.id;\n        this.components = entity.components.toDevComponents(), this.tags = DevEntity_to_consumable_array(entity.tags);\n        this.state = entity.state;\n        var compNames = Object.keys(this.components);\n        var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n        try {\n            for(var _iterator = world.systems.compNamesBySystemName[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                var _step_value = DevEntity_sliced_to_array(_step.value, 2), systemName = _step_value[0], cNames = _step_value[1];\n                if (cNames.every(function(cName) {\n                    return compNames.includes(cName);\n                })) {\n                    this.systems.push(systemName);\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally{\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                }\n            } finally{\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    }\n    DevEntity_create_class(DevEntity, [\n        {\n            key: "toTableRow",\n            value: function toTableRow() {\n                return {\n                    id: this.id,\n                    components: Object.keys(this.components).join(\', \'),\n                    tags: this.tags.join(\', \'),\n                    systems: this.systems.join(\', \')\n                };\n            }\n        }\n    ]);\n    return DevEntity;\n}();\n/* ESM default export */ const src_DevEntity = (DevEntity_DevEntity);\n\n;// CONCATENATED MODULE: ./src/SimpleFSM.ts\nfunction SimpleFSM_class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction SimpleFSM_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction SimpleFSM_create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) SimpleFSM_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) SimpleFSM_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction SimpleFSM_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nvar SimpleFSM_SimpleFSM = /*#__PURE__*/ function() {\n    "use strict";\n    function SimpleFSM(initialState, transitions) {\n        SimpleFSM_class_call_check(this, SimpleFSM);\n        SimpleFSM_define_property(this, "current", void 0);\n        SimpleFSM_define_property(this, "inital", void 0);\n        SimpleFSM_define_property(this, "transitions", void 0);\n        this.inital = initialState;\n        this.current = initialState;\n        this.transitions = transitions;\n    }\n    SimpleFSM_create_class(SimpleFSM, [\n        {\n            key: "next",\n            value: function next(data) {\n                if (this.transitions[this.current]) {\n                    this.current = this.transitions[this.current](data, this.current);\n                }\n            }\n        },\n        {\n            key: "reset",\n            value: function reset() {\n                this.current = this.inital;\n            }\n        },\n        {\n            key: "is",\n            value: function is(checkState) {\n                return this.current === checkState;\n            }\n        }\n    ]);\n    return SimpleFSM;\n}();\n\n\n;// CONCATENATED MODULE: ./src/Entity.ts\nfunction Entity_array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction Entity_array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction Entity_class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction Entity_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction Entity_create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) Entity_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) Entity_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction Entity_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction Entity_iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i["return"] != null) _i["return"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction Entity_non_iterable_rest() {\n    throw new TypeError("Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction Entity_sliced_to_array(arr, i) {\n    return Entity_array_with_holes(arr) || Entity_iterable_to_array_limit(arr, i) || Entity_unsupported_iterable_to_array(arr, i) || Entity_non_iterable_rest();\n}\nfunction Entity_unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return Entity_array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Entity_array_like_to_array(o, minLen);\n}\n\n\n\n\nvar Entity_Entity = /*#__PURE__*/ function() {\n    "use strict";\n    function Entity(world) {\n        var _this = this;\n        Entity_class_call_check(this, Entity);\n        Entity_define_property(this, "_id", void 0);\n        Entity_define_property(this, "_world", void 0);\n        Entity_define_property(this, "_error", void 0);\n        Entity_define_property(this, "_state", void 0);\n        this._id = v4();\n        this._world = world;\n        this._error = null;\n        var fsmTransition = function(ns) {\n            if (ns === \'error\' || _this._error) return \'error\';\n            return ns;\n        };\n        this._state = new SimpleFSM_SimpleFSM(\'creating\', {\n            creating: fsmTransition,\n            created: fsmTransition,\n            destroying: fsmTransition,\n            destroyed: function() {\n                return \'destroyed\';\n            },\n            error: function() {\n                return \'error\';\n            }\n        });\n        /*\n    Registering with the World.\n    */ this._world.registerEntity(this);\n        if (this._world.systems.compNamesBySystemName.size === 0) {\n            this._state.next(\'created\');\n        }\n    }\n    Entity_create_class(Entity, [\n        {\n            key: "id",\n            get: function get() {\n                return this._id;\n            }\n        },\n        {\n            key: "world",\n            get: function get() {\n                return this._world;\n            }\n        },\n        {\n            key: "state",\n            get: function get() {\n                return this._state.current;\n            }\n        },\n        {\n            /* LifeCycle methods, meant to be overridden */ // eslint-disable-next-line @typescript-eslint/no-unused-vars, no-unused-vars\n            key: "onCreate",\n            value: function onCreate(world) {\n            // abstract\n            }\n        },\n        {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars, no-unused-vars\n            key: "onDestroy",\n            value: function onDestroy(world) {\n            // abstract\n            }\n        },\n        {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars, no-unused-vars\n            key: "onComponentAdd",\n            value: function onComponentAdd(args) {\n            // abstract\n            }\n        },\n        {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars, no-unused-vars\n            key: "onTrackedComponentUpdate",\n            value: function onTrackedComponentUpdate(args) {\n            // abstract\n            }\n        },\n        {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars, no-unused-vars\n            key: "onComponentRemove",\n            value: function onComponentRemove(args) {\n            // abstract\n            }\n        },\n        {\n            /**\n   * Add a component to an Entity, doh.\n   */ key: "add",\n            value: function add(component) {\n                this._world.add(this._id, component);\n                return this;\n            }\n        },\n        {\n            /**\n   * Add a tag to a component\n   */ key: "addTag",\n            value: function addTag(tag) {\n                var entitySet = this._world.entitiesByTags.has(tag) ? this._world.entitiesByTags.get(tag) : new Set();\n                if (entitySet) {\n                    entitySet.add(this._id);\n                    this._world.entitiesByTags.set(tag, entitySet);\n                }\n                return this;\n            }\n        },\n        {\n            /**\n   * Determines if an entity has a component related to it.\n   */ key: "has",\n            value: function has(cType) {\n                var cc = this._world.componentCollections.get(this._id) || new ComponentCollection_ComponentCollection();\n                return cc.has(cType);\n            }\n        },\n        {\n            /**\n   * Check to see if an entity tagged with a given tag.\n   */ key: "hasTag",\n            value: function hasTag(tag) {\n                if (this._world.entitiesByTags.has(tag)) {\n                    var entitySet = this._world.entitiesByTags.get(tag);\n                    if (entitySet) {\n                        return entitySet.has(this._id);\n                    }\n                }\n                return false;\n            }\n        },\n        {\n            /**\n   * Get a component that belongs to an entity.\n   */ key: "get",\n            value: function get(cl) {\n                var cc = this._world.componentCollections.get(this._id) || new ComponentCollection_ComponentCollection();\n                var component = cc.get(cl);\n                return component;\n            }\n        },\n        {\n            /**\n   * Get all components that have been added to an entity, via a ComponentCollection\n   */ key: "getAll",\n            value: function getAll() {\n                return this._world.componentCollections.get(this._id) || new ComponentCollection_ComponentCollection();\n            }\n        },\n        {\n            /**\n   * Remove a component from an entity.\n   * @param cType A component class, eg MyComponent\n   */ key: "remove",\n            value: function remove(cType) {\n                this._world.remove(this._id, cType);\n                return this;\n            }\n        },\n        {\n            /**\n   * Remove a tag from an entity\n   */ key: "removeTag",\n            value: function removeTag(tag) {\n                if (this._world.entitiesByTags.has(tag)) {\n                    var entitySet = this._world.entitiesByTags.get(tag);\n                    if (entitySet) {\n                        entitySet.delete(this._id);\n                        if (entitySet.size === 0) {\n                            this._world.entitiesByTags.delete(tag);\n                        }\n                    }\n                }\n                return this;\n            }\n        },\n        {\n            /** Clears all components from an Entity */ key: "clear",\n            value: function clear() {\n                this._world.clearEntityComponents(this._id);\n                return this;\n            }\n        },\n        {\n            /**\n   * Remove all tags on an entity\n   */ key: "clearTags",\n            value: function clearTags() {\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this._world.entitiesByTags.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var _step_value = Entity_sliced_to_array(_step.value, 2), tag = _step_value[0], entitySet = _step_value[1];\n                        entitySet.delete(this._id);\n                        if (entitySet.size === 0) {\n                            this._world.entitiesByTags.delete(tag);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                return this;\n            }\n        },\n        {\n            /**\n   * Sets the state of the entity to \'created\'. that\'s it.\n   */ key: "finishCreation",\n            value: function finishCreation() {\n                this._state.next(\'created\');\n            }\n        },\n        {\n            /**\n   * Destroy an entity. Actual destruction is deferred until after the next pass of systems.\n   * This gives the systems a chance to do any cleanup that might be needed.\n   */ key: "destroy",\n            value: function destroy() {\n                // If no systems are added, the destroy immediately.\n                if (this._world.systems.compNamesBySystemName.size === 0) {\n                    this.destroyImmediately();\n                    return;\n                }\n                // Mark as "destroying" so that systems can act on it before actually being destroyed.\n                this._state.next(\'destroying\');\n            }\n        },\n        {\n            key: "destroyImmediately",\n            value: function destroyImmediately() {\n                // Right now calling before the actual destorying of the entity.\n                // Might want to change this to post destruction in the future, who knows.\n                this.onDestroy(this._world);\n                // Actually destroy entity.\n                this._world.destroyEntity(this._id); // should return an error??\n                this._state.next(\'destroyed\');\n            }\n        },\n        {\n            key: "components",\n            get: /**\n   * Get all components that have been added to an entity, via a ComponentCollection.\n   * Does the same thing as entityInstance.getAll().\n   */ function get() {\n                return this._world.componentCollections.get(this._id) || new ComponentCollection_ComponentCollection();\n            }\n        },\n        {\n            key: "tags",\n            get: /**\n   * Retrieves all the tags that have been added to this entity.\n   */ function get() {\n                var tags = new Set();\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this._world.entitiesByTags.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var _step_value = Entity_sliced_to_array(_step.value, 2), tag = _step_value[0], entitySet = _step_value[1];\n                        if (entitySet.has(this._id)) {\n                            tags.add(tag);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                return tags;\n            }\n        },\n        {\n            /**\n   * Convert Entity to a DevEntity. Very helpful in for debugging.\n   */ key: "toDevEntity",\n            value: function toDevEntity() {\n                return new src_DevEntity(this, this._world);\n            }\n        }\n    ]);\n    return Entity;\n}();\n\n\n;// CONCATENATED MODULE: ./src/DevTools.ts\nfunction DevTools_array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction DevTools_array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction DevTools_array_without_holes(arr) {\n    if (Array.isArray(arr)) return DevTools_array_like_to_array(arr);\n}\nfunction DevTools_class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction DevTools_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction DevTools_create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) DevTools_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) DevTools_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction DevTools_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction DevTools_iterable_to_array(iter) {\n    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);\n}\nfunction DevTools_iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i["return"] != null) _i["return"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction DevTools_non_iterable_rest() {\n    throw new TypeError("Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction DevTools_non_iterable_spread() {\n    throw new TypeError("Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction DevTools_sliced_to_array(arr, i) {\n    return DevTools_array_with_holes(arr) || DevTools_iterable_to_array_limit(arr, i) || DevTools_unsupported_iterable_to_array(arr, i) || DevTools_non_iterable_rest();\n}\nfunction DevTools_to_consumable_array(arr) {\n    return DevTools_array_without_holes(arr) || DevTools_iterable_to_array(arr) || DevTools_unsupported_iterable_to_array(arr) || DevTools_non_iterable_spread();\n}\nfunction DevTools_unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return DevTools_array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return DevTools_array_like_to_array(o, minLen);\n}\nvar DevTools_DevTools = /*#__PURE__*/ function() {\n    "use strict";\n    function DevTools(world) {\n        DevTools_class_call_check(this, DevTools);\n        DevTools_define_property(this, "world", void 0);\n        this.world = world;\n    }\n    DevTools_create_class(DevTools, [\n        {\n            key: "systemComponents",\n            get: /**\n   * display the all systems of the world, and the components required by each system.\n   * Super helpful to use with console.table()\n   * @example\n   * ```\n   * console.table(world.dev.systemComponents);\n   * ```\n   */ function get() {\n                var compsBySystems = [];\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this.world.systems.compNamesBySystemName[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var _step_value = DevTools_sliced_to_array(_step.value, 2), system = _step_value[0], compNames = _step_value[1];\n                        compsBySystems.push({\n                            system: system,\n                            components: compNames.join(\', \')\n                        });\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                return compsBySystems;\n            }\n        },\n        {\n            key: "entities",\n            get: /**\n   * Create an array of DevEntites. Can be very helpful for things like inspecting component state,\n   * and which systems will be called on an entity.\n   * @example\n   * ```\n   * console.table(world.dev.entities);\n   *\n   * // Pro tip! try displaying a table of entities with console.table and DevEntity.toTableRow().\n   * console.table(world.dev.entities.map(devEntity => devEntity.toTableRow()));\n   * ```\n   */ function get() {\n                return DevTools_to_consumable_array(this.world.entities.values()).map(function(e) {\n                    return e.toDevEntity();\n                });\n            }\n        }\n    ]);\n    return DevTools;\n}();\n/* ESM default export */ const src_DevTools = (DevTools_DevTools);\n\n;// CONCATENATED MODULE: ./src/Systems.ts\nfunction Systems_array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction Systems_array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction Systems_class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction Systems_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction Systems_create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) Systems_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) Systems_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction Systems_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction Systems_iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i["return"] != null) _i["return"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction Systems_non_iterable_rest() {\n    throw new TypeError("Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction Systems_sliced_to_array(arr, i) {\n    return Systems_array_with_holes(arr) || Systems_iterable_to_array_limit(arr, i) || Systems_unsupported_iterable_to_array(arr, i) || Systems_non_iterable_rest();\n}\nfunction Systems_unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return Systems_array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Systems_array_like_to_array(o, minLen);\n}\n\n\nvar Systems_Systems = /*#__PURE__*/ function() {\n    "use strict";\n    function Systems(world) {\n        Systems_class_call_check(this, Systems);\n        Systems_define_property(this, "world", void 0);\n        Systems_define_property(this, "systemFuncBySystemName", void 0); // double check to make sure that maps are ordered.\n        Systems_define_property(this, "compNamesBySystemName", void 0);\n        this.world = world;\n        this.systemFuncBySystemName = new Map();\n        this.compNamesBySystemName = new Map();\n    }\n    Systems_create_class(Systems, [\n        {\n            key: "add",\n            value: function add(cTypes, systemFunc, funcName) {\n                var cNames = cTypes.map(function(ct) {\n                    return ct.name;\n                });\n                var name = systemFunc.name;\n                if (systemFunc.name === \'\') {\n                    // Super brute force, and might lead to errors in the future, but for now\n                    // using the stringified system function if the function doesn\'t already have a name.\n                    // This is useful for anonymous functions used as a system function.\n                    // Might be good to figure out how to get a hash of the function string.\n                    name = systemFunc.toString().slice(0, 30);\n                }\n                if (funcName) {\n                    name = funcName;\n                }\n                this.systemFuncBySystemName.set(name, systemFunc);\n                this.compNamesBySystemName.set(name, cNames);\n                this.world.entitiesByCTypes.set(cNames, new Set());\n                return this;\n            }\n        },\n        {\n            key: "run",\n            value: function run() {\n                var size = this.world.entitiesByCTypes.size;\n                var entitiesInCreatingState = [];\n                var entitiesInDestroyingState = [];\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this.world.entities.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var entity = _step.value;\n                        if (entity.state === \'creating\') {\n                            entitiesInCreatingState.push(entity);\n                        }\n                        if (entity.state === \'destroying\') {\n                            entitiesInDestroyingState.push(entity);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                var _iteratorNormalCompletion1 = true, _didIteratorError1 = false, _iteratorError1 = undefined;\n                try {\n                    for(var _iterator1 = this.systemFuncBySystemName.entries()[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true){\n                        var _step_value = Systems_sliced_to_array(_step1.value, 2), funcName = _step_value[0], systemFunc = _step_value[1];\n                        var index = 0;\n                        var cNames = this.compNamesBySystemName.get(funcName) || [];\n                        var cTypeArrs = this.world.entitiesByCTypes.get(cNames) || new Set();\n                        var _iteratorNormalCompletion2 = true, _didIteratorError2 = false, _iteratorError2 = undefined;\n                        try {\n                            for(var _iterator2 = cTypeArrs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true){\n                                var eid = _step2.value;\n                                var args = {\n                                    entity: this.world.entities.get(eid) || new Entity_Entity(this.world),\n                                    components: this.world.componentCollections.get(eid) || new ComponentCollection_ComponentCollection(),\n                                    world: this.world,\n                                    index: index,\n                                    size: size,\n                                    isFirst: index === 0,\n                                    isLast: index + 1 === size\n                                };\n                                systemFunc(args);\n                                index += 1;\n                            }\n                        } catch (err) {\n                            _didIteratorError2 = true;\n                            _iteratorError2 = err;\n                        } finally{\n                            try {\n                                if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                                    _iterator2.return();\n                                }\n                            } finally{\n                                if (_didIteratorError2) {\n                                    throw _iteratorError2;\n                                }\n                            }\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError1 = true;\n                    _iteratorError1 = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion1 && _iterator1.return != null) {\n                            _iterator1.return();\n                        }\n                    } finally{\n                        if (_didIteratorError1) {\n                            throw _iteratorError1;\n                        }\n                    }\n                }\n                var _iteratorNormalCompletion3 = true, _didIteratorError3 = false, _iteratorError3 = undefined;\n                try {\n                    for(var _iterator3 = entitiesInCreatingState[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true){\n                        var entity1 = _step3.value;\n                        entity1.finishCreation();\n                    }\n                } catch (err) {\n                    _didIteratorError3 = true;\n                    _iteratorError3 = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n                            _iterator3.return();\n                        }\n                    } finally{\n                        if (_didIteratorError3) {\n                            throw _iteratorError3;\n                        }\n                    }\n                }\n                var _iteratorNormalCompletion4 = true, _didIteratorError4 = false, _iteratorError4 = undefined;\n                try {\n                    for(var _iterator4 = entitiesInDestroyingState[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true){\n                        var entity2 = _step4.value;\n                        entity2.destroyImmediately();\n                    }\n                } catch (err) {\n                    _didIteratorError4 = true;\n                    _iteratorError4 = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n                            _iterator4.return();\n                        }\n                    } finally{\n                        if (_didIteratorError4) {\n                            throw _iteratorError4;\n                        }\n                    }\n                }\n            }\n        }\n    ]);\n    return Systems;\n}();\n\n\n;// CONCATENATED MODULE: ./src/TrackedComponent.ts\nfunction TrackedComponent_array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction TrackedComponent_array_without_holes(arr) {\n    if (Array.isArray(arr)) return TrackedComponent_array_like_to_array(arr);\n}\nfunction _construct(Parent, args, Class) {\n    if (_is_native_reflect_construct()) {\n        _construct = Reflect.construct;\n    } else {\n        _construct = function construct(Parent, args, Class) {\n            var a = [\n                null\n            ];\n            a.push.apply(a, args);\n            var Constructor = Function.bind.apply(Parent, a);\n            var instance = new Constructor();\n            if (Class) _set_prototype_of(instance, Class.prototype);\n            return instance;\n        };\n    }\n    return _construct.apply(null, arguments);\n}\nfunction TrackedComponent_iterable_to_array(iter) {\n    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);\n}\nfunction TrackedComponent_non_iterable_spread() {\n    throw new TypeError("Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction _set_prototype_of(o, p) {\n    _set_prototype_of = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n    };\n    return _set_prototype_of(o, p);\n}\nfunction TrackedComponent_to_consumable_array(arr) {\n    return TrackedComponent_array_without_holes(arr) || TrackedComponent_iterable_to_array(arr) || TrackedComponent_unsupported_iterable_to_array(arr) || TrackedComponent_non_iterable_spread();\n}\nfunction TrackedComponent_unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return TrackedComponent_array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return TrackedComponent_array_like_to_array(o, minLen);\n}\nfunction _is_native_reflect_construct() {\n    try {\n        var result = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n    } catch (_) {}\n    return (_is_native_reflect_construct = function() {\n        return !!result;\n    })();\n}\n// Waiting for Typescript 4.2 to come out so that Symbols are supporded keys.\nvar TrackedCompSymbolKeys = {\n    isTracked: Symbol.for(\'ecs.trackedComponent.isTracked\'),\n    world: Symbol.for(\'ecs.trackedComponent.world\'),\n    entityIDs: Symbol.for(\'ecs.trackedComponent.entityIDs\'),\n    getEntities: Symbol.for(\'ecs.trackedComponent.getEntities\'),\n    setWorld: Symbol.for(\'ecs.trackedComponent.setWorld\'),\n    onAdd: Symbol.for(\'ecs.trackedComponent.onAdd\'),\n    onUpdate: Symbol.for(\'ecs.trackedComponent.onUpdate\'),\n    onRemove: Symbol.for(\'ecs.trackedComponent.onRemove\')\n};\n// NOTE: Really need to get symbols working as keys in Typescript.\n//       Until then will have to cast to keyof CT.\n// https://stackoverflow.com/questions/54324323/typescript-type-string-is-not-assignable-to-type-keyof\n// https://github.com/microsoft/TypeScript/pull/26797\nfunction createClassInstanceProxyHandlers(trackedEventHandlers) {\n    var updatedProps = new Set();\n    return {\n        set: function set(component, property, value) {\n            updatedProps.add(property);\n            //@ts-ignore\n            var world = component[TrackedCompSymbolKeys.world];\n            var previousVal = component[property];\n            component[property] = value;\n            //@ts-ignore\n            var entities = component[TrackedCompSymbolKeys.getEntities](world);\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(var _iterator = entities.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var entity = _step.value;\n                    entity.onTrackedComponentUpdate({\n                        world: world,\n                        component: component\n                    });\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            if (trackedEventHandlers.onUpdate) {\n                trackedEventHandlers.onUpdate({\n                    entities: entities,\n                    world: world,\n                    component: component,\n                    previousVal: previousVal,\n                    property: property\n                });\n            }\n            return true;\n        }\n    };\n}\nfunction trackComponent(CompClass, trackedEventHandlers) {\n    return new Proxy(CompClass, {\n        construct: function construct(Component, args) {\n            var component = _construct(Component, TrackedComponent_to_consumable_array(args));\n            // For use in identifing a "tracked" class through the proxy.\n            //@ts-ignore\n            component[TrackedCompSymbolKeys.isTracked] = true;\n            //@ts-ignore\n            component[TrackedCompSymbolKeys.setWorld] = function(world) {\n                //@ts-ignore\n                component[TrackedCompSymbolKeys.world] = world;\n            };\n            // Holds entities that this component has been added to.\n            // Added and removed in world.add()/world.remove().\n            //@ts-ignore\n            component[TrackedCompSymbolKeys.entityIDs] = new Set();\n            // Helper function to get the Entities from entityIDs\n            //@ts-ignore\n            component[TrackedCompSymbolKeys.getEntities] = function(world) {\n                var entities = new Map();\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    //@ts-ignore\n                    for(var _iterator = component[TrackedCompSymbolKeys.entityIDs][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var eid = _step.value;\n                        var entity = world.entities.get(eid);\n                        if (entity) {\n                            entities.set(eid, entity);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                return entities;\n            };\n            //@ts-ignore\n            component[TrackedCompSymbolKeys.onAdd] = function(world, entity) {\n                if (trackedEventHandlers.onAdd) {\n                    //@ts-ignore\n                    var entities = component[TrackedCompSymbolKeys.getEntities](world);\n                    trackedEventHandlers.onAdd({\n                        component: component,\n                        world: world,\n                        entity: entity,\n                        entities: entities\n                    });\n                }\n            };\n            //@ts-ignore\n            component[TrackedCompSymbolKeys.onRemove] = function(world, entity) {\n                if (trackedEventHandlers.onRemove) {\n                    //@ts-ignore\n                    var entities = component[TrackedCompSymbolKeys.getEntities](world);\n                    trackedEventHandlers.onRemove({\n                        component: component,\n                        world: world,\n                        entity: entity,\n                        entities: entities\n                    });\n                }\n            };\n            return new Proxy(component, createClassInstanceProxyHandlers(trackedEventHandlers));\n        }\n    });\n}\n\n;// CONCATENATED MODULE: ./src/World.ts\nfunction World_array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction World_array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction World_class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction World_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction World_create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) World_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) World_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction World_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction World_iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i["return"] != null) _i["return"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction World_non_iterable_rest() {\n    throw new TypeError("Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction World_sliced_to_array(arr, i) {\n    return World_array_with_holes(arr) || World_iterable_to_array_limit(arr, i) || World_unsupported_iterable_to_array(arr, i) || World_non_iterable_rest();\n}\nfunction World_unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return World_array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return World_array_like_to_array(o, minLen);\n}\n\n\n\n\n\nvar World_World = /*#__PURE__*/ function() {\n    "use strict";\n    function World() {\n        var _this = this;\n        World_class_call_check(this, World);\n        World_define_property(this, "componentCollections", new Map());\n        World_define_property(this, "entities", new Map());\n        World_define_property(this, "entitiesByCTypes", new Map());\n        World_define_property(this, "entitiesByTags", new Map());\n        World_define_property(this, "systems", void 0);\n        World_define_property(this, "dev", void 0);\n        /**\n   * "finds" a single entity based on a predicate\n   */ World_define_property(this, "find", function(predicate) {\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(var _iterator = _this.entities.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var entity = _step.value;\n                    if (predicate(entity)) {\n                        return entity;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            return null;\n        });\n        /**\n   * "finds" all entities based on a predicate, kinda like filter.\n   */ World_define_property(this, "findAll", function(predicate) {\n            var results = [];\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(var _iterator = _this.entities.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var entity = _step.value;\n                    if (predicate(entity)) {\n                        results.push(entity);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            return results;\n        });\n        /**\n   * "locates" a single entity based on its Components.\n   */ World_define_property(this, "locate", function(cl) {\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(var _iterator = _this.entities.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var entity = _step.value;\n                    if (entity.components.has(cl)) {\n                        return entity;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            return null;\n        });\n        /**\n   * Locates all entities that contain the components named\n   */ World_define_property(this, "locateAll", function(cl) {\n            var results = [];\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(var _iterator = _this.entities.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var entity = _step.value;\n                    if (entity.components.has(cl)) {\n                        results.push(entity);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            return results;\n        });\n        /**\n   * Grabs the first entity, and its related component, that matches the component type.\n   * @example\n   * ```\n   * const { entity, component } = world.grab(MyComponent);\n   * ```\n   */ World_define_property(this, "grab", function(cl) {\n            var entity = _this.locate(cl);\n            if (entity) {\n                var cc = _this.componentCollections.get(entity.id) || new ComponentCollection_ComponentCollection();\n                var component = cc.get(cl);\n                return {\n                    entity: entity,\n                    component: component\n                };\n            }\n            return null;\n        });\n        /**\n   * Grab single component based on component type and predicate.\n   *\n   * @example\n   * ```typescript\n   * const { entity, component } = world.grabBy(FirstComponent, (comp) => comp.id == \'awesome\')\n   * ```\n   */ World_define_property(this, "grabBy", function(cl, predicate) {\n            var entities = _this.locateAll(cl);\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                // const entities = this.locateAll((cl as unknown) as CT);\n                for(var _iterator = entities[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var entity = _step.value;\n                    var cc = _this.componentCollections.get(entity.id) || new ComponentCollection_ComponentCollection();\n                    var component = cc.get(cl);\n                    if (predicate(component)) {\n                        return {\n                            component: component,\n                            entity: entity\n                        };\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            return null;\n        });\n        /**\n   * Grab all the components primarily, and the entities if needed\n   */ World_define_property(this, "grabAll", function(cl) {\n            var entities = _this.locateAll(cl);\n            return entities.map(function(entity) {\n                return {\n                    entity: entity,\n                    component: entity.components.get(cl)\n                };\n            });\n        });\n        // TODO: Add grabAllBy method\n        /**\n   * Given an entity id and componentType, returns component\n   */ World_define_property(this, "get", function(eid, cl) {\n            var cc = _this.componentCollections.get(eid) || new ComponentCollection_ComponentCollection();\n            return cc.get(cl);\n        });\n        /**\n   * Find and get the first instance of a component, without any associated entities.\n   * Helpful is you know that only one instance of a component exists across all entities.\n   * @param cl Component Class Contructor\n   * @param defaultValue A default component instance if no components are found.\n   */ World_define_property(this, "getComponent", function(cl, defaultValue) {\n            var result = _this.grab(cl);\n            if (!result) {\n                return defaultValue ? defaultValue : null;\n            }\n            return result.component;\n        });\n        /**\n   * Get an entity that has been tagged with the given tag, or return null;\n   */ World_define_property(this, "getTagged", function(tag) {\n            var tagEntityIds = _this.entitiesByTags.get(tag);\n            if (tagEntityIds) {\n                var entityId = tagEntityIds.values().next().value;\n                if (entityId) {\n                    var entity = _this.entities.get(entityId);\n                    if (entity) {\n                        return entity;\n                    }\n                }\n            }\n            return null;\n        });\n        /**\n   * Gett all entities that have been tagged with the given tag.\n   * @param tag A string or number.\n   */ World_define_property(this, "getAllTagged", function(tag) {\n            var entities = []; // eslint-disable-line\n            var tagEntityIds = _this.entitiesByTags.get(tag);\n            if (tagEntityIds) {\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = tagEntityIds[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var entityId = _step.value;\n                        var entity = _this.entities.get(entityId);\n                        if (entity) {\n                            entities.push(entity);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n            }\n            return entities;\n        });\n        /**\n   * Add a component on the given entity\n   */ World_define_property(this, "add", function(eid, component) {\n            var cc = _this.componentCollections.get(eid) || new ComponentCollection_ComponentCollection();\n            var entity = _this.entities.get(eid);\n            if (!entity) {\n                throw new Error("world.add: Unable to locate entity with id ".concat(eid));\n            }\n            cc.add(component);\n            _this.componentCollections.set(eid, cc);\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(var _iterator = _this.entitiesByCTypes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var _step_value = World_sliced_to_array(_step.value, 2), ctArr = _step_value[0], entitySet = _step_value[1];\n                    if (ctArr.every(cc.hasByName)) {\n                        entitySet.add(eid);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            // @ts-ignore\n            if (component[TrackedCompSymbolKeys.isTracked]) {\n                // @ts-ignore\n                component[TrackedCompSymbolKeys.setWorld](_this);\n                // @ts-ignore\n                component[TrackedCompSymbolKeys.entityIDs].add(eid);\n                // @ts-ignore\n                component[TrackedCompSymbolKeys.onAdd](_this, entity);\n            }\n            entity.onComponentAdd({\n                world: _this,\n                component: component\n            });\n            return _this;\n        });\n        /**\n   * Remove a component from the given entity.\n   * NOTE: This will change what systems will be called on the entity.\n   */ World_define_property(this, "remove", function(eid, cType) {\n            var cc = _this.componentCollections.get(eid) || new ComponentCollection_ComponentCollection();\n            // need to get component instance...\n            var component = cc.get(cType);\n            // @ts-ignore\n            if (component[TrackedCompSymbolKeys.isTracked]) {\n                var entity = _this.entities.get(eid);\n                if (!entity) {\n                    throw new Error("world.remove: Unable to locate entity. eid: ".concat(eid, ", cType: ").concat(cType.name));\n                }\n                // @ts-ignore\n                component[TrackedCompSymbolKeys.entityIDs].delete(eid);\n                // @ts-ignore\n                component[TrackedCompSymbolKeys.onRemove](_this, entity);\n            }\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                // remove entity from current entitiesByCTypes\n                for(var _iterator = _this.entitiesByCTypes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var _step_value = World_sliced_to_array(_step.value, 2), ctArr = _step_value[0], entitySet = _step_value[1];\n                    if (ctArr.every(cc.hasByName)) {\n                        entitySet.delete(eid);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            cc.remove(cType);\n            var _iteratorNormalCompletion1 = true, _didIteratorError1 = false, _iteratorError1 = undefined;\n            try {\n                // Move entityId to new CTypes if needed.\n                for(var _iterator1 = _this.entitiesByCTypes[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true){\n                    var _step_value1 = World_sliced_to_array(_step1.value, 2), ctArr1 = _step_value1[0], entitySet1 = _step_value1[1];\n                    if (ctArr1.every(cc.hasByName)) {\n                        entitySet1.add(eid);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError1 = true;\n                _iteratorError1 = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion1 && _iterator1.return != null) {\n                        _iterator1.return();\n                    }\n                } finally{\n                    if (_didIteratorError1) {\n                        throw _iteratorError1;\n                    }\n                }\n            }\n            var entity1 = _this.entities.get(eid);\n            if (entity1) {\n                entity1.onComponentRemove({\n                    world: _this,\n                    component: component\n                });\n            }\n            return _this;\n        });\n        this.dev = new src_DevTools(this);\n        this.systems = new Systems_Systems(this);\n    }\n    World_create_class(World, [\n        {\n            /**\n   * Method for adding systems.\n   */ key: "addSystem",\n            value: function addSystem(cTypes, systemFunc, funcName) {\n                this.systems.add(cTypes, systemFunc, funcName);\n                return this;\n            }\n        },\n        {\n            /**\n   * Setup an entity to exist in the given world. This is mostly an internal method, but exposed just in case.\n   */ key: "registerEntity",\n            value: function registerEntity(entity) {\n                var cc = new ComponentCollection_ComponentCollection();\n                this.componentCollections.set(entity.id, cc);\n                this.entities.set(entity.id, entity);\n                entity.onCreate(this);\n                return this;\n            }\n        },\n        {\n            /**\n   * Remove all components that belong to an entity.\n   */ key: "clearEntityComponents",\n            value: function clearEntityComponents(entityId) {\n                this.componentCollections.set(entityId, new ComponentCollection_ComponentCollection());\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this.entitiesByCTypes.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var entitySet = _step.value;\n                        if (entitySet.has(entityId)) {\n                            entitySet.delete(entityId);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                return this;\n            }\n        },\n        {\n            /**\n   * Create an entity that is in the world.\n   * Basically just new Entity(world), but saves an import of Entity.\n   */ key: "createEntity",\n            value: function createEntity() {\n                var entity = new Entity_Entity(this);\n                return entity;\n            // Register entity here....\n            }\n        },\n        {\n            /**\n   * Destroys an entity.\n   * Same as entity.destroy().\n   */ key: "destroyEntity",\n            value: function destroyEntity(entityId) {\n                this.componentCollections.delete(entityId);\n                var entity = this.entities.get(entityId);\n                if (!entity) {\n                    throw new Error("world.destroyEntity: No entity found. entity id: ".concat(entityId));\n                }\n                this.entities.delete(entityId);\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this.entitiesByCTypes.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var entitySet = _step.value;\n                        if (entitySet.has(entityId)) {\n                            entitySet.delete(entityId);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                var _iteratorNormalCompletion1 = true, _didIteratorError1 = false, _iteratorError1 = undefined;\n                try {\n                    // remove any tag associations with destroyed entities.\n                    for(var _iterator1 = this.entitiesByTags[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true){\n                        var _step_value = World_sliced_to_array(_step1.value, 2), tag = _step_value[0], entitySet1 = _step_value[1];\n                        if (entitySet1.has(entityId)) {\n                            entitySet1.delete(entityId);\n                        }\n                        if (entitySet1.size === 0) {\n                            this.entitiesByTags.delete(tag);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError1 = true;\n                    _iteratorError1 = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion1 && _iterator1.return != null) {\n                            _iterator1.return();\n                        }\n                    } finally{\n                        if (_didIteratorError1) {\n                            throw _iteratorError1;\n                        }\n                    }\n                }\n                return this;\n            }\n        }\n    ]);\n    return World;\n}();\n\n\n;// CONCATENATED MODULE: ./src/index.ts\n\n\n\n\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbHRpbjpzd2MtbG9hZGVyPz9ydWxlU2V0WzFdLnJ1bGVzWzBdLnVzZVswXSEvVXNlcnMvYnJvY2gvcmVwb3MvZWNzdGF0aWMvc3JjL2luZGV4LnRzfDFmZjliYmFmZWY4ZmNlMzM2YWQzNTNjNzQ1YzMyODhjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcz83NjU4Iiwid2VicGFjazovL2Vjc3RhdGljLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcz80MjU1Iiwid2VicGFjazovL2Vjc3RhdGljLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92YWxpZGF0ZS5qcz8zYzNjIiwid2VicGFjazovL2Vjc3RhdGljLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanM/OWJjNyIsIndlYnBhY2s6Ly9lY3N0YXRpYy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjQuanM/ZTU3MCIsIndlYnBhY2s6Ly9lY3N0YXRpYy8uL3NyYy9ndWFyZHMudHM/Yjk2OCIsIndlYnBhY2s6Ly9lY3N0YXRpYy8uL3NyYy9Db21wb25lbnRDb2xsZWN0aW9uLnRzP2RlMzQiLCJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9zcmMvRGV2RW50aXR5LnRzP2ZmYzMiLCJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9zcmMvU2ltcGxlRlNNLnRzPzNiM2QiLCJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9zcmMvRW50aXR5LnRzPzg3NTUiLCJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9zcmMvRGV2VG9vbHMudHM/NjQ0ZSIsIndlYnBhY2s6Ly9lY3N0YXRpYy8uL3NyYy9TeXN0ZW1zLnRzPzJiNzAiLCJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9zcmMvVHJhY2tlZENvbXBvbmVudC50cz8xMDczIiwid2VicGFjazovL2Vjc3RhdGljLy4vc3JjL1dvcmxkLnRzP2VjOTYiLCJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9zcmMvaW5kZXgudHM/OGNjNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiBJbiB0aGUgYnJvd3NlciB3ZSB0aGVyZWZvcmVcbi8vIHJlcXVpcmUgdGhlIGNyeXB0byBBUEkgYW5kIGRvIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGZhbGxiYWNrIHRvIGxvd2VyIHF1YWxpdHkgcmFuZG9tIG51bWJlclxuLy8gZ2VuZXJhdG9ycyAobGlrZSBNYXRoLnJhbmRvbSgpKS5cbnZhciBnZXRSYW5kb21WYWx1ZXM7XG52YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIC8vIGxhenkgbG9hZCBzbyB0aGF0IGVudmlyb25tZW50cyB0aGF0IG5lZWQgdG8gcG9seWZpbGwgaGF2ZSBhIGNoYW5jZSB0byBkbyBzb1xuICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0byBpbXBsZW1lbnRhdGlvbi4gQWxzbyxcbiAgICAvLyBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gKG1zQ3J5cHRvKSBvbiBJRTExLlxuICAgIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykgfHwgdHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgL14oPzpbMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pOyIsImltcG9ydCBSRUdFWCBmcm9tICcuL3JlZ2V4LmpzJztcblxuZnVuY3Rpb24gdmFsaWRhdGUodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIpIHtcbiAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHZhciB1dWlkID0gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdpZnkocm5kcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHY0OyIsImV4cG9ydCBmdW5jdGlvbiBpc0NvbXBvbmVudEluc3RhbmNlPFQ+KFxuICBDbGFzczogbmV3ICguLi5hcmdzOiBhbnkpID0+IFQsXG4gIGNvbXA6IGFueVxuKTogY29tcCBpcyBJbnN0YW5jZVR5cGU8dHlwZW9mIENsYXNzPiB7XG4gIGlmICghY29tcCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghKGNvbXAgaW5zdGFuY2VvZiBDbGFzcykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmltcG9ydCB7IGlzQ29tcG9uZW50SW5zdGFuY2UgfSBmcm9tICcuL2d1YXJkcyc7XG5cbnR5cGUgQ29tcE5hbWUgPSBzdHJpbmc7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbnR5cGUgQ2xhc3NDb25zdHJ1Y3RvcjxUPiA9IHsgbmV3ICguLi5hcmdzOiBhbnlbXSk6IFQgfTtcblxuLy8gQ1QgaXMgYSBVbmlvbiwgbGlrZSBgdHlwZSA9IEZpcnN0Q29tcG9uZW50IHwgU2Vjb25kQ29tcG9uZW50YC5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvbmVudENvbGxlY3Rpb248Q1Q+IHtcbiAgY29tcG9uZW50czogTWFwPENvbXBOYW1lLCBDVD4gPSBuZXcgTWFwKCk7XG5cbiAgLy8gaW5zdGFuY2Ugb2YgYSBjb21wb25lbnRcbiAgYWRkID0gKGNvbXBvbmVudDogQ1QpOiB2b2lkID0+IHtcbiAgICB0aGlzLmNvbXBvbmVudHMuc2V0KCg8YW55PmNvbXBvbmVudCkuY29uc3RydWN0b3IubmFtZSwgY29tcG9uZW50KTtcbiAgfTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgdXBkYXRlID0gPFQgZXh0ZW5kcyBDVD4oY2w6IENsYXNzQ29uc3RydWN0b3I8VD4sIGZ1bmM6IChjOiBUKSA9PiBUKTogdm9pZCA9PiB7XG4gICAgY29uc3QgYyA9IHRoaXMuY29tcG9uZW50cy5nZXQoY2wubmFtZSk7XG5cbiAgICBpZiAoaXNDb21wb25lbnRJbnN0YW5jZShjbCwgYykpIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRDb21wb25lbnQgPSBmdW5jKGMpO1xuICAgICAgdGhpcy5jb21wb25lbnRzLnNldChjbC5uYW1lLCB1cGRhdGVkQ29tcG9uZW50KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGNvbXBvbmVudC5cbiAgICogQHBhcmFtIGNUeXBlIENsYXNzIG9mIGNvbXBvbmVudCB0byByZW1vdmUuXG4gICAqL1xuICByZW1vdmUgPSAoY1R5cGU6IENsYXNzQ29uc3RydWN0b3I8Q1Q+KTogdm9pZCA9PiB7XG4gICAgdGhpcy5jb21wb25lbnRzLmRlbGV0ZShjVHlwZS5uYW1lKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IGEgY29tcG9uZW50IHRoYXQgbWF0Y2hlcyB0aGUgcGFzc2VkIGNsYXNzLlxuICAgKiBXaWxsIHRocm93IGFuIGVycm9yIGlmIGFuIGluc3RhbmNlIG9mIHRoZSBnaXZlbiBjb21wb25lbnRcbiAgICogZG9lc24ndCBleGlzdCBpbiB0aGUgY29sbGVjdGlvbiwgc28gaWYgeW91IGRvbid0IGtub3cgaWYgaXQncyBzYWZlXG4gICAqIHRvIGdldCBhIGNvbXBvbmVudCwgeW91IHNob3VsZCB0ZXN0IHdpdGggaGFzKCkgb3IgaGFzQnlOYW1lKCkgZmlyc3QuXG4gICAqIFlvdSBoYXZlIGJlZW4gd2FybmVkLlxuICAgKiBAcGFyYW0gY2wgY29tcG9uZW50IENsYXNzIHJlZmVyZW5jZS5cbiAgICovXG4gIGdldCA9IDxUIGV4dGVuZHMgQ1Q+KGNsOiBDbGFzc0NvbnN0cnVjdG9yPFQ+KTogVCA9PiB7XG4gICAgY29uc3QgY29tcCA9IHRoaXMuY29tcG9uZW50cy5nZXQoY2wubmFtZSk7XG5cbiAgICBpZiAoaXNDb21wb25lbnRJbnN0YW5jZTxUPihjbCwgY29tcCkpIHtcbiAgICAgIHJldHVybiBjb21wO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBDb21wb25lbnRDb2xsZWN0aW9uIGRvZXMgbm90IGhhdmUgY29tcG9uZW50IG9mIHR5cGUgJHtjbC5uYW1lfWBcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBUZXN0IHRvIHNlZSBpZiB0aGUgY29sbGVjdGlvbiBjb250YWlucyBhIHNwZWNpZmljIENsYXNzIG9yIENsYXNzZXMuXG4gICAqIEBwYXJhbSBjVHlwZSBjb21wb25lbnQgQ2xhc3MsIG9yIGFycmF5IG9mIGNvbXBvbmVudCBDbGFzc2VzLlxuICAgKi9cbiAgaGFzID0gKGNUeXBlOiBDbGFzc0NvbnN0cnVjdG9yPENUPiB8IENsYXNzQ29uc3RydWN0b3I8Q1Q+W10pOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShjVHlwZSlcbiAgICAgID8gY1R5cGUuZXZlcnkoY3QgPT4gdGhpcy5jb21wb25lbnRzLmhhcyhjdC5uYW1lKSA9PT0gdHJ1ZSlcbiAgICAgIDogdGhpcy5jb21wb25lbnRzLmhhcyhjVHlwZS5uYW1lKTtcbiAgfTtcblxuICAvKipcbiAgICogVGVzdCB0byBzZWUgaWYgdGhlIGNvbGxlY3Rpb24gaGFzIGEgY29tcG9uZW50IGluc3RhbmNlIGJhc2VkIG9uIGFcbiAgICogY2xhc3MgbmFtZS4gU29tZSBidWlsZCBzdGVwcy9taW5pZmllcnMgd2lsbCBjaGFuZ2UgdGhlIG5hbWUgb2YgQ2xhc3NlcyxcbiAgICogc28gaXQncyB1c3VhbGx5IGJlc3QgdG8gcGFzcyBpbiBhIE15Q2xhc3MubmFtZSBpbnN0ZWFkIG9mICdNeUNsYXNzJy5cbiAgICogQHBhcmFtIGNOYW1lIFRoZSBuYW1lIG9mIGEgQ2xhc3MsIG9yIGFycmF5IG9mIENsYXNzIG5hbWVzLlxuICAgKi9cbiAgaGFzQnlOYW1lID0gKGNOYW1lOiBzdHJpbmcgfCBzdHJpbmdbXSk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGNOYW1lKVxuICAgICAgPyBjTmFtZS5ldmVyeShjdCA9PiB0aGlzLmNvbXBvbmVudHMuaGFzKGN0KSA9PT0gdHJ1ZSlcbiAgICAgIDogdGhpcy5jb21wb25lbnRzLmhhcyhjTmFtZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29tcG9uZW50IHR5cGUgbmFtZXMgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIHVzZWQgaW4gdGhlIGNvbGxlY3Rpb24uXG4gICAqL1xuICBnZXQgY29tcG9uZW50VHlwZXMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBbLi4udGhpcy5jb21wb25lbnRzLmtleXMoKV07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IG51bWJlciBvZiBjb21wb25lbnRzIHRoYXQgYXJlIGluIHRoZSBjb2xsZWN0aW9uLlxuICAgKi9cbiAgZ2V0IHNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnRzLnNpemU7XG4gIH1cblxuICB0b0RldkNvbXBvbmVudHMoKTogUmVjb3JkPHN0cmluZywgQ1Q+IHtcbiAgICBjb25zdCBvYmo6IFJlY29yZDxzdHJpbmcsIENUPiA9IHt9O1xuICAgIGZvciAoY29uc3QgW2NvbXBOYW1lLCBjb21wXSBvZiB0aGlzLmNvbXBvbmVudHMpIHtcbiAgICAgIG9ialtjb21wTmFtZV0gPSBjb21wO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cbn1cbiIsImltcG9ydCB7IEVudGl0eVN0YXRlIH0gZnJvbSAnZWNzdGF0aWMnO1xuXG5pbXBvcnQgV29ybGQgZnJvbSAnLi9Xb3JsZCc7XG5pbXBvcnQgRW50aXR5IGZyb20gJy4vRW50aXR5JztcbmltcG9ydCB7IFRhZyB9IGZyb20gJy4vVGFnJztcblxuaW50ZXJmYWNlIERldkVudGl0eVRhYmxlUm93IHtcbiAgaWQ6IHN0cmluZztcbiAgY29tcG9uZW50czogc3RyaW5nO1xuICB0YWdzOiBzdHJpbmc7XG4gIHN5c3RlbXM6IHN0cmluZztcbn1cblxuY2xhc3MgRGV2RW50aXR5PENUPiB7XG4gIGlkOiBzdHJpbmc7XG5cbiAgY29tcG9uZW50czogUmVjb3JkPHN0cmluZywgQ1Q+O1xuXG4gIHRhZ3M6IFRhZ1tdO1xuXG4gIHN5c3RlbXM6IHN0cmluZ1tdID0gW107XG5cbiAgc3RhdGU6IEVudGl0eVN0YXRlO1xuXG4gIGNvbnN0cnVjdG9yKGVudGl0eTogRW50aXR5PENUPiwgd29ybGQ6IFdvcmxkPENUPikge1xuICAgIHRoaXMuaWQgPSBlbnRpdHkuaWQ7XG4gICAgKCh0aGlzLmNvbXBvbmVudHMgPSBlbnRpdHkuY29tcG9uZW50cy50b0RldkNvbXBvbmVudHMoKSksXG4gICAgICAodGhpcy50YWdzID0gWy4uLmVudGl0eS50YWdzXSkpO1xuICAgIHRoaXMuc3RhdGUgPSBlbnRpdHkuc3RhdGU7XG5cbiAgICBjb25zdCBjb21wTmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLmNvbXBvbmVudHMpO1xuXG4gICAgZm9yIChjb25zdCBbc3lzdGVtTmFtZSwgY05hbWVzXSBvZiB3b3JsZC5zeXN0ZW1zLmNvbXBOYW1lc0J5U3lzdGVtTmFtZSkge1xuICAgICAgaWYgKGNOYW1lcy5ldmVyeShjTmFtZSA9PiBjb21wTmFtZXMuaW5jbHVkZXMoY05hbWUpKSkge1xuICAgICAgICB0aGlzLnN5c3RlbXMucHVzaChzeXN0ZW1OYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0b1RhYmxlUm93KCk6IERldkVudGl0eVRhYmxlUm93IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBjb21wb25lbnRzOiBPYmplY3Qua2V5cyh0aGlzLmNvbXBvbmVudHMpLmpvaW4oJywgJyksXG4gICAgICB0YWdzOiB0aGlzLnRhZ3Muam9pbignLCAnKSxcbiAgICAgIHN5c3RlbXM6IHRoaXMuc3lzdGVtcy5qb2luKCcsICcpLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGV2RW50aXR5O1xuIiwiZXhwb3J0IHR5cGUgU3RhdGUgPSBzdHJpbmcgfCBudW1iZXIgfCBzeW1ib2w7XG5cbmV4cG9ydCB0eXBlIFRyYW5zaXRpb25zPFMgZXh0ZW5kcyBTdGF0ZSwgRCA9IHVuZGVmaW5lZD4gPSBSZWNvcmQ8XG4gIFMsXG4gIChkYXRhOiBELCBjdXJyZW50OiBTKSA9PiBTXG4+O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaW1wbGVGU008UyBleHRlbmRzIFN0YXRlLCBEID0gdW5kZWZpbmVkPiB7XG4gIGN1cnJlbnQ6IFM7XG5cbiAgaW5pdGFsOiBTO1xuXG4gIHRyYW5zaXRpb25zOiBUcmFuc2l0aW9uczxTLCBEPjtcblxuICBjb25zdHJ1Y3Rvcihpbml0aWFsU3RhdGU6IFMsIHRyYW5zaXRpb25zOiBUcmFuc2l0aW9uczxTLCBEPikge1xuICAgIHRoaXMuaW5pdGFsID0gaW5pdGlhbFN0YXRlO1xuICAgIHRoaXMuY3VycmVudCA9IGluaXRpYWxTdGF0ZTtcbiAgICB0aGlzLnRyYW5zaXRpb25zID0gdHJhbnNpdGlvbnM7XG4gIH1cblxuICBuZXh0KGRhdGE6IEQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uc1t0aGlzLmN1cnJlbnRdKSB7XG4gICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnRyYW5zaXRpb25zW3RoaXMuY3VycmVudF0oZGF0YSwgdGhpcy5jdXJyZW50KTtcbiAgICB9XG4gIH1cblxuICByZXNldCgpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmluaXRhbDtcbiAgfVxuXG4gIGlzKGNoZWNrU3RhdGU6IFMpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50ID09PSBjaGVja1N0YXRlO1xuICB9XG59XG4iLCJpbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcblxuaW1wb3J0IFdvcmxkLCB7IENsYXNzQ29uc3RydWN0b3IgfSBmcm9tICcuL1dvcmxkJztcbmltcG9ydCBDb21wb25lbnRDb2xsZWN0aW9uIGZyb20gJy4vQ29tcG9uZW50Q29sbGVjdGlvbic7XG5pbXBvcnQgeyBUYWcgfSBmcm9tICcuL1RhZyc7XG5pbXBvcnQgRGV2RW50aXR5IGZyb20gJy4vRGV2RW50aXR5JztcbmltcG9ydCBTaW1wbGVGU00gZnJvbSAnLi9TaW1wbGVGU00nO1xuXG5leHBvcnQgdHlwZSBFbnRpdHlJZCA9IHN0cmluZztcblxuZXhwb3J0IHR5cGUgRW50aXR5U3RhdGUgPVxuICB8ICdjcmVhdGluZydcbiAgfCAnY3JlYXRlZCdcbiAgfCAnZGVzdHJveWluZydcbiAgfCAnZGVzdHJveWVkJ1xuICB8ICdlcnJvcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW50aXR5Q29tcEV2ZW50QXJnczxDVD4ge1xuICB3b3JsZDogV29ybGQ8Q1Q+O1xuICBjb21wb25lbnQ6IENUO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRpdHk8Q1Q+IHtcbiAgcHJpdmF0ZSBfaWQ6IHN0cmluZztcbiAgcHJpdmF0ZSBfd29ybGQ6IFdvcmxkPENUPjtcblxuICBwcml2YXRlIF9lcnJvcjogRXJyb3IgfCBudWxsO1xuXG4gIHByaXZhdGUgX3N0YXRlOiBTaW1wbGVGU008RW50aXR5U3RhdGUsIEVudGl0eVN0YXRlPjtcblxuICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cblxuICBnZXQgd29ybGQoKTogV29ybGQ8Q1Q+IHtcbiAgICByZXR1cm4gdGhpcy5fd29ybGQ7XG4gIH1cblxuICBnZXQgc3RhdGUoKTogRW50aXR5U3RhdGUge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZS5jdXJyZW50O1xuICB9XG5cbiAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkPENUPikge1xuICAgIHRoaXMuX2lkID0gdXVpZHY0KCk7XG4gICAgdGhpcy5fd29ybGQgPSB3b3JsZDtcblxuICAgIHRoaXMuX2Vycm9yID0gbnVsbDtcblxuICAgIGNvbnN0IGZzbVRyYW5zaXRpb24gPSAobnM6IEVudGl0eVN0YXRlKTogRW50aXR5U3RhdGUgPT4ge1xuICAgICAgaWYgKG5zID09PSAnZXJyb3InIHx8IHRoaXMuX2Vycm9yKSByZXR1cm4gJ2Vycm9yJztcbiAgICAgIHJldHVybiBucztcbiAgICB9O1xuXG4gICAgdGhpcy5fc3RhdGUgPSBuZXcgU2ltcGxlRlNNPEVudGl0eVN0YXRlLCBFbnRpdHlTdGF0ZT4oJ2NyZWF0aW5nJywge1xuICAgICAgY3JlYXRpbmc6IGZzbVRyYW5zaXRpb24sXG4gICAgICBjcmVhdGVkOiBmc21UcmFuc2l0aW9uLFxuICAgICAgZGVzdHJveWluZzogZnNtVHJhbnNpdGlvbixcbiAgICAgIGRlc3Ryb3llZDogKCkgPT4gJ2Rlc3Ryb3llZCcsXG4gICAgICBlcnJvcjogKCkgPT4gJ2Vycm9yJyxcbiAgICB9KTtcblxuICAgIC8qXG4gICAgUmVnaXN0ZXJpbmcgd2l0aCB0aGUgV29ybGQuXG4gICAgKi9cbiAgICB0aGlzLl93b3JsZC5yZWdpc3RlckVudGl0eSh0aGlzKTtcblxuICAgIGlmICh0aGlzLl93b3JsZC5zeXN0ZW1zLmNvbXBOYW1lc0J5U3lzdGVtTmFtZS5zaXplID09PSAwKSB7XG4gICAgICB0aGlzLl9zdGF0ZS5uZXh0KCdjcmVhdGVkJyk7XG4gICAgfVxuICB9XG5cbiAgLyogTGlmZUN5Y2xlIG1ldGhvZHMsIG1lYW50IHRvIGJlIG92ZXJyaWRkZW4gKi9cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzLCBuby11bnVzZWQtdmFyc1xuICBvbkNyZWF0ZSh3b3JsZDogV29ybGQ8Q1Q+KTogdm9pZCB7XG4gICAgLy8gYWJzdHJhY3RcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMsIG5vLXVudXNlZC12YXJzXG4gIG9uRGVzdHJveSh3b3JsZDogV29ybGQ8Q1Q+KTogdm9pZCB7XG4gICAgLy8gYWJzdHJhY3RcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMsIG5vLXVudXNlZC12YXJzXG4gIG9uQ29tcG9uZW50QWRkKGFyZ3M6IEVudGl0eUNvbXBFdmVudEFyZ3M8Q1Q+KTogdm9pZCB7XG4gICAgLy8gYWJzdHJhY3RcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMsIG5vLXVudXNlZC12YXJzXG4gIG9uVHJhY2tlZENvbXBvbmVudFVwZGF0ZShhcmdzOiBFbnRpdHlDb21wRXZlbnRBcmdzPENUPik6IHZvaWQge1xuICAgIC8vIGFic3RyYWN0XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzLCBuby11bnVzZWQtdmFyc1xuICBvbkNvbXBvbmVudFJlbW92ZShhcmdzOiBFbnRpdHlDb21wRXZlbnRBcmdzPENUPik6IHZvaWQge1xuICAgIC8vIGFic3RyYWN0XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgY29tcG9uZW50IHRvIGFuIEVudGl0eSwgZG9oLlxuICAgKi9cbiAgYWRkPFQgZXh0ZW5kcyBDVD4oY29tcG9uZW50OiBUKTogdGhpcyB7XG4gICAgdGhpcy5fd29ybGQuYWRkKHRoaXMuX2lkLCBjb21wb25lbnQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgdGFnIHRvIGEgY29tcG9uZW50XG4gICAqL1xuICBhZGRUYWcodGFnOiBUYWcpOiB0aGlzIHtcbiAgICBjb25zdCBlbnRpdHlTZXQgPSB0aGlzLl93b3JsZC5lbnRpdGllc0J5VGFncy5oYXModGFnKVxuICAgICAgPyB0aGlzLl93b3JsZC5lbnRpdGllc0J5VGFncy5nZXQodGFnKVxuICAgICAgOiBuZXcgU2V0PEVudGl0eUlkPigpO1xuXG4gICAgaWYgKGVudGl0eVNldCkge1xuICAgICAgZW50aXR5U2V0LmFkZCh0aGlzLl9pZCk7XG4gICAgICB0aGlzLl93b3JsZC5lbnRpdGllc0J5VGFncy5zZXQodGFnLCBlbnRpdHlTZXQpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgYW4gZW50aXR5IGhhcyBhIGNvbXBvbmVudCByZWxhdGVkIHRvIGl0LlxuICAgKi9cbiAgaGFzPFQgZXh0ZW5kcyBDVD4oY1R5cGU6IENsYXNzQ29uc3RydWN0b3I8VD4pOiBib29sZWFuIHtcbiAgICBjb25zdCBjYyA9XG4gICAgICB0aGlzLl93b3JsZC5jb21wb25lbnRDb2xsZWN0aW9ucy5nZXQodGhpcy5faWQpIHx8XG4gICAgICBuZXcgQ29tcG9uZW50Q29sbGVjdGlvbjxDVD4oKTtcblxuICAgIHJldHVybiBjYy5oYXMoY1R5cGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHRvIHNlZSBpZiBhbiBlbnRpdHkgdGFnZ2VkIHdpdGggYSBnaXZlbiB0YWcuXG4gICAqL1xuICBoYXNUYWcodGFnOiBUYWcpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5fd29ybGQuZW50aXRpZXNCeVRhZ3MuaGFzKHRhZykpIHtcbiAgICAgIGNvbnN0IGVudGl0eVNldCA9IHRoaXMuX3dvcmxkLmVudGl0aWVzQnlUYWdzLmdldCh0YWcpO1xuICAgICAgaWYgKGVudGl0eVNldCkge1xuICAgICAgICByZXR1cm4gZW50aXR5U2V0Lmhhcyh0aGlzLl9pZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIGNvbXBvbmVudCB0aGF0IGJlbG9uZ3MgdG8gYW4gZW50aXR5LlxuICAgKi9cbiAgZ2V0PFQgZXh0ZW5kcyBDVD4oY2w6IENsYXNzQ29uc3RydWN0b3I8VD4pOiBUIHtcbiAgICBjb25zdCBjYyA9XG4gICAgICB0aGlzLl93b3JsZC5jb21wb25lbnRDb2xsZWN0aW9ucy5nZXQodGhpcy5faWQpIHx8XG4gICAgICBuZXcgQ29tcG9uZW50Q29sbGVjdGlvbjxDVD4oKTtcblxuICAgIGNvbnN0IGNvbXBvbmVudCA9IGNjLmdldDxUPihjbCk7XG5cbiAgICByZXR1cm4gY29tcG9uZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgY29tcG9uZW50cyB0aGF0IGhhdmUgYmVlbiBhZGRlZCB0byBhbiBlbnRpdHksIHZpYSBhIENvbXBvbmVudENvbGxlY3Rpb25cbiAgICovXG4gIGdldEFsbCgpOiBDb21wb25lbnRDb2xsZWN0aW9uPENUPiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX3dvcmxkLmNvbXBvbmVudENvbGxlY3Rpb25zLmdldCh0aGlzLl9pZCkgfHxcbiAgICAgIG5ldyBDb21wb25lbnRDb2xsZWN0aW9uPENUPigpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBjb21wb25lbnQgZnJvbSBhbiBlbnRpdHkuXG4gICAqIEBwYXJhbSBjVHlwZSBBIGNvbXBvbmVudCBjbGFzcywgZWcgTXlDb21wb25lbnRcbiAgICovXG4gIHJlbW92ZShjVHlwZTogQ2xhc3NDb25zdHJ1Y3RvcjxDVD4pOiB0aGlzIHtcbiAgICB0aGlzLl93b3JsZC5yZW1vdmUodGhpcy5faWQsIGNUeXBlKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHRhZyBmcm9tIGFuIGVudGl0eVxuICAgKi9cbiAgcmVtb3ZlVGFnKHRhZzogVGFnKTogdGhpcyB7XG4gICAgaWYgKHRoaXMuX3dvcmxkLmVudGl0aWVzQnlUYWdzLmhhcyh0YWcpKSB7XG4gICAgICBjb25zdCBlbnRpdHlTZXQgPSB0aGlzLl93b3JsZC5lbnRpdGllc0J5VGFncy5nZXQodGFnKTtcblxuICAgICAgaWYgKGVudGl0eVNldCkge1xuICAgICAgICBlbnRpdHlTZXQuZGVsZXRlKHRoaXMuX2lkKTtcblxuICAgICAgICBpZiAoZW50aXR5U2V0LnNpemUgPT09IDApIHtcbiAgICAgICAgICB0aGlzLl93b3JsZC5lbnRpdGllc0J5VGFncy5kZWxldGUodGFnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKiBDbGVhcnMgYWxsIGNvbXBvbmVudHMgZnJvbSBhbiBFbnRpdHkgKi9cbiAgY2xlYXIoKTogdGhpcyB7XG4gICAgdGhpcy5fd29ybGQuY2xlYXJFbnRpdHlDb21wb25lbnRzKHRoaXMuX2lkKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgdGFncyBvbiBhbiBlbnRpdHlcbiAgICovXG4gIGNsZWFyVGFncygpOiB0aGlzIHtcbiAgICBmb3IgKGNvbnN0IFt0YWcsIGVudGl0eVNldF0gb2YgdGhpcy5fd29ybGQuZW50aXRpZXNCeVRhZ3MuZW50cmllcygpKSB7XG4gICAgICBlbnRpdHlTZXQuZGVsZXRlKHRoaXMuX2lkKTtcblxuICAgICAgaWYgKGVudGl0eVNldC5zaXplID09PSAwKSB7XG4gICAgICAgIHRoaXMuX3dvcmxkLmVudGl0aWVzQnlUYWdzLmRlbGV0ZSh0YWcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHN0YXRlIG9mIHRoZSBlbnRpdHkgdG8gJ2NyZWF0ZWQnLiB0aGF0J3MgaXQuXG4gICAqL1xuICBmaW5pc2hDcmVhdGlvbigpOiB2b2lkIHtcbiAgICB0aGlzLl9zdGF0ZS5uZXh0KCdjcmVhdGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBhbiBlbnRpdHkuIEFjdHVhbCBkZXN0cnVjdGlvbiBpcyBkZWZlcnJlZCB1bnRpbCBhZnRlciB0aGUgbmV4dCBwYXNzIG9mIHN5c3RlbXMuXG4gICAqIFRoaXMgZ2l2ZXMgdGhlIHN5c3RlbXMgYSBjaGFuY2UgdG8gZG8gYW55IGNsZWFudXAgdGhhdCBtaWdodCBiZSBuZWVkZWQuXG4gICAqL1xuICBkZXN0cm95KCk6IHZvaWQge1xuICAgIC8vIElmIG5vIHN5c3RlbXMgYXJlIGFkZGVkLCB0aGUgZGVzdHJveSBpbW1lZGlhdGVseS5cbiAgICBpZiAodGhpcy5fd29ybGQuc3lzdGVtcy5jb21wTmFtZXNCeVN5c3RlbU5hbWUuc2l6ZSA9PT0gMCkge1xuICAgICAgdGhpcy5kZXN0cm95SW1tZWRpYXRlbHkoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBNYXJrIGFzIFwiZGVzdHJveWluZ1wiIHNvIHRoYXQgc3lzdGVtcyBjYW4gYWN0IG9uIGl0IGJlZm9yZSBhY3R1YWxseSBiZWluZyBkZXN0cm95ZWQuXG4gICAgdGhpcy5fc3RhdGUubmV4dCgnZGVzdHJveWluZycpO1xuICB9XG5cbiAgZGVzdHJveUltbWVkaWF0ZWx5KCk6IHZvaWQge1xuICAgIC8vIFJpZ2h0IG5vdyBjYWxsaW5nIGJlZm9yZSB0aGUgYWN0dWFsIGRlc3Rvcnlpbmcgb2YgdGhlIGVudGl0eS5cbiAgICAvLyBNaWdodCB3YW50IHRvIGNoYW5nZSB0aGlzIHRvIHBvc3QgZGVzdHJ1Y3Rpb24gaW4gdGhlIGZ1dHVyZSwgd2hvIGtub3dzLlxuICAgIHRoaXMub25EZXN0cm95KHRoaXMuX3dvcmxkKTtcblxuICAgIC8vIEFjdHVhbGx5IGRlc3Ryb3kgZW50aXR5LlxuICAgIHRoaXMuX3dvcmxkLmRlc3Ryb3lFbnRpdHkodGhpcy5faWQpOyAvLyBzaG91bGQgcmV0dXJuIGFuIGVycm9yPz9cblxuICAgIHRoaXMuX3N0YXRlLm5leHQoJ2Rlc3Ryb3llZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgY29tcG9uZW50cyB0aGF0IGhhdmUgYmVlbiBhZGRlZCB0byBhbiBlbnRpdHksIHZpYSBhIENvbXBvbmVudENvbGxlY3Rpb24uXG4gICAqIERvZXMgdGhlIHNhbWUgdGhpbmcgYXMgZW50aXR5SW5zdGFuY2UuZ2V0QWxsKCkuXG4gICAqL1xuICBnZXQgY29tcG9uZW50cygpOiBDb21wb25lbnRDb2xsZWN0aW9uPENUPiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX3dvcmxkLmNvbXBvbmVudENvbGxlY3Rpb25zLmdldCh0aGlzLl9pZCkgfHxcbiAgICAgIG5ldyBDb21wb25lbnRDb2xsZWN0aW9uPENUPigpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYWxsIHRoZSB0YWdzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoaXMgZW50aXR5LlxuICAgKi9cbiAgZ2V0IHRhZ3MoKTogU2V0PFRhZz4ge1xuICAgIGNvbnN0IHRhZ3MgPSBuZXcgU2V0PFRhZz4oKTtcbiAgICBmb3IgKGNvbnN0IFt0YWcsIGVudGl0eVNldF0gb2YgdGhpcy5fd29ybGQuZW50aXRpZXNCeVRhZ3MuZW50cmllcygpKSB7XG4gICAgICBpZiAoZW50aXR5U2V0Lmhhcyh0aGlzLl9pZCkpIHtcbiAgICAgICAgdGFncy5hZGQodGFnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFncztcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IEVudGl0eSB0byBhIERldkVudGl0eS4gVmVyeSBoZWxwZnVsIGluIGZvciBkZWJ1Z2dpbmcuXG4gICAqL1xuICB0b0RldkVudGl0eSgpOiBEZXZFbnRpdHk8Q1Q+IHtcbiAgICByZXR1cm4gbmV3IERldkVudGl0eTxDVD4odGhpcywgdGhpcy5fd29ybGQpO1xuICB9XG59XG4iLCJpbXBvcnQgV29ybGQgZnJvbSAnLi9Xb3JsZCc7XG5pbXBvcnQgRGV2RW50aXR5IGZyb20gJy4vRGV2RW50aXR5JztcblxuaW50ZXJmYWNlIERldlN5c3RlbUNvbXBzIHtcbiAgc3lzdGVtOiBzdHJpbmc7XG4gIGNvbXBvbmVudHM6IHN0cmluZztcbn1cblxuY2xhc3MgRGV2VG9vbHM8Q1Q+IHtcbiAgd29ybGQ6IFdvcmxkPENUPjtcblxuICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQ8Q1Q+KSB7XG4gICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICB9XG4gIC8qKlxuICAgKiBkaXNwbGF5IHRoZSBhbGwgc3lzdGVtcyBvZiB0aGUgd29ybGQsIGFuZCB0aGUgY29tcG9uZW50cyByZXF1aXJlZCBieSBlYWNoIHN5c3RlbS5cbiAgICogU3VwZXIgaGVscGZ1bCB0byB1c2Ugd2l0aCBjb25zb2xlLnRhYmxlKClcbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIGNvbnNvbGUudGFibGUod29ybGQuZGV2LnN5c3RlbUNvbXBvbmVudHMpO1xuICAgKiBgYGBcbiAgICovXG4gIGdldCBzeXN0ZW1Db21wb25lbnRzKCk6IERldlN5c3RlbUNvbXBzW10ge1xuICAgIGNvbnN0IGNvbXBzQnlTeXN0ZW1zID0gW107XG5cbiAgICBmb3IgKGNvbnN0IFtzeXN0ZW0sIGNvbXBOYW1lc10gb2YgdGhpcy53b3JsZC5zeXN0ZW1zXG4gICAgICAuY29tcE5hbWVzQnlTeXN0ZW1OYW1lKSB7XG4gICAgICBjb21wc0J5U3lzdGVtcy5wdXNoKHsgc3lzdGVtLCBjb21wb25lbnRzOiBjb21wTmFtZXMuam9pbignLCAnKSB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29tcHNCeVN5c3RlbXM7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGFycmF5IG9mIERldkVudGl0ZXMuIENhbiBiZSB2ZXJ5IGhlbHBmdWwgZm9yIHRoaW5ncyBsaWtlIGluc3BlY3RpbmcgY29tcG9uZW50IHN0YXRlLFxuICAgKiBhbmQgd2hpY2ggc3lzdGVtcyB3aWxsIGJlIGNhbGxlZCBvbiBhbiBlbnRpdHkuXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYFxuICAgKiBjb25zb2xlLnRhYmxlKHdvcmxkLmRldi5lbnRpdGllcyk7XG4gICAqXG4gICAqIC8vIFBybyB0aXAhIHRyeSBkaXNwbGF5aW5nIGEgdGFibGUgb2YgZW50aXRpZXMgd2l0aCBjb25zb2xlLnRhYmxlIGFuZCBEZXZFbnRpdHkudG9UYWJsZVJvdygpLlxuICAgKiBjb25zb2xlLnRhYmxlKHdvcmxkLmRldi5lbnRpdGllcy5tYXAoZGV2RW50aXR5ID0+IGRldkVudGl0eS50b1RhYmxlUm93KCkpKTtcbiAgICogYGBgXG4gICAqL1xuXG4gIGdldCBlbnRpdGllcygpOiBEZXZFbnRpdHk8Q1Q+W10ge1xuICAgIHJldHVybiBbLi4udGhpcy53b3JsZC5lbnRpdGllcy52YWx1ZXMoKV0ubWFwKGUgPT4gZS50b0RldkVudGl0eSgpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEZXZUb29scztcbiIsImltcG9ydCBFbnRpdHksIHsgRW50aXR5SWQgfSBmcm9tICcuL0VudGl0eSc7XG5pbXBvcnQgV29ybGQsIHsgQ2xhc3NDb25zdHJ1Y3RvciB9IGZyb20gJy4vV29ybGQnO1xuaW1wb3J0IENvbXBvbmVudENvbGxlY3Rpb24gZnJvbSAnLi9Db21wb25lbnRDb2xsZWN0aW9uJztcblxuLyoqXG4gKiBBcmd1bWVudHMgdGhhdCBhcmUgcGFzc2VkIGludG8gYSBTeXN0ZW0gZnVuY3Rpb24gb24gZWFjaCBpdGVyYXRpb24uXG4gKiBUaGlzIGlzIGhvdyB5b3UgYWNjZXMgdGhpbmdzIGxpa2UgdGhlIGVudGl0eSB0aGF0IHBhcnRpY3VsYXIgZW50aXR5IHRvIGFjdCBvbixcbiAqIGFzIHdlbGwgYXMgc29tZSBvdGhlciBoZWxwZnVsIHBhcmFtcyBsaWtlIGlmIHRoZSBlbnRpdHkgaXMgdGhlIGZpcnN0IG9yIGxhc3QgZW50aXR5XG4gKiBpbiB0aGUgZ3JvdXAgb2YgZW50aXRpZXMgdGhhdCBiZWluZyBpdGVyYXRlZCBvdmVyLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN5c3RlbUZ1bmNBcmdzPENUPiB7XG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBlbnRpdHkgYmVpbmcgaXRlcmF0ZWQuXG4gICAqL1xuICBlbnRpdHk6IEVudGl0eTxDVD47XG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50cyB0aGF0IGJlbG9uZyB0byB0aGUgZW50aXR5XG4gICAqL1xuICBjb21wb25lbnRzOiBDb21wb25lbnRDb2xsZWN0aW9uPENUPjtcbiAgLyoqXG4gICAqIFRoZSBXb3JsZCBpbnN0YW5jZS5cbiAgICogVXNlIHRoaXMgdG8gYWNjZXNzIG90aGVyIGVudGl0aWVzLlxuICAgKi9cbiAgd29ybGQ6IFdvcmxkPENUPjtcbiAgaW5kZXg6IG51bWJlcjtcbiAgc2l6ZTogbnVtYmVyO1xuICAvKipcbiAgICogSXMgdGhlIGZpcnN0IGVudGl0eSB0byBiZSBpdGVyYXRlZCBvbiB0aGlzIHJ1biBvZiBhIHN5c3RlbS5cbiAgICogSGVscGZ1bCBmb3Igc2V0dGluZyB1cCBzdGF0ZSB0aGF0IGlzIHRoZSBzYW1lIGZvciBhbGwgZW50aXRpZXMgb25seSBvbmNlLlxuICAgKi9cbiAgaXNGaXJzdDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIElzIHRoZSBsYXN0IGVudGl0eSB0byBiZSBpdGVyYXRlZCBvbiB0aGlzIHJ1biBvZiBhIHN5c3RlbS5cbiAgICogQ2FuIGJlIGhlbHBmdWwgdG8gdGVhciBkb3duIGFueXRoaW5nIHRoYXQgc2hvdWxkIGJlIGRlYWx0IHdpdGggYWZ0ZXIgYWxsIHRoZSBlbnRpdGVzIGhhdmUgcmFuLlxuICAgKi9cbiAgaXNMYXN0OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gYSBzeXN0ZW0gaXMgcnVuLlxuICovXG5leHBvcnQgdHlwZSBTeXN0ZW1GdW5jPENUPiA9IChzeXRlbUZ1bmNBcmdzOiBTeXN0ZW1GdW5jQXJnczxDVD4pID0+IHZvaWQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN5c3RlbXM8Q1Q+IHtcbiAgd29ybGQ6IFdvcmxkPENUPjtcblxuICBzeXN0ZW1GdW5jQnlTeXN0ZW1OYW1lOiBNYXA8c3RyaW5nLCBTeXN0ZW1GdW5jPENUPj47IC8vIGRvdWJsZSBjaGVjayB0byBtYWtlIHN1cmUgdGhhdCBtYXBzIGFyZSBvcmRlcmVkLlxuXG4gIGNvbXBOYW1lc0J5U3lzdGVtTmFtZTogTWFwPHN0cmluZywgc3RyaW5nW10+O1xuXG4gIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZDxDVD4pIHtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgdGhpcy5zeXN0ZW1GdW5jQnlTeXN0ZW1OYW1lID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuY29tcE5hbWVzQnlTeXN0ZW1OYW1lID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgYWRkKFxuICAgIGNUeXBlczogQ2xhc3NDb25zdHJ1Y3RvcjxDVD5bXSxcbiAgICBzeXN0ZW1GdW5jOiBTeXN0ZW1GdW5jPENUPixcbiAgICBmdW5jTmFtZT86IHN0cmluZ1xuICApOiB0aGlzIHtcbiAgICBjb25zdCBjTmFtZXMgPSBjVHlwZXMubWFwKGN0ID0+IGN0Lm5hbWUpO1xuXG4gICAgbGV0IG5hbWUgPSBzeXN0ZW1GdW5jLm5hbWU7XG4gICAgaWYgKHN5c3RlbUZ1bmMubmFtZSA9PT0gJycpIHtcbiAgICAgIC8vIFN1cGVyIGJydXRlIGZvcmNlLCBhbmQgbWlnaHQgbGVhZCB0byBlcnJvcnMgaW4gdGhlIGZ1dHVyZSwgYnV0IGZvciBub3dcbiAgICAgIC8vIHVzaW5nIHRoZSBzdHJpbmdpZmllZCBzeXN0ZW0gZnVuY3Rpb24gaWYgdGhlIGZ1bmN0aW9uIGRvZXNuJ3QgYWxyZWFkeSBoYXZlIGEgbmFtZS5cbiAgICAgIC8vIFRoaXMgaXMgdXNlZnVsIGZvciBhbm9ueW1vdXMgZnVuY3Rpb25zIHVzZWQgYXMgYSBzeXN0ZW0gZnVuY3Rpb24uXG4gICAgICAvLyBNaWdodCBiZSBnb29kIHRvIGZpZ3VyZSBvdXQgaG93IHRvIGdldCBhIGhhc2ggb2YgdGhlIGZ1bmN0aW9uIHN0cmluZy5cbiAgICAgIG5hbWUgPSBzeXN0ZW1GdW5jLnRvU3RyaW5nKCkuc2xpY2UoMCwgMzApO1xuICAgIH1cblxuICAgIGlmIChmdW5jTmFtZSkge1xuICAgICAgbmFtZSA9IGZ1bmNOYW1lO1xuICAgIH1cblxuICAgIHRoaXMuc3lzdGVtRnVuY0J5U3lzdGVtTmFtZS5zZXQobmFtZSwgc3lzdGVtRnVuYyk7XG4gICAgdGhpcy5jb21wTmFtZXNCeVN5c3RlbU5hbWUuc2V0KG5hbWUsIGNOYW1lcyk7XG4gICAgdGhpcy53b3JsZC5lbnRpdGllc0J5Q1R5cGVzLnNldChjTmFtZXMsIG5ldyBTZXQ8RW50aXR5SWQ+KCkpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBydW4oKTogdm9pZCB7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMud29ybGQuZW50aXRpZXNCeUNUeXBlcy5zaXplO1xuXG4gICAgY29uc3QgZW50aXRpZXNJbkNyZWF0aW5nU3RhdGUgPSBbXTtcbiAgICBjb25zdCBlbnRpdGllc0luRGVzdHJveWluZ1N0YXRlID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB0aGlzLndvcmxkLmVudGl0aWVzLnZhbHVlcygpKSB7XG4gICAgICBpZiAoZW50aXR5LnN0YXRlID09PSAnY3JlYXRpbmcnKSB7XG4gICAgICAgIGVudGl0aWVzSW5DcmVhdGluZ1N0YXRlLnB1c2goZW50aXR5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVudGl0eS5zdGF0ZSA9PT0gJ2Rlc3Ryb3lpbmcnKSB7XG4gICAgICAgIGVudGl0aWVzSW5EZXN0cm95aW5nU3RhdGUucHVzaChlbnRpdHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgW1xuICAgICAgZnVuY05hbWUsXG4gICAgICBzeXN0ZW1GdW5jLFxuICAgIF0gb2YgdGhpcy5zeXN0ZW1GdW5jQnlTeXN0ZW1OYW1lLmVudHJpZXMoKSkge1xuICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgIGNvbnN0IGNOYW1lcyA9IHRoaXMuY29tcE5hbWVzQnlTeXN0ZW1OYW1lLmdldChmdW5jTmFtZSkgfHwgW107XG4gICAgICBjb25zdCBjVHlwZUFycnMgPSB0aGlzLndvcmxkLmVudGl0aWVzQnlDVHlwZXMuZ2V0KGNOYW1lcykgfHwgbmV3IFNldCgpO1xuXG4gICAgICBmb3IgKGNvbnN0IGVpZCBvZiBjVHlwZUFycnMpIHtcbiAgICAgICAgY29uc3QgYXJnczogU3lzdGVtRnVuY0FyZ3M8Q1Q+ID0ge1xuICAgICAgICAgIGVudGl0eTogdGhpcy53b3JsZC5lbnRpdGllcy5nZXQoZWlkKSB8fCBuZXcgRW50aXR5PENUPih0aGlzLndvcmxkKSxcbiAgICAgICAgICBjb21wb25lbnRzOlxuICAgICAgICAgICAgdGhpcy53b3JsZC5jb21wb25lbnRDb2xsZWN0aW9ucy5nZXQoZWlkKSB8fFxuICAgICAgICAgICAgbmV3IENvbXBvbmVudENvbGxlY3Rpb248Q1Q+KCksXG4gICAgICAgICAgd29ybGQ6IHRoaXMud29ybGQsXG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgc2l6ZSxcbiAgICAgICAgICBpc0ZpcnN0OiBpbmRleCA9PT0gMCxcbiAgICAgICAgICBpc0xhc3Q6IGluZGV4ICsgMSA9PT0gc2l6ZSxcbiAgICAgICAgfTtcblxuICAgICAgICBzeXN0ZW1GdW5jKGFyZ3MpO1xuXG4gICAgICAgIGluZGV4ICs9IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZW50aXRpZXNJbkNyZWF0aW5nU3RhdGUpIHtcbiAgICAgIGVudGl0eS5maW5pc2hDcmVhdGlvbigpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGVudGl0aWVzSW5EZXN0cm95aW5nU3RhdGUpIHtcbiAgICAgIGVudGl0eS5kZXN0cm95SW1tZWRpYXRlbHkoKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgIFRPRE86IE5pY2UgdG8gaGF2ZSBvcHRpb25zIGhlcmU6XG4gICAgICAtIHN5c3RlbXMuYWN0aXZlU3lzdGVtcyA9IG5ldyBTZXQoKTsgLy8gaWYgbm90IGluIHNldCwgc3lzdGVtIGRvZXNuJ3QgcnVuLlxuICAgICAgLSBzeXN0ZW1zLmRlYWN0aXZhdGVTeXN0ZW0oJ3N5c3RlbU5hbWUnKSAvLyByZW1vdmUgc3lzdGVtIGZyb20gYWN0aXZlU3lzdGVtc1xuICAgICAgLSBzeXN0ZW1zLmFjdGl2YXRlU3lzdGVtKCdzeXN0ZW1OYW1lKSAvLyBhZGRzIHN5c3RlbSBiYWNrIHRvIGFjdGl2ZVN5c3RlbXNcbiAgICAgIC0gc3lzdGVtcy5wYXVzZSgpIC8vIHBhdXNlcyBydW5uaW5nIG9mIHN5c3RlbXMuIGJhc2ljYWxseSByZXR1cm4gaW1tZWRpYXRlbHkgb24gcnVuKCkuXG4gICAgICAtIHN5c3RlbXMucmVzdW1lKCkgLy8gcmVzdW1lIHJ1bm5pbmcgb2Ygc3lzdGVtcy5cbiAgKi9cbn1cbiIsImltcG9ydCBXb3JsZCwgeyBDbGFzc0NvbnN0cnVjdG9yIH0gZnJvbSAnLi9Xb3JsZCc7XG5pbXBvcnQgRW50aXR5LCB7IEVudGl0eUlkIH0gZnJvbSAnLi9FbnRpdHknO1xuXG4vLyBXYWl0aW5nIGZvciBUeXBlc2NyaXB0IDQuMiB0byBjb21lIG91dCBzbyB0aGF0IFN5bWJvbHMgYXJlIHN1cHBvcmRlZCBrZXlzLlxuZXhwb3J0IGNvbnN0IFRyYWNrZWRDb21wU3ltYm9sS2V5cyA9IHtcbiAgaXNUcmFja2VkOiBTeW1ib2wuZm9yKCdlY3MudHJhY2tlZENvbXBvbmVudC5pc1RyYWNrZWQnKSxcbiAgd29ybGQ6IFN5bWJvbC5mb3IoJ2Vjcy50cmFja2VkQ29tcG9uZW50LndvcmxkJyksXG4gIGVudGl0eUlEczogU3ltYm9sLmZvcignZWNzLnRyYWNrZWRDb21wb25lbnQuZW50aXR5SURzJyksXG4gIGdldEVudGl0aWVzOiBTeW1ib2wuZm9yKCdlY3MudHJhY2tlZENvbXBvbmVudC5nZXRFbnRpdGllcycpLFxuICBzZXRXb3JsZDogU3ltYm9sLmZvcignZWNzLnRyYWNrZWRDb21wb25lbnQuc2V0V29ybGQnKSxcbiAgb25BZGQ6IFN5bWJvbC5mb3IoJ2Vjcy50cmFja2VkQ29tcG9uZW50Lm9uQWRkJyksXG4gIG9uVXBkYXRlOiBTeW1ib2wuZm9yKCdlY3MudHJhY2tlZENvbXBvbmVudC5vblVwZGF0ZScpLFxuICBvblJlbW92ZTogU3ltYm9sLmZvcignZWNzLnRyYWNrZWRDb21wb25lbnQub25SZW1vdmUnKSxcbn0gYXMgY29uc3Q7XG5cbi8vQHRzLWlnbm9yZVxudHlwZSBUcmFja2VkQ29tcG9uZW50PENUPiA9IHtcbiAgbmV3ICguLi5hcmdzOiBhbnlbXSk6IENUO1xuXG4gIC8vQHRzLWlnbm9yZVxuICBbVHJhY2tlZENvbXBTeW1ib2xLZXlzLmlzVHJhY2tlZF06IGJvb2xlYW47XG4gIC8vQHRzLWlnbm9yZVxuICBbVHJhY2tlZENvbXBTeW1ib2xLZXlzLnNldFdvcmxkXTogKHdvcmxkOiBXb3JsZDxDVD4pID0+IHZvaWQ7XG4gIC8vQHRzLWlnbm9yZVxuICBbVHJhY2tlZENvbXBTeW1ib2xLZXlzLndvcmxkXTogV29ybGQ8Q1Q+O1xuICAvL0B0cy1pZ25vcmVcbiAgW1RyYWNrZWRDb21wU3ltYm9sS2V5cy5lbnRpdHlJRHNdOiBTZXQ8RW50aXR5SWQ+O1xuICAvL0B0cy1pZ25vcmVcbiAgW1RyYWNrZWRDb21wU3ltYm9sS2V5cy5nZXRFbnRpdGllc106ICgpID0+IE1hcDxFbnRpdHlJZCwgRW50aXR5PENUPj47XG4gIC8vQHRzLWlnbm9yZVxuICBbVHJhY2tlZENvbXBTeW1ib2xLZXlzLm9uQWRkXTogKHdvcmxkOiBXb3JsZDxDVD4sIGVudGl0eTogRW50aXR5PENUPikgPT4gdm9pZDtcbiAgLy9AdHMtaWdub3JlXG4gIFtUcmFja2VkQ29tcFN5bWJvbEtleXMub25SZW1vdmVdOiAoXG4gICAgd29ybGQ6IFdvcmxkPENUPixcbiAgICBlbnRpdHk6IEVudGl0eTxDVD5cbiAgKSA9PiB2b2lkO1xufTtcblxuaW50ZXJmYWNlIEFkZEV2ZW50QXJnczxDVD4ge1xuICB3b3JsZDogV29ybGQ8Q1Q+O1xuICBjb21wb25lbnQ6IENUO1xuICBlbnRpdHk6IEVudGl0eTxDVD47XG4gIGVudGl0aWVzOiBNYXA8RW50aXR5SWQsIEVudGl0eTxDVD4+O1xufVxuXG5pbnRlcmZhY2UgVXBkYXRlRXZlbnRBcmdzPENUPiB7XG4gIGVudGl0aWVzOiBNYXA8RW50aXR5SWQsIEVudGl0eTxDVD4+O1xuICBjb21wb25lbnQ6IENUO1xuICB3b3JsZDogV29ybGQ8Q1Q+O1xuICBwcmV2aW91c1ZhbDogQ1Rba2V5b2YgQ1RdO1xuICBwcm9wZXJ0eToga2V5b2YgQ1Q7XG59XG5cbmludGVyZmFjZSBSZW1vdmVFdmVudEFyZ3M8Q1Q+IHtcbiAgd29ybGQ6IFdvcmxkPENUPjtcbiAgY29tcG9uZW50OiBDVDtcbiAgZW50aXR5OiBFbnRpdHk8Q1Q+O1xuICBlbnRpdGllczogTWFwPEVudGl0eUlkLCBFbnRpdHk8Q1Q+Pjtcbn1cblxuaW50ZXJmYWNlIFRyYWNrZWRFdmVudEhhbmRsZXJzPENUPiB7XG4gIG9uQWRkPzogKGFyZ3M6IEFkZEV2ZW50QXJnczxDVD4pID0+IHZvaWQ7XG4gIG9uVXBkYXRlPzogKGFyZ3M6IFVwZGF0ZUV2ZW50QXJnczxDVD4pID0+IHZvaWQ7XG4gIG9uUmVtb3ZlPzogKGFyZ3M6IFJlbW92ZUV2ZW50QXJnczxDVD4pID0+IHZvaWQ7XG59XG5cbi8vIE5PVEU6IFJlYWxseSBuZWVkIHRvIGdldCBzeW1ib2xzIHdvcmtpbmcgYXMga2V5cyBpbiBUeXBlc2NyaXB0LlxuLy8gICAgICAgVW50aWwgdGhlbiB3aWxsIGhhdmUgdG8gY2FzdCB0byBrZXlvZiBDVC5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU0MzI0MzIzL3R5cGVzY3JpcHQtdHlwZS1zdHJpbmctaXMtbm90LWFzc2lnbmFibGUtdG8tdHlwZS1rZXlvZlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L3B1bGwvMjY3OTdcbmZ1bmN0aW9uIGNyZWF0ZUNsYXNzSW5zdGFuY2VQcm94eUhhbmRsZXJzPENUPihcbiAgdHJhY2tlZEV2ZW50SGFuZGxlcnM6IFRyYWNrZWRFdmVudEhhbmRsZXJzPENUPlxuKTogUHJveHlIYW5kbGVyPGFueT4ge1xuICBjb25zdCB1cGRhdGVkUHJvcHMgPSBuZXcgU2V0KCk7XG4gIHJldHVybiB7XG4gICAgc2V0KGNvbXBvbmVudDogQ1QsIHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBDVFtrZXlvZiBDVF0pIHtcbiAgICAgIHVwZGF0ZWRQcm9wcy5hZGQocHJvcGVydHkpO1xuXG4gICAgICAvL0B0cy1pZ25vcmVcbiAgICAgIGNvbnN0IHdvcmxkID0gY29tcG9uZW50W1RyYWNrZWRDb21wU3ltYm9sS2V5cy53b3JsZF0gYXMgV29ybGQ8Q1Q+O1xuXG4gICAgICBjb25zdCBwcmV2aW91c1ZhbCA9IGNvbXBvbmVudFtwcm9wZXJ0eSBhcyBrZXlvZiBDVF07XG5cbiAgICAgIGNvbXBvbmVudFtwcm9wZXJ0eSBhcyBrZXlvZiBDVF0gPSB2YWx1ZTtcblxuICAgICAgLy9AdHMtaWdub3JlXG4gICAgICBjb25zdCBlbnRpdGllcyA9IGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMuZ2V0RW50aXRpZXNdKFxuICAgICAgICB3b3JsZFxuICAgICAgKSBhcyBNYXA8RW50aXR5SWQsIEVudGl0eTxDVD4+O1xuXG4gICAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBlbnRpdGllcy52YWx1ZXMoKSkge1xuICAgICAgICBlbnRpdHkub25UcmFja2VkQ29tcG9uZW50VXBkYXRlKHsgd29ybGQsIGNvbXBvbmVudCB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRyYWNrZWRFdmVudEhhbmRsZXJzLm9uVXBkYXRlKSB7XG4gICAgICAgIHRyYWNrZWRFdmVudEhhbmRsZXJzLm9uVXBkYXRlKHtcbiAgICAgICAgICBlbnRpdGllcyxcbiAgICAgICAgICB3b3JsZCxcbiAgICAgICAgICBjb21wb25lbnQsXG4gICAgICAgICAgcHJldmlvdXNWYWwsXG4gICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5IGFzIGtleW9mIENULFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrQ29tcG9uZW50PENUPihcbiAgQ29tcENsYXNzOiBDbGFzc0NvbnN0cnVjdG9yPENUPixcbiAgdHJhY2tlZEV2ZW50SGFuZGxlcnM6IFRyYWNrZWRFdmVudEhhbmRsZXJzPENUPlxuKTogVHJhY2tlZENvbXBvbmVudDxDVD4ge1xuICByZXR1cm4gbmV3IFByb3h5KENvbXBDbGFzcywge1xuICAgIGNvbnN0cnVjdChDb21wb25lbnQ6IGFueSwgYXJnczogYW55KSB7XG4gICAgICBjb25zdCBjb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KC4uLmFyZ3MpIGFzIENUICYgVHJhY2tlZENvbXBvbmVudDxDVD47XG5cbiAgICAgIC8vIEZvciB1c2UgaW4gaWRlbnRpZmluZyBhIFwidHJhY2tlZFwiIGNsYXNzIHRocm91Z2ggdGhlIHByb3h5LlxuICAgICAgLy9AdHMtaWdub3JlXG4gICAgICBjb21wb25lbnRbVHJhY2tlZENvbXBTeW1ib2xLZXlzLmlzVHJhY2tlZF0gPSB0cnVlO1xuXG4gICAgICAvL0B0cy1pZ25vcmVcbiAgICAgIGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMuc2V0V29ybGRdID0gKHdvcmxkOiBXb3JsZDxDVD4pID0+IHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMud29ybGRdID0gd29ybGQ7XG4gICAgICB9O1xuXG4gICAgICAvLyBIb2xkcyBlbnRpdGllcyB0aGF0IHRoaXMgY29tcG9uZW50IGhhcyBiZWVuIGFkZGVkIHRvLlxuICAgICAgLy8gQWRkZWQgYW5kIHJlbW92ZWQgaW4gd29ybGQuYWRkKCkvd29ybGQucmVtb3ZlKCkuXG4gICAgICAvL0B0cy1pZ25vcmVcbiAgICAgIGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMuZW50aXR5SURzXSA9IG5ldyBTZXQoKTtcblxuICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgRW50aXRpZXMgZnJvbSBlbnRpdHlJRHNcbiAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgY29tcG9uZW50W1RyYWNrZWRDb21wU3ltYm9sS2V5cy5nZXRFbnRpdGllc10gPSAoXG4gICAgICAgIHdvcmxkOiBXb3JsZDxDVD5cbiAgICAgICk6IE1hcDxFbnRpdHlJZCwgRW50aXR5PENUPj4gPT4ge1xuICAgICAgICBjb25zdCBlbnRpdGllcyA9IG5ldyBNYXA8RW50aXR5SWQsIEVudGl0eTxDVD4+KCk7XG5cbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGZvciAoY29uc3QgZWlkIG9mIGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMuZW50aXR5SURzXSkge1xuICAgICAgICAgIGNvbnN0IGVudGl0eSA9IHdvcmxkLmVudGl0aWVzLmdldChlaWQpO1xuICAgICAgICAgIGlmIChlbnRpdHkpIHtcbiAgICAgICAgICAgIGVudGl0aWVzLnNldChlaWQsIGVudGl0eSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVudGl0aWVzO1xuICAgICAgfTtcblxuICAgICAgLy9AdHMtaWdub3JlXG4gICAgICBjb21wb25lbnRbVHJhY2tlZENvbXBTeW1ib2xLZXlzLm9uQWRkXSA9IChcbiAgICAgICAgd29ybGQ6IFdvcmxkPENUPixcbiAgICAgICAgZW50aXR5OiBFbnRpdHk8Q1Q+XG4gICAgICApID0+IHtcbiAgICAgICAgaWYgKHRyYWNrZWRFdmVudEhhbmRsZXJzLm9uQWRkKSB7XG4gICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgY29uc3QgZW50aXRpZXMgPSBjb21wb25lbnRbVHJhY2tlZENvbXBTeW1ib2xLZXlzLmdldEVudGl0aWVzXShcbiAgICAgICAgICAgIHdvcmxkXG4gICAgICAgICAgKSBhcyBNYXA8RW50aXR5SWQsIEVudGl0eTxDVD4+O1xuXG4gICAgICAgICAgdHJhY2tlZEV2ZW50SGFuZGxlcnMub25BZGQoeyBjb21wb25lbnQsIHdvcmxkLCBlbnRpdHksIGVudGl0aWVzIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvL0B0cy1pZ25vcmVcbiAgICAgIGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMub25SZW1vdmVdID0gKFxuICAgICAgICB3b3JsZDogV29ybGQ8Q1Q+LFxuICAgICAgICBlbnRpdHk6IEVudGl0eTxDVD5cbiAgICAgICkgPT4ge1xuICAgICAgICBpZiAodHJhY2tlZEV2ZW50SGFuZGxlcnMub25SZW1vdmUpIHtcbiAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICBjb25zdCBlbnRpdGllcyA9IGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMuZ2V0RW50aXRpZXNdKFxuICAgICAgICAgICAgd29ybGRcbiAgICAgICAgICApIGFzIE1hcDxFbnRpdHlJZCwgRW50aXR5PENUPj47XG5cbiAgICAgICAgICB0cmFja2VkRXZlbnRIYW5kbGVycy5vblJlbW92ZSh7IGNvbXBvbmVudCwgd29ybGQsIGVudGl0eSwgZW50aXRpZXMgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBuZXcgUHJveHkoXG4gICAgICAgIGNvbXBvbmVudCxcbiAgICAgICAgY3JlYXRlQ2xhc3NJbnN0YW5jZVByb3h5SGFuZGxlcnModHJhY2tlZEV2ZW50SGFuZGxlcnMpXG4gICAgICApO1xuICAgIH0sXG4gIH0pO1xufVxuIiwiaW1wb3J0IEVudGl0eSwgeyBFbnRpdHlJZCB9IGZyb20gJy4vRW50aXR5JztcbmltcG9ydCBDb21wb25lbnRDb2xsZWN0aW9uIGZyb20gJy4vQ29tcG9uZW50Q29sbGVjdGlvbic7XG5pbXBvcnQgeyBUYWcgfSBmcm9tICcuL1RhZyc7XG5pbXBvcnQgeyBTeXN0ZW1GdW5jIH0gZnJvbSAnLi9TeXN0ZW1zJztcbmltcG9ydCBEZXZUb29scyBmcm9tICcuL0RldlRvb2xzJztcbmltcG9ydCBTeXN0ZW1zIGZyb20gJy4vU3lzdGVtcyc7XG5pbXBvcnQgeyBUcmFja2VkQ29tcFN5bWJvbEtleXMgfSBmcm9tICcuL1RyYWNrZWRDb21wb25lbnQnO1xuXG5leHBvcnQgdHlwZSBDbGFzc0NvbnN0cnVjdG9yPFQ+ID0geyBuZXcgKC4uLmFyZ3M6IGFueVtdKTogVCB9O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JsZDxDVD4ge1xuICBjb21wb25lbnRDb2xsZWN0aW9uczogTWFwPEVudGl0eUlkLCBDb21wb25lbnRDb2xsZWN0aW9uPENUPj4gPSBuZXcgTWFwKCk7XG5cbiAgZW50aXRpZXM6IE1hcDxFbnRpdHlJZCwgRW50aXR5PENUPj4gPSBuZXcgTWFwKCk7XG5cbiAgZW50aXRpZXNCeUNUeXBlczogTWFwPHN0cmluZ1tdLCBTZXQ8RW50aXR5SWQ+PiA9IG5ldyBNYXAoKTtcblxuICBlbnRpdGllc0J5VGFnczogTWFwPFRhZywgU2V0PEVudGl0eUlkPj4gPSBuZXcgTWFwKCk7XG5cbiAgc3lzdGVtczogU3lzdGVtczxDVD47XG5cbiAgZGV2OiBEZXZUb29sczxDVD47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5kZXYgPSBuZXcgRGV2VG9vbHModGhpcyk7XG4gICAgdGhpcy5zeXN0ZW1zID0gbmV3IFN5c3RlbXModGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogXCJmaW5kc1wiIGEgc2luZ2xlIGVudGl0eSBiYXNlZCBvbiBhIHByZWRpY2F0ZVxuICAgKi9cbiAgZmluZCA9IChwcmVkaWNhdGU6IChlbnRpdHk6IEVudGl0eTxDVD4pID0+IGJvb2xlYW4pOiBFbnRpdHk8Q1Q+IHwgbnVsbCA9PiB7XG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdGhpcy5lbnRpdGllcy52YWx1ZXMoKSkge1xuICAgICAgaWYgKHByZWRpY2F0ZShlbnRpdHkpKSB7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIFwiZmluZHNcIiBhbGwgZW50aXRpZXMgYmFzZWQgb24gYSBwcmVkaWNhdGUsIGtpbmRhIGxpa2UgZmlsdGVyLlxuICAgKi9cbiAgZmluZEFsbCA9IChwcmVkaWNhdGU6IChlbnRpdHk6IEVudGl0eTxDVD4pID0+IGJvb2xlYW4pOiBFbnRpdHk8Q1Q+W10gPT4ge1xuICAgIGNvbnN0IHJlc3VsdHM6IEVudGl0eTxDVD5bXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdGhpcy5lbnRpdGllcy52YWx1ZXMoKSkge1xuICAgICAgaWYgKHByZWRpY2F0ZShlbnRpdHkpKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChlbnRpdHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBcImxvY2F0ZXNcIiBhIHNpbmdsZSBlbnRpdHkgYmFzZWQgb24gaXRzIENvbXBvbmVudHMuXG4gICAqL1xuICBsb2NhdGUgPSAoXG4gICAgY2w6IENsYXNzQ29uc3RydWN0b3I8Q1Q+IHwgQ2xhc3NDb25zdHJ1Y3RvcjxDVD5bXVxuICApOiBFbnRpdHk8Q1Q+IHwgbnVsbCA9PiB7XG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdGhpcy5lbnRpdGllcy52YWx1ZXMoKSkge1xuICAgICAgaWYgKGVudGl0eS5jb21wb25lbnRzLmhhcyhjbCkpIHtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogTG9jYXRlcyBhbGwgZW50aXRpZXMgdGhhdCBjb250YWluIHRoZSBjb21wb25lbnRzIG5hbWVkXG4gICAqL1xuICBsb2NhdGVBbGwgPSAoXG4gICAgY2w6IENsYXNzQ29uc3RydWN0b3I8Q1Q+IHwgQ2xhc3NDb25zdHJ1Y3RvcjxDVD5bXVxuICApOiBFbnRpdHk8Q1Q+W10gPT4ge1xuICAgIGNvbnN0IHJlc3VsdHM6IEVudGl0eTxDVD5bXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdGhpcy5lbnRpdGllcy52YWx1ZXMoKSkge1xuICAgICAgaWYgKGVudGl0eS5jb21wb25lbnRzLmhhcyhjbCkpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGVudGl0eSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdyYWJzIHRoZSBmaXJzdCBlbnRpdHksIGFuZCBpdHMgcmVsYXRlZCBjb21wb25lbnQsIHRoYXQgbWF0Y2hlcyB0aGUgY29tcG9uZW50IHR5cGUuXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYFxuICAgKiBjb25zdCB7IGVudGl0eSwgY29tcG9uZW50IH0gPSB3b3JsZC5ncmFiKE15Q29tcG9uZW50KTtcbiAgICogYGBgXG4gICAqL1xuICBncmFiID0gPFQgZXh0ZW5kcyBDVD4oXG4gICAgY2w6IENsYXNzQ29uc3RydWN0b3I8VD5cbiAgKTogeyBlbnRpdHk6IEVudGl0eTxDVD47IGNvbXBvbmVudDogVCB9IHwgbnVsbCA9PiB7XG4gICAgY29uc3QgZW50aXR5ID0gdGhpcy5sb2NhdGUoY2wpO1xuXG4gICAgaWYgKGVudGl0eSkge1xuICAgICAgY29uc3QgY2MgPVxuICAgICAgICB0aGlzLmNvbXBvbmVudENvbGxlY3Rpb25zLmdldChlbnRpdHkuaWQpIHx8XG4gICAgICAgIG5ldyBDb21wb25lbnRDb2xsZWN0aW9uPENUPigpO1xuXG4gICAgICBjb25zdCBjb21wb25lbnQgPSBjYy5nZXQ8VD4oY2wpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbnRpdHksXG4gICAgICAgIGNvbXBvbmVudCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdyYWIgc2luZ2xlIGNvbXBvbmVudCBiYXNlZCBvbiBjb21wb25lbnQgdHlwZSBhbmQgcHJlZGljYXRlLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGNvbnN0IHsgZW50aXR5LCBjb21wb25lbnQgfSA9IHdvcmxkLmdyYWJCeShGaXJzdENvbXBvbmVudCwgKGNvbXApID0+IGNvbXAuaWQgPT0gJ2F3ZXNvbWUnKVxuICAgKiBgYGBcbiAgICovXG4gIGdyYWJCeSA9IDxUIGV4dGVuZHMgQ1Q+KFxuICAgIGNsOiBDbGFzc0NvbnN0cnVjdG9yPFQ+LFxuICAgIHByZWRpY2F0ZTogKGNvbXA6IFQpID0+IGJvb2xlYW5cbiAgKTogeyBlbnRpdHk6IEVudGl0eTxDVD47IGNvbXBvbmVudDogVCB9IHwgbnVsbCA9PiB7XG4gICAgY29uc3QgZW50aXRpZXMgPSB0aGlzLmxvY2F0ZUFsbChjbCk7XG4gICAgLy8gY29uc3QgZW50aXRpZXMgPSB0aGlzLmxvY2F0ZUFsbCgoY2wgYXMgdW5rbm93bikgYXMgQ1QpO1xuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZW50aXRpZXMpIHtcbiAgICAgIGNvbnN0IGNjID1cbiAgICAgICAgdGhpcy5jb21wb25lbnRDb2xsZWN0aW9ucy5nZXQoZW50aXR5LmlkKSB8fFxuICAgICAgICBuZXcgQ29tcG9uZW50Q29sbGVjdGlvbjxDVD4oKTtcblxuICAgICAgY29uc3QgY29tcG9uZW50ID0gY2MuZ2V0PFQ+KGNsKTtcblxuICAgICAgaWYgKHByZWRpY2F0ZShjb21wb25lbnQpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY29tcG9uZW50LFxuICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogR3JhYiBhbGwgdGhlIGNvbXBvbmVudHMgcHJpbWFyaWx5LCBhbmQgdGhlIGVudGl0aWVzIGlmIG5lZWRlZFxuICAgKi9cbiAgZ3JhYkFsbCA9IDxUIGV4dGVuZHMgQ1Q+KFxuICAgIGNsOiBDbGFzc0NvbnN0cnVjdG9yPFQ+XG4gICk6IHsgZW50aXR5OiBFbnRpdHk8Q1Q+OyBjb21wb25lbnQ6IFQgfVtdID0+IHtcbiAgICBjb25zdCBlbnRpdGllcyA9IHRoaXMubG9jYXRlQWxsKGNsKTtcblxuICAgIHJldHVybiBlbnRpdGllcy5tYXAoZW50aXR5ID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVudGl0eSxcbiAgICAgICAgY29tcG9uZW50OiBlbnRpdHkuY29tcG9uZW50cy5nZXQ8VD4oY2wpLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBUT0RPOiBBZGQgZ3JhYkFsbEJ5IG1ldGhvZFxuXG4gIC8qKlxuICAgKiBHaXZlbiBhbiBlbnRpdHkgaWQgYW5kIGNvbXBvbmVudFR5cGUsIHJldHVybnMgY29tcG9uZW50XG4gICAqL1xuICBnZXQgPSA8VCBleHRlbmRzIENUPihlaWQ6IEVudGl0eUlkLCBjbDogQ2xhc3NDb25zdHJ1Y3RvcjxUPik6IFQgPT4ge1xuICAgIGNvbnN0IGNjID1cbiAgICAgIHRoaXMuY29tcG9uZW50Q29sbGVjdGlvbnMuZ2V0KGVpZCkgfHwgbmV3IENvbXBvbmVudENvbGxlY3Rpb248Q1Q+KCk7XG5cbiAgICByZXR1cm4gY2MuZ2V0PFQ+KGNsKTtcbiAgfTtcblxuICAvKipcbiAgICogRmluZCBhbmQgZ2V0IHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhIGNvbXBvbmVudCwgd2l0aG91dCBhbnkgYXNzb2NpYXRlZCBlbnRpdGllcy5cbiAgICogSGVscGZ1bCBpcyB5b3Uga25vdyB0aGF0IG9ubHkgb25lIGluc3RhbmNlIG9mIGEgY29tcG9uZW50IGV4aXN0cyBhY3Jvc3MgYWxsIGVudGl0aWVzLlxuICAgKiBAcGFyYW0gY2wgQ29tcG9uZW50IENsYXNzIENvbnRydWN0b3JcbiAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBBIGRlZmF1bHQgY29tcG9uZW50IGluc3RhbmNlIGlmIG5vIGNvbXBvbmVudHMgYXJlIGZvdW5kLlxuICAgKi9cbiAgZ2V0Q29tcG9uZW50ID0gPFQgZXh0ZW5kcyBDVD4oXG4gICAgY2w6IENsYXNzQ29uc3RydWN0b3I8VD4sXG4gICAgZGVmYXVsdFZhbHVlPzogVFxuICApOiBUIHwgbnVsbCA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5ncmFiKGNsKTtcblxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlID8gZGVmYXVsdFZhbHVlIDogbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0LmNvbXBvbmVudDtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IGFuIGVudGl0eSB0aGF0IGhhcyBiZWVuIHRhZ2dlZCB3aXRoIHRoZSBnaXZlbiB0YWcsIG9yIHJldHVybiBudWxsO1xuICAgKi9cbiAgZ2V0VGFnZ2VkID0gKHRhZzogVGFnKTogRW50aXR5PENUPiB8IG51bGwgPT4ge1xuICAgIGNvbnN0IHRhZ0VudGl0eUlkcyA9IHRoaXMuZW50aXRpZXNCeVRhZ3MuZ2V0KHRhZyk7XG5cbiAgICBpZiAodGFnRW50aXR5SWRzKSB7XG4gICAgICBjb25zdCBlbnRpdHlJZCA9IHRhZ0VudGl0eUlkcy52YWx1ZXMoKS5uZXh0KCkudmFsdWU7XG5cbiAgICAgIGlmIChlbnRpdHlJZCkge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmVudGl0aWVzLmdldChlbnRpdHlJZCk7XG5cbiAgICAgICAgaWYgKGVudGl0eSkge1xuICAgICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogR2V0dCBhbGwgZW50aXRpZXMgdGhhdCBoYXZlIGJlZW4gdGFnZ2VkIHdpdGggdGhlIGdpdmVuIHRhZy5cbiAgICogQHBhcmFtIHRhZyBBIHN0cmluZyBvciBudW1iZXIuXG4gICAqL1xuICBnZXRBbGxUYWdnZWQgPSAodGFnOiBUYWcpOiBFbnRpdHk8Q1Q+W10gPT4ge1xuICAgIGxldCBlbnRpdGllczogRW50aXR5PENUPltdID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGNvbnN0IHRhZ0VudGl0eUlkcyA9IHRoaXMuZW50aXRpZXNCeVRhZ3MuZ2V0KHRhZyk7XG5cbiAgICBpZiAodGFnRW50aXR5SWRzKSB7XG4gICAgICBmb3IgKGNvbnN0IGVudGl0eUlkIG9mIHRhZ0VudGl0eUlkcykge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmVudGl0aWVzLmdldChlbnRpdHlJZCk7XG4gICAgICAgIGlmIChlbnRpdHkpIHtcbiAgICAgICAgICBlbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZW50aXRpZXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCBhIGNvbXBvbmVudCBvbiB0aGUgZ2l2ZW4gZW50aXR5XG4gICAqL1xuICBhZGQgPSA8VCBleHRlbmRzIENUPihlaWQ6IEVudGl0eUlkLCBjb21wb25lbnQ6IFQpOiB0aGlzID0+IHtcbiAgICBjb25zdCBjYyA9XG4gICAgICB0aGlzLmNvbXBvbmVudENvbGxlY3Rpb25zLmdldChlaWQpIHx8IG5ldyBDb21wb25lbnRDb2xsZWN0aW9uPENUPigpO1xuXG4gICAgY29uc3QgZW50aXR5ID0gdGhpcy5lbnRpdGllcy5nZXQoZWlkKTtcblxuICAgIGlmICghZW50aXR5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHdvcmxkLmFkZDogVW5hYmxlIHRvIGxvY2F0ZSBlbnRpdHkgd2l0aCBpZCAke2VpZH1gKTtcbiAgICB9XG5cbiAgICBjYy5hZGQoY29tcG9uZW50KTtcblxuICAgIHRoaXMuY29tcG9uZW50Q29sbGVjdGlvbnMuc2V0KGVpZCwgY2MpO1xuXG4gICAgZm9yIChjb25zdCBbY3RBcnIsIGVudGl0eVNldF0gb2YgdGhpcy5lbnRpdGllc0J5Q1R5cGVzKSB7XG4gICAgICBpZiAoKGN0QXJyIGFzIHN0cmluZ1tdKS5ldmVyeShjYy5oYXNCeU5hbWUpKSB7XG4gICAgICAgIGVudGl0eVNldC5hZGQoZWlkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMuaXNUcmFja2VkXSkge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY29tcG9uZW50W1RyYWNrZWRDb21wU3ltYm9sS2V5cy5zZXRXb3JsZF0odGhpcyk7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjb21wb25lbnRbVHJhY2tlZENvbXBTeW1ib2xLZXlzLmVudGl0eUlEc10uYWRkKGVpZCk7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjb21wb25lbnRbVHJhY2tlZENvbXBTeW1ib2xLZXlzLm9uQWRkXSh0aGlzLCBlbnRpdHkpO1xuICAgIH1cblxuICAgIGVudGl0eS5vbkNvbXBvbmVudEFkZCh7IHdvcmxkOiB0aGlzLCBjb21wb25lbnQgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIGEgY29tcG9uZW50IGZyb20gdGhlIGdpdmVuIGVudGl0eS5cbiAgICogTk9URTogVGhpcyB3aWxsIGNoYW5nZSB3aGF0IHN5c3RlbXMgd2lsbCBiZSBjYWxsZWQgb24gdGhlIGVudGl0eS5cbiAgICovXG4gIHJlbW92ZSA9IChlaWQ6IEVudGl0eUlkLCBjVHlwZTogQ2xhc3NDb25zdHJ1Y3RvcjxDVD4pOiB0aGlzID0+IHtcbiAgICBjb25zdCBjYyA9XG4gICAgICB0aGlzLmNvbXBvbmVudENvbGxlY3Rpb25zLmdldChlaWQpIHx8IG5ldyBDb21wb25lbnRDb2xsZWN0aW9uPENUPigpO1xuXG4gICAgLy8gbmVlZCB0byBnZXQgY29tcG9uZW50IGluc3RhbmNlLi4uXG4gICAgY29uc3QgY29tcG9uZW50ID0gY2MuZ2V0KGNUeXBlKTtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAoY29tcG9uZW50W1RyYWNrZWRDb21wU3ltYm9sS2V5cy5pc1RyYWNrZWRdKSB7XG4gICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmVudGl0aWVzLmdldChlaWQpO1xuXG4gICAgICBpZiAoIWVudGl0eSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYHdvcmxkLnJlbW92ZTogVW5hYmxlIHRvIGxvY2F0ZSBlbnRpdHkuIGVpZDogJHtlaWR9LCBjVHlwZTogJHtjVHlwZS5uYW1lfWBcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY29tcG9uZW50W1RyYWNrZWRDb21wU3ltYm9sS2V5cy5lbnRpdHlJRHNdLmRlbGV0ZShlaWQpO1xuXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjb21wb25lbnRbVHJhY2tlZENvbXBTeW1ib2xLZXlzLm9uUmVtb3ZlXSh0aGlzLCBlbnRpdHkpO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBlbnRpdHkgZnJvbSBjdXJyZW50IGVudGl0aWVzQnlDVHlwZXNcbiAgICBmb3IgKGNvbnN0IFtjdEFyciwgZW50aXR5U2V0XSBvZiB0aGlzLmVudGl0aWVzQnlDVHlwZXMpIHtcbiAgICAgIGlmICgoY3RBcnIgYXMgc3RyaW5nW10pLmV2ZXJ5KGNjLmhhc0J5TmFtZSkpIHtcbiAgICAgICAgZW50aXR5U2V0LmRlbGV0ZShlaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNjLnJlbW92ZShjVHlwZSk7XG5cbiAgICAvLyBNb3ZlIGVudGl0eUlkIHRvIG5ldyBDVHlwZXMgaWYgbmVlZGVkLlxuICAgIGZvciAoY29uc3QgW2N0QXJyLCBlbnRpdHlTZXRdIG9mIHRoaXMuZW50aXRpZXNCeUNUeXBlcykge1xuICAgICAgaWYgKChjdEFyciBhcyBzdHJpbmdbXSkuZXZlcnkoY2MuaGFzQnlOYW1lKSkge1xuICAgICAgICBlbnRpdHlTZXQuYWRkKGVpZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZW50aXR5ID0gdGhpcy5lbnRpdGllcy5nZXQoZWlkKTtcbiAgICBpZiAoZW50aXR5KSB7XG4gICAgICBlbnRpdHkub25Db21wb25lbnRSZW1vdmUoeyB3b3JsZDogdGhpcywgY29tcG9uZW50IH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNZXRob2QgZm9yIGFkZGluZyBzeXN0ZW1zLlxuICAgKi9cbiAgYWRkU3lzdGVtKFxuICAgIGNUeXBlczogQ2xhc3NDb25zdHJ1Y3RvcjxDVD5bXSxcbiAgICBzeXN0ZW1GdW5jOiBTeXN0ZW1GdW5jPENUPixcbiAgICBmdW5jTmFtZT86IHN0cmluZ1xuICApOiB0aGlzIHtcbiAgICB0aGlzLnN5c3RlbXMuYWRkKGNUeXBlcywgc3lzdGVtRnVuYywgZnVuY05hbWUpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0dXAgYW4gZW50aXR5IHRvIGV4aXN0IGluIHRoZSBnaXZlbiB3b3JsZC4gVGhpcyBpcyBtb3N0bHkgYW4gaW50ZXJuYWwgbWV0aG9kLCBidXQgZXhwb3NlZCBqdXN0IGluIGNhc2UuXG4gICAqL1xuICByZWdpc3RlckVudGl0eShlbnRpdHk6IEVudGl0eTxDVD4pOiBXb3JsZDxDVD4ge1xuICAgIGNvbnN0IGNjID0gbmV3IENvbXBvbmVudENvbGxlY3Rpb248Q1Q+KCk7XG5cbiAgICB0aGlzLmNvbXBvbmVudENvbGxlY3Rpb25zLnNldChlbnRpdHkuaWQsIGNjKTtcbiAgICB0aGlzLmVudGl0aWVzLnNldChlbnRpdHkuaWQsIGVudGl0eSk7XG5cbiAgICBlbnRpdHkub25DcmVhdGUodGhpcyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGNvbXBvbmVudHMgdGhhdCBiZWxvbmcgdG8gYW4gZW50aXR5LlxuICAgKi9cbiAgY2xlYXJFbnRpdHlDb21wb25lbnRzKGVudGl0eUlkOiBFbnRpdHlJZCk6IHRoaXMge1xuICAgIHRoaXMuY29tcG9uZW50Q29sbGVjdGlvbnMuc2V0KGVudGl0eUlkLCBuZXcgQ29tcG9uZW50Q29sbGVjdGlvbjxDVD4oKSk7XG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eVNldCBvZiB0aGlzLmVudGl0aWVzQnlDVHlwZXMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChlbnRpdHlTZXQuaGFzKGVudGl0eUlkKSkge1xuICAgICAgICBlbnRpdHlTZXQuZGVsZXRlKGVudGl0eUlkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gZW50aXR5IHRoYXQgaXMgaW4gdGhlIHdvcmxkLlxuICAgKiBCYXNpY2FsbHkganVzdCBuZXcgRW50aXR5KHdvcmxkKSwgYnV0IHNhdmVzIGFuIGltcG9ydCBvZiBFbnRpdHkuXG4gICAqL1xuICBjcmVhdGVFbnRpdHkoKTogRW50aXR5PENUPiB7XG4gICAgY29uc3QgZW50aXR5ID0gbmV3IEVudGl0eSh0aGlzKTtcblxuICAgIHJldHVybiBlbnRpdHk7XG5cbiAgICAvLyBSZWdpc3RlciBlbnRpdHkgaGVyZS4uLi5cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyBhbiBlbnRpdHkuXG4gICAqIFNhbWUgYXMgZW50aXR5LmRlc3Ryb3koKS5cbiAgICovXG4gIGRlc3Ryb3lFbnRpdHkoZW50aXR5SWQ6IEVudGl0eUlkKTogV29ybGQ8Q1Q+IHtcbiAgICB0aGlzLmNvbXBvbmVudENvbGxlY3Rpb25zLmRlbGV0ZShlbnRpdHlJZCk7XG4gICAgY29uc3QgZW50aXR5ID0gdGhpcy5lbnRpdGllcy5nZXQoZW50aXR5SWQpO1xuXG4gICAgaWYgKCFlbnRpdHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYHdvcmxkLmRlc3Ryb3lFbnRpdHk6IE5vIGVudGl0eSBmb3VuZC4gZW50aXR5IGlkOiAke2VudGl0eUlkfWBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5lbnRpdGllcy5kZWxldGUoZW50aXR5SWQpO1xuXG4gICAgZm9yIChjb25zdCBlbnRpdHlTZXQgb2YgdGhpcy5lbnRpdGllc0J5Q1R5cGVzLnZhbHVlcygpKSB7XG4gICAgICBpZiAoZW50aXR5U2V0LmhhcyhlbnRpdHlJZCkpIHtcbiAgICAgICAgZW50aXR5U2V0LmRlbGV0ZShlbnRpdHlJZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGFueSB0YWcgYXNzb2NpYXRpb25zIHdpdGggZGVzdHJveWVkIGVudGl0aWVzLlxuICAgIGZvciAoY29uc3QgW3RhZywgZW50aXR5U2V0XSBvZiB0aGlzLmVudGl0aWVzQnlUYWdzKSB7XG4gICAgICBpZiAoZW50aXR5U2V0LmhhcyhlbnRpdHlJZCkpIHtcbiAgICAgICAgZW50aXR5U2V0LmRlbGV0ZShlbnRpdHlJZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbnRpdHlTZXQuc2l6ZSA9PT0gMCkge1xuICAgICAgICB0aGlzLmVudGl0aWVzQnlUYWdzLmRlbGV0ZSh0YWcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLypcbiAgVE9ETzogd29ybGQuZGVzdHJveSgpIGFuZCB3b3JsZC5kZXN0cm95SW1tZWRpYXRlbHkoKSBtZXRob2RzLlxuICAqL1xufVxuIiwiaW1wb3J0IFdvcmxkIGZyb20gJy4vV29ybGQnO1xuaW1wb3J0IHsgdHJhY2tDb21wb25lbnQgfSBmcm9tICcuL1RyYWNrZWRDb21wb25lbnQnO1xuaW1wb3J0IEVudGl0eSBmcm9tICcuL0VudGl0eSc7XG5cbmV4cG9ydCB7IFdvcmxkLCB0cmFja0NvbXBvbmVudCwgRW50aXR5IH07XG4iXSwibmFtZXMiOlsiaXNDb21wb25lbnRJbnN0YW5jZSIsIkNsYXNzIiwiY29tcCIsIl9pbnN0YW5jZW9mIiwiQ29tcG9uZW50Q29sbGVjdGlvbiIsIk1hcCIsImNvbXBvbmVudCIsImNsIiwiZnVuYyIsImMiLCJ1cGRhdGVkQ29tcG9uZW50IiwiY1R5cGUiLCJFcnJvciIsIkFycmF5IiwiY3QiLCJjTmFtZSIsInRvRGV2Q29tcG9uZW50cyIsIm9iaiIsIl9pdGVyYXRvckVycm9yIiwiY29tcE5hbWUiLCJEZXZFbnRpdHkiLCJlbnRpdHkiLCJ3b3JsZCIsImNvbXBOYW1lcyIsIk9iamVjdCIsInN5c3RlbU5hbWUiLCJjTmFtZXMiLCJ0b1RhYmxlUm93IiwiU2ltcGxlRlNNIiwiaW5pdGlhbFN0YXRlIiwidHJhbnNpdGlvbnMiLCJuZXh0IiwiZGF0YSIsInJlc2V0IiwiaXMiLCJjaGVja1N0YXRlIiwidjQiLCJ1dWlkdjQiLCJFbnRpdHkiLCJmc21UcmFuc2l0aW9uIiwibnMiLCJvbkNyZWF0ZSIsIm9uRGVzdHJveSIsIm9uQ29tcG9uZW50QWRkIiwiYXJncyIsIm9uVHJhY2tlZENvbXBvbmVudFVwZGF0ZSIsIm9uQ29tcG9uZW50UmVtb3ZlIiwiYWRkIiwiYWRkVGFnIiwidGFnIiwiZW50aXR5U2V0IiwiU2V0IiwiaGFzIiwiY2MiLCJoYXNUYWciLCJnZXQiLCJnZXRBbGwiLCJyZW1vdmUiLCJyZW1vdmVUYWciLCJjbGVhciIsImNsZWFyVGFncyIsImZpbmlzaENyZWF0aW9uIiwiZGVzdHJveSIsImRlc3Ryb3lJbW1lZGlhdGVseSIsInRhZ3MiLCJ0b0RldkVudGl0eSIsIkRldlRvb2xzIiwiY29tcHNCeVN5c3RlbXMiLCJzeXN0ZW0iLCJlIiwiU3lzdGVtcyIsImNUeXBlcyIsInN5c3RlbUZ1bmMiLCJmdW5jTmFtZSIsIm5hbWUiLCJydW4iLCJzaXplIiwiZW50aXRpZXNJbkNyZWF0aW5nU3RhdGUiLCJlbnRpdGllc0luRGVzdHJveWluZ1N0YXRlIiwiX2l0ZXJhdG9yRXJyb3IxIiwiaW5kZXgiLCJjVHlwZUFycnMiLCJfaXRlcmF0b3JFcnJvcjIiLCJlaWQiLCJfaXRlcmF0b3JFcnJvcjMiLCJlbnRpdHkxIiwiX2l0ZXJhdG9yRXJyb3I0IiwiZW50aXR5MiIsIlRyYWNrZWRDb21wU3ltYm9sS2V5cyIsIlN5bWJvbCIsImNyZWF0ZUNsYXNzSW5zdGFuY2VQcm94eUhhbmRsZXJzIiwidHJhY2tlZEV2ZW50SGFuZGxlcnMiLCJ1cGRhdGVkUHJvcHMiLCJzZXQiLCJwcm9wZXJ0eSIsInZhbHVlIiwicHJldmlvdXNWYWwiLCJlbnRpdGllcyIsInRyYWNrQ29tcG9uZW50IiwiQ29tcENsYXNzIiwiUHJveHkiLCJjb25zdHJ1Y3QiLCJDb21wb25lbnQiLCJXb3JsZCIsInByZWRpY2F0ZSIsInJlc3VsdHMiLCJkZWZhdWx0VmFsdWUiLCJyZXN1bHQiLCJ0YWdFbnRpdHlJZHMiLCJlbnRpdHlJZCIsImN0QXJyIiwiY3RBcnIxIiwiZW50aXR5U2V0MSIsImFkZFN5c3RlbSIsInJlZ2lzdGVyRW50aXR5IiwiY2xlYXJFbnRpdHlDb21wb25lbnRzIiwiY3JlYXRlRW50aXR5IiwiZGVzdHJveUVudGl0eSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFD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\n//# sourceURL=webpack-internal:///309\n\n}')}},__webpack_module_cache__={};function __webpack_require__(n){var t=__webpack_module_cache__[n];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var e=__webpack_module_cache__[n]={id:n,exports:{}};try{var r={id:n,module:e,factory:__webpack_modules__[n],require:__webpack_require__};if(__webpack_require__.i.forEach(function(n){n(r)}),e=r.module,!r.factory)throw console.error("undefined factory",n),Error("RuntimeError: factory is undefined ("+n+")");r.factory.call(e.exports,e,e.exports,r.require)}catch(n){throw e.error=n,n}return e.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.c=__webpack_module_cache__,__webpack_require__.i=[],(()=>{__webpack_require__.d=(n,t)=>{for(var e in t)__webpack_require__.o(t,e)&&!__webpack_require__.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})}})(),(()=>{__webpack_require__.hu=n=>"hot/hot-update.js"})(),(()=>{__webpack_require__.hmrF=function(){return"hot/hot-update.json"}})(),(()=>{__webpack_require__.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t)})(),(()=>{var n,t,e,r={},i=__webpack_require__.c,o=[],l=[],Q="idle",s=0,B=[];function a(t,e){var r=i[e];if(!r)return t;var l=function(l){if(r.hot.active){if(i[l]){var Q=i[l].parents;-1===Q.indexOf(e)&&Q.push(e)}else o=[e],n=l;-1===r.children.indexOf(l)&&r.children.push(l)}else console.warn("[HMR] unexpected require("+l+") from disposed module "+e),o=[];return t(l)},Q=function(n){return{configurable:!0,enumerable:!0,get:function(){return t[n]},set:function(e){t[n]=e}}};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&"e"!==s&&Object.defineProperty(l,s,Q(s));return l.e=function(n,e){return F(t.e(n,e))},l}function c(i,s){var B=n!==i,a={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:B,_requireSelf:function(){o=s.parents.slice(),n=B?void 0:i,__webpack_require__(i)},active:!0,accept:function(n,t,e){if(void 0===n)a._selfAccepted=!0;else if("function"==typeof n)a._selfAccepted=n;else if("object"==typeof n&&null!==n)for(var r=0;r<n.length;r++)a._acceptedDependencies[n[r]]=t||function(){},a._acceptedErrorHandlers[n[r]]=e;else a._acceptedDependencies[n]=t||function(){},a._acceptedErrorHandlers[n]=e},decline:function(n){if(void 0===n)a._selfDeclined=!0;else if("object"==typeof n&&null!==n)for(var t=0;t<n.length;t++)a._declinedDependencies[n[t]]=!0;else a._declinedDependencies[n]=!0},dispose:function(n){a._disposeHandlers.push(n)},addDisposeHandler:function(n){a._disposeHandlers.push(n)},removeDisposeHandler:function(n){var t=a._disposeHandlers.indexOf(n);t>=0&&a._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,Q){case"idle":t=[],Object.keys(__webpack_require__.hmrI).forEach(function(n){__webpack_require__.hmrI[n](i,t)}),d("ready");break;case"ready":Object.keys(__webpack_require__.hmrI).forEach(function(n){__webpack_require__.hmrI[n](i,t)});break;case"prepare":case"check":case"dispose":case"apply":(e=e||[]).push(i)}},check:I,apply:g,status:function(n){if(!n)return Q;l.push(n)},addStatusHandler:function(n){l.push(n)},removeStatusHandler:function(n){var t=l.indexOf(n);t>=0&&l.splice(t,1)},data:r[i]};return n=void 0,a}function d(n){Q=n;for(var t=[],e=0;e<l.length;e++)t[e]=l[e].call(null,n);return Promise.all(t).then(function(){})}function U(){0==--s&&d("ready").then(function(){if(0===s){var n=B;B=[];for(var t=0;t<n.length;t++)n[t]()}})}function F(n){switch(Q){case"ready":d("prepare");case"prepare":return s++,n.then(U,U),n;default:return n}}function b(n){return 0===s?n():new Promise(function(t){B.push(function(){t(n())})})}function I(n){if("idle"!==Q)throw Error("check() is only allowed in idle status");return d("check").then(__webpack_require__.hmrM).then(function(e){return e?d("prepare").then(function(){var r=[];return t=[],Promise.all(Object.keys(__webpack_require__.hmrC).reduce(function(n,i){return __webpack_require__.hmrC[i](e.c,e.r,e.m,n,t,r),n},[])).then(function(){return b(function(){return n?u(n):d("ready").then(function(){return r})})})}):d(C()?"ready":"idle").then(function(){return null})})}function g(n){return"ready"!==Q?Promise.resolve().then(function(){throw Error("apply() is only allowed in ready status (state: "+Q+")")}):u(n)}function u(n){n=n||{},C();var r,i=t.map(function(t){return t(n)});t=void 0;var o=i.map(function(n){return n.error}).filter(Boolean);if(o.length>0)return d("abort").then(function(){throw o[0]});var l=d("dispose");i.forEach(function(n){n.dispose&&n.dispose()});var Q=d("apply"),s=function(n){r||(r=n)},B=[];return i.forEach(function(n){if(n.apply){var t=n.apply(s);if(t)for(var e=0;e<t.length;e++)B.push(t[e])}}),Promise.all([l,Q]).then(function(){return r?d("fail").then(function(){throw r}):e?u(n).then(function(n){return B.forEach(function(t){0>n.indexOf(t)&&n.push(t)}),n}):d("idle").then(function(){return B})})}function C(){if(e)return t||(t=[]),Object.keys(__webpack_require__.hmrI).forEach(function(n){e.forEach(function(e){__webpack_require__.hmrI[n](e,t)})}),e=void 0,!0}__webpack_require__.hmrD=r,__webpack_require__.i.push(function(n){var t=n.module,e=a(n.require,n.id);t.hot=c(n.id,t),t.parents=o,t.children=[],o=[],n.require=e}),__webpack_require__.hmrC={},__webpack_require__.hmrI={}})(),(()=>{var n={},t="ecstatic:";__webpack_require__.l=function(e,r,i,o){if(n[e])return void n[e].push(r);if(void 0!==i)for(var l,Q,s=document.getElementsByTagName("script"),B=0;B<s.length;B++){var a=s[B];if(a.getAttribute("src")==e||a.getAttribute("data-webpack")==t+i){l=a;break}}l||(Q=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,__webpack_require__.nc&&l.setAttribute("nonce",__webpack_require__.nc),l.setAttribute("data-webpack",t+i),l.src=e),n[e]=[r];var c=function(t,r){l.onerror=l.onload=null,clearTimeout(d);var i=n[e];if(delete n[e],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach(function(n){return n(r)}),t)return t(r)},d=setTimeout(c.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=c.bind(null,l.onerror),l.onload=c.bind(null,l.onload),Q&&document.head.appendChild(l)}})(),(()=>{__webpack_require__.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.p="/static/"})(),(()=>{var n,t,e,r,i,o=__webpack_require__.hmrS_jsonp=__webpack_require__.hmrS_jsonp||{889:0},l={};function Q(t,e){return n=e,new Promise((n,e)=>{l[t]=n;var r=__webpack_require__.p+__webpack_require__.hu(t),i=Error(),o=n=>{if(l[t]){l[t]=void 0;var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading hot update chunk "+t+" failed.\n("+r+": "+o+")",i.name="ChunkLoadError",i.type=r,i.request=o,e(i)}};__webpack_require__.l(r,o)})}function s(n){function l(n){for(var t=[n],e={},r=t.map(function(n){return{chain:[n],id:n}});r.length>0;){var i=r.pop(),o=i.id,l=i.chain,s=__webpack_require__.c[o];if(s&&(!s.hot._selfAccepted||s.hot._selfInvalidated)){if(s.hot._selfDeclined)return{type:"self-declined",chain:l,moduleId:o};if(s.hot._main)return{type:"unaccepted",chain:l,moduleId:o};for(var B=0;B<s.parents.length;B++){var a=s.parents[B],c=__webpack_require__.c[a];if(c){if(c.hot._declinedDependencies[o])return{type:"declined",chain:l.concat([a]),moduleId:o,parentId:a};if(-1===t.indexOf(a)){if(c.hot._acceptedDependencies[o]){e[a]||(e[a]=[]),Q(e[a],[o]);continue}delete e[a],t.push(a),r.push({chain:l.concat([a]),id:a})}}}}}return{type:"accepted",moduleId:n,outdatedModules:t,outdatedDependencies:e}}function Q(n,t){for(var e=0;e<t.length;e++){var r=t[e];-1===n.indexOf(r)&&n.push(r)}}__webpack_require__.f&&delete __webpack_require__.f.jsonpHmr,t=void 0;var s,B={},a=[],c={},d=function(n){console.warn("[HMR] unexpected require("+n.id+") to disposed module")};for(var U in e)if(__webpack_require__.o(e,U)){var F=e[U],b=F?l(U):{type:"disposed",moduleId:U},I=!1,g=!1,u=!1,C="";switch(b.chain&&(C="\nUpdate propagation: "+b.chain.join(" -> ")),b.type){case"self-declined":n.onDeclined&&n.onDeclined(b),n.ignoreDeclined||(I=Error("Aborted because of self decline: "+b.moduleId+C));break;case"declined":n.onDeclined&&n.onDeclined(b),n.ignoreDeclined||(I=Error("Aborted because of declined dependency: "+b.moduleId+" in "+b.parentId+C));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(b),n.ignoreUnaccepted||(I=Error("Aborted because "+U+" is not accepted"+C));break;case"accepted":n.onAccepted&&n.onAccepted(b),g=!0;break;case"disposed":n.onDisposed&&n.onDisposed(b),u=!0;break;default:throw Error("Unexception type "+b.type)}if(I)return{error:I};if(g)for(U in c[U]=F,Q(a,b.outdatedModules),b.outdatedDependencies)__webpack_require__.o(b.outdatedDependencies,U)&&(B[U]||(B[U]=[]),Q(B[U],b.outdatedDependencies[U]));u&&(Q(a,[b.moduleId]),c[U]=d)}e=void 0;for(var y=[],G=0;G<a.length;G++){var p=a[G],m=__webpack_require__.c[p];m&&(m.hot._selfAccepted||m.hot._main)&&c[p]!==d&&!m.hot._selfInvalidated&&y.push({module:p,require:m.hot._requireSelf,errorHandler:m.hot._selfAccepted})}return{dispose:function(){r.forEach(function(n){delete o[n]}),r=void 0;for(var n,t,e=a.slice();e.length>0;){var i=e.pop(),l=__webpack_require__.c[i];if(l){var Q={},c=l.hot._disposeHandlers;for(G=0;G<c.length;G++)c[G].call(null,Q);for(__webpack_require__.hmrD[i]=Q,l.hot.active=!1,delete __webpack_require__.c[i],delete B[i],G=0;G<l.children.length;G++){var d=__webpack_require__.c[l.children[G]];d&&(n=d.parents.indexOf(i))>=0&&d.parents.splice(n,1)}}}for(var U in B)if(__webpack_require__.o(B,U)&&(l=__webpack_require__.c[U]))for(G=0,s=B[U];G<s.length;G++)t=s[G],(n=l.children.indexOf(t))>=0&&l.children.splice(n,1)},apply:function(t){for(var e in c)__webpack_require__.o(c,e)&&(__webpack_require__.m[e]=c[e]);for(var r=0;r<i.length;r++)i[r](__webpack_require__);for(var o in B)if(__webpack_require__.o(B,o)){var l=__webpack_require__.c[o];if(l){s=B[o];for(var Q=[],d=[],U=[],F=0;F<s.length;F++){var b=s[F],I=l.hot._acceptedDependencies[b],g=l.hot._acceptedErrorHandlers[b];if(I){if(-1!==Q.indexOf(I))continue;Q.push(I),d.push(g),U.push(b)}}for(var u=0;u<Q.length;u++)try{Q[u].call(null,s)}catch(e){if("function"==typeof d[u])try{d[u](e,{moduleId:o,dependencyId:U[u]})}catch(r){n.onErrored&&n.onErrored({type:"accept-error-handler-errored",moduleId:o,dependencyId:U[u],error:r,originalError:e}),n.ignoreErrored||(t(r),t(e))}else n.onErrored&&n.onErrored({type:"accept-errored",moduleId:o,dependencyId:U[u],error:e}),n.ignoreErrored||t(e)}}}for(var C=0;C<y.length;C++){var G=y[C],p=G.module;try{G.require(p)}catch(e){if("function"==typeof G.errorHandler)try{G.errorHandler(e,{moduleId:p,module:__webpack_require__.c[p]})}catch(r){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:p,error:r,originalError:e}),n.ignoreErrored||(t(r),t(e))}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:p,error:e}),n.ignoreErrored||t(e)}}return a}}}self.webpackHotUpdateecstatic=(t,r,o)=>{for(var Q in r)__webpack_require__.o(r,Q)&&(e[Q]=r[Q],n&&n.push(Q));o&&i.push(o),l[t]&&(l[t](),l[t]=void 0)},__webpack_require__.hmrI.jsonp=function(n,t){e||(e={},i=[],r=[],t.push(s)),__webpack_require__.o(e,n)||(e[n]=__webpack_require__.m[n])},__webpack_require__.hmrC.jsonp=function(n,l,B,a,c,d){c.push(s),t={},r=l,e=B.reduce(function(n,t){return n[t]=!1,n},{}),i=[],n.forEach(function(n){__webpack_require__.o(o,n)&&void 0!==o[n]?(a.push(Q(n,d)),t[n]=!0):t[n]=!1}),__webpack_require__.f&&(__webpack_require__.f.jsonpHmr=function(n,e){t&&__webpack_require__.o(t,n)&&!t[n]&&(e.push(Q(n)),t[n]=!0)})},__webpack_require__.hmrM=()=>{if("undefined"==typeof fetch)throw Error("No browser support: need fetch API");return fetch(__webpack_require__.p+__webpack_require__.hmrF()).then(n=>{if(404!==n.status){if(!n.ok)throw Error("Failed to fetch update manifest "+n.statusText);return n.json()}})}})();var __webpack_exports__=__webpack_require__(309);return __webpack_exports__})());