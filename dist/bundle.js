!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ecstatic",[],t):"object"==typeof exports?exports.ecstatic=t():n.ecstatic=t()}(self,()=>(()=>{"use strict";var __webpack_modules__={309:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('{// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  Entity: () => (/* reexport */ Entity_Entity),\n  World: () => (/* reexport */ World_World),\n  trackComponent: () => (/* reexport */ trackComponent)\n});\n\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/rng.js\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== \'undefined\' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== \'undefined\' && typeof msCrypto.getRandomValues === \'function\' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error(\'crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/regex.js\n/* ESM default export */ const regex = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/validate.js\n\n\nfunction validate(uuid) {\n  return typeof uuid === \'string\' && regex.test(uuid);\n}\n\n/* ESM default export */ const esm_browser_validate = (validate);\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/stringify.js\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var stringify_i = 0; stringify_i < 256; ++stringify_i) {\n  byteToHex.push((stringify_i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It\'s been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + \'-\' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + \'-\' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + \'-\' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + \'-\' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it\'s likely due to one\n  // of the following:\n  // - One or more input array values don\'t map to a hex octet (leading to\n  // "undefined" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!esm_browser_validate(uuid)) {\n    throw TypeError(\'Stringified UUID is invalid\');\n  }\n\n  return uuid;\n}\n\n/* ESM default export */ const esm_browser_stringify = (stringify);\n;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/v4.js\n\n\n\nfunction v4_v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return esm_browser_stringify(rnds);\n}\n\n/* ESM default export */ const v4 = (v4_v4);\n;// CONCATENATED MODULE: ./src/guards.ts\nfunction _instanceof(left, right) {\n    if (right != null && typeof Symbol !== "undefined" && right[Symbol.hasInstance]) {\n        return !!right[Symbol.hasInstance](left);\n    } else {\n        return left instanceof right;\n    }\n}\nfunction isComponentInstance(Class, comp) {\n    if (!comp) {\n        return false;\n    }\n    if (!_instanceof(comp, Class)) {\n        return false;\n    }\n    return true;\n}\n\n;// CONCATENATED MODULE: ./src/ComponentCollection.ts\nfunction _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nfunction _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _iterable_to_array(iter) {\n    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);\n}\nfunction _iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i["return"] != null) _i["return"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction _non_iterable_rest() {\n    throw new TypeError("Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction _non_iterable_spread() {\n    throw new TypeError("Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction _sliced_to_array(arr, i) {\n    return _array_with_holes(arr) || _iterable_to_array_limit(arr, i) || _unsupported_iterable_to_array(arr, i) || _non_iterable_rest();\n}\nfunction _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return _array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\n\nvar ComponentCollection_ComponentCollection = /*#__PURE__*/ function() {\n    "use strict";\n    function ComponentCollection() {\n        var _this = this;\n        _class_call_check(this, ComponentCollection);\n        _define_property(this, "components", new Map());\n        // instance of a component\n        _define_property(this, "add", function(component) {\n            _this.components.set(component.constructor.name, component);\n        });\n        _define_property(this, "update", function(cl, func) {\n            var c = _this.components.get(cl.name);\n            if (isComponentInstance(cl, c)) {\n                var updatedComponent = func(c);\n                _this.components.set(cl.name, updatedComponent);\n            }\n        });\n        /**\n   * Remove a component.\n   * @param cType Class of component to remove.\n   */ _define_property(this, "remove", function(cType) {\n            _this.components.delete(cType.name);\n        });\n        /**\n   * Get a component that matches the passed class.\n   * Will throw an error if an instance of the given component\n   * doesn\'t exist in the collection, so if you don\'t know if it\'s safe\n   * to get a component, you should test with has() or hasByName() first.\n   * You have been warned.\n   * @param cl component Class reference.\n   */ _define_property(this, "get", function(cl) {\n            var comp = _this.components.get(cl.name);\n            if (isComponentInstance(cl, comp)) {\n                return comp;\n            } else {\n                throw new Error("ComponentCollection does not have component of type ".concat(cl.name));\n            }\n        });\n        /**\n   * Test to see if the collection contains a specific Class or Classes.\n   * @param cType component Class, or array of component Classes.\n   */ _define_property(this, "has", function(cType) {\n            return Array.isArray(cType) ? cType.every(function(ct) {\n                return _this.components.has(ct.name) === true;\n            }) : _this.components.has(cType.name);\n        });\n        /**\n   * Test to see if the collection has a component instance based on a\n   * class name. Some build steps/minifiers will change the name of Classes,\n   * so it\'s usually best to pass in a MyClass.name instead of \'MyClass\'.\n   * @param cName The name of a Class, or array of Class names.\n   */ _define_property(this, "hasByName", function(cName) {\n            return Array.isArray(cName) ? cName.every(function(ct) {\n                return _this.components.has(ct) === true;\n            }) : _this.components.has(cName);\n        });\n    }\n    _create_class(ComponentCollection, [\n        {\n            key: "componentTypes",\n            get: /**\n   * Get the component type names that are currently being used in the collection.\n   */ function get() {\n                return _to_consumable_array(this.components.keys());\n            }\n        },\n        {\n            key: "size",\n            get: /**\n   * Get the current number of components that are in the collection.\n   */ function get() {\n                return this.components.size;\n            }\n        },\n        {\n            key: "toDevComponents",\n            value: function toDevComponents() {\n                var obj = {};\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this.components[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var _step_value = _sliced_to_array(_step.value, 2), compName = _step_value[0], comp = _step_value[1];\n                        obj[compName] = comp;\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                return obj;\n            }\n        }\n    ]);\n    return ComponentCollection;\n}();\n// CT is a Union, like `type = FirstComponent | SecondComponent`.\n\n\n;// CONCATENATED MODULE: ./src/DevEntity.ts\nfunction DevEntity_array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction DevEntity_array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction DevEntity_array_without_holes(arr) {\n    if (Array.isArray(arr)) return DevEntity_array_like_to_array(arr);\n}\nfunction DevEntity_class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction DevEntity_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction DevEntity_create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) DevEntity_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) DevEntity_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction DevEntity_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction DevEntity_iterable_to_array(iter) {\n    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);\n}\nfunction DevEntity_iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i["return"] != null) _i["return"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction DevEntity_non_iterable_rest() {\n    throw new TypeError("Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction DevEntity_non_iterable_spread() {\n    throw new TypeError("Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction DevEntity_sliced_to_array(arr, i) {\n    return DevEntity_array_with_holes(arr) || DevEntity_iterable_to_array_limit(arr, i) || DevEntity_unsupported_iterable_to_array(arr, i) || DevEntity_non_iterable_rest();\n}\nfunction DevEntity_to_consumable_array(arr) {\n    return DevEntity_array_without_holes(arr) || DevEntity_iterable_to_array(arr) || DevEntity_unsupported_iterable_to_array(arr) || DevEntity_non_iterable_spread();\n}\nfunction DevEntity_unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return DevEntity_array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return DevEntity_array_like_to_array(o, minLen);\n}\nvar DevEntity_DevEntity = /*#__PURE__*/ function() {\n    "use strict";\n    function DevEntity(entity, world) {\n        DevEntity_class_call_check(this, DevEntity);\n        DevEntity_define_property(this, "id", void 0);\n        DevEntity_define_property(this, "components", void 0);\n        DevEntity_define_property(this, "tags", void 0);\n        DevEntity_define_property(this, "systems", []);\n        DevEntity_define_property(this, "state", void 0);\n        this.id = entity.id;\n        this.components = entity.components.toDevComponents(), this.tags = DevEntity_to_consumable_array(entity.tags);\n        this.state = entity.state;\n        var compNames = Object.keys(this.components);\n        var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n        try {\n            for(var _iterator = world.systems.compNamesBySystemName[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                var _step_value = DevEntity_sliced_to_array(_step.value, 2), systemName = _step_value[0], cNames = _step_value[1];\n                if (cNames.every(function(cName) {\n                    return compNames.includes(cName);\n                })) {\n                    this.systems.push(systemName);\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally{\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                }\n            } finally{\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    }\n    DevEntity_create_class(DevEntity, [\n        {\n            key: "toTableRow",\n            value: function toTableRow() {\n                return {\n                    id: this.id,\n                    components: Object.keys(this.components).join(", "),\n                    tags: this.tags.join(", "),\n                    systems: this.systems.join(\', \')\n                };\n            }\n        }\n    ]);\n    return DevEntity;\n}();\n/* ESM default export */ const src_DevEntity = (DevEntity_DevEntity);\n\n;// CONCATENATED MODULE: ./src/SimpleFSM.ts\nfunction SimpleFSM_class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction SimpleFSM_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction SimpleFSM_create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) SimpleFSM_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) SimpleFSM_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction SimpleFSM_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nvar SimpleFSM_SimpleFSM = /*#__PURE__*/ function() {\n    "use strict";\n    function SimpleFSM(initialState, transitions) {\n        SimpleFSM_class_call_check(this, SimpleFSM);\n        SimpleFSM_define_property(this, "current", void 0);\n        SimpleFSM_define_property(this, "inital", void 0);\n        SimpleFSM_define_property(this, "transitions", void 0);\n        this.inital = initialState;\n        this.current = initialState;\n        this.transitions = transitions;\n    }\n    SimpleFSM_create_class(SimpleFSM, [\n        {\n            key: "next",\n            value: function next(data) {\n                if (this.transitions[this.current]) {\n                    this.current = this.transitions[this.current](data, this.current);\n                }\n            }\n        },\n        {\n            key: "reset",\n            value: function reset() {\n                this.current = this.inital;\n            }\n        },\n        {\n            key: "is",\n            value: function is(checkState) {\n                return this.current === checkState;\n            }\n        }\n    ]);\n    return SimpleFSM;\n}();\n\n\n;// CONCATENATED MODULE: ./src/Entity.ts\nfunction Entity_array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction Entity_array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction Entity_class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction Entity_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction Entity_create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) Entity_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) Entity_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction Entity_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction Entity_iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i["return"] != null) _i["return"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction Entity_non_iterable_rest() {\n    throw new TypeError("Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction Entity_sliced_to_array(arr, i) {\n    return Entity_array_with_holes(arr) || Entity_iterable_to_array_limit(arr, i) || Entity_unsupported_iterable_to_array(arr, i) || Entity_non_iterable_rest();\n}\nfunction Entity_unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return Entity_array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Entity_array_like_to_array(o, minLen);\n}\n\n\n\n\nvar Entity_Entity = /*#__PURE__*/ function() {\n    "use strict";\n    function Entity(world) {\n        var _this = this;\n        Entity_class_call_check(this, Entity);\n        Entity_define_property(this, "_id", void 0);\n        Entity_define_property(this, "_world", void 0);\n        Entity_define_property(this, "_error", void 0);\n        Entity_define_property(this, "_state", void 0);\n        this._id = v4();\n        this._world = world;\n        this._error = null;\n        var fsmTransition = function(ns) {\n            if (ns === "error" || _this._error) return "error";\n            return ns;\n        };\n        this._state = new SimpleFSM_SimpleFSM("creating", {\n            creating: fsmTransition,\n            created: fsmTransition,\n            destroying: fsmTransition,\n            destroyed: function() {\n                return "destroyed";\n            },\n            error: function() {\n                return "error";\n            }\n        });\n        /*\n    Registering with the World.\n    */ this._world.registerEntity(this);\n        if (this._world.systems.compNamesBySystemName.size === 0) {\n            this._state.next(\'created\');\n        }\n    }\n    Entity_create_class(Entity, [\n        {\n            key: "id",\n            get: function get() {\n                return this._id;\n            }\n        },\n        {\n            key: "world",\n            get: function get() {\n                return this._world;\n            }\n        },\n        {\n            key: "state",\n            get: function get() {\n                return this._state.current;\n            }\n        },\n        {\n            /* LifeCycle methods, meant to be overridden */ key: "onCreate",\n            value: function onCreate(world) {\n            // abstract\n            }\n        },\n        {\n            key: "onDestroy",\n            value: function onDestroy(world) {\n            // abstract\n            }\n        },\n        {\n            key: "onComponentAdd",\n            value: function onComponentAdd(args) {\n            // abstract\n            }\n        },\n        {\n            key: "onTrackedComponentUpdate",\n            value: function onTrackedComponentUpdate(args) {\n            // abstract\n            }\n        },\n        {\n            key: "onComponentRemove",\n            value: function onComponentRemove(args) {\n            // abstract\n            }\n        },\n        {\n            /**\n   * Add a component to an Entity, doh.\n   */ key: "add",\n            value: function add(component) {\n                this._world.add(this._id, component);\n                return this;\n            }\n        },\n        {\n            /**\n   * Add a tag to a component\n   */ key: "addTag",\n            value: function addTag(tag) {\n                var entitySet = this._world.entitiesByTags.has(tag) ? this._world.entitiesByTags.get(tag) : new Set();\n                if (entitySet) {\n                    entitySet.add(this._id);\n                    this._world.entitiesByTags.set(tag, entitySet);\n                }\n                return this;\n            }\n        },\n        {\n            /**\n   * Determines if an entity has a component related to it.\n   */ key: "has",\n            value: function has(cType) {\n                var cc = this._world.componentCollections.get(this._id) || new ComponentCollection_ComponentCollection();\n                return cc.has(cType);\n            }\n        },\n        {\n            /**\n   * Check to see if an entity tagged with a given tag.\n   */ key: "hasTag",\n            value: function hasTag(tag) {\n                if (this._world.entitiesByTags.has(tag)) {\n                    var entitySet = this._world.entitiesByTags.get(tag);\n                    if (entitySet) {\n                        return entitySet.has(this._id);\n                    }\n                }\n                return false;\n            }\n        },\n        {\n            /**\n   * Get a component that belongs to an entity.\n   */ key: "get",\n            value: function get(cl) {\n                var cc = this._world.componentCollections.get(this._id) || new ComponentCollection_ComponentCollection();\n                var component = cc.get(cl);\n                return component;\n            }\n        },\n        {\n            /**\n   * Get all components that have been added to an entity, via a ComponentCollection\n   */ key: "getAll",\n            value: function getAll() {\n                return this._world.componentCollections.get(this._id) || new ComponentCollection_ComponentCollection();\n            }\n        },\n        {\n            /**\n   * Remove a component from an entity.\n   * @param cType A component class, eg MyComponent\n   */ key: "remove",\n            value: function remove(cType) {\n                this._world.remove(this._id, cType);\n                return this;\n            }\n        },\n        {\n            /**\n   * Remove a tag from an entity\n   */ key: "removeTag",\n            value: function removeTag(tag) {\n                if (this._world.entitiesByTags.has(tag)) {\n                    var entitySet = this._world.entitiesByTags.get(tag);\n                    if (entitySet) {\n                        entitySet.delete(this._id);\n                        if (entitySet.size === 0) {\n                            this._world.entitiesByTags.delete(tag);\n                        }\n                    }\n                }\n                return this;\n            }\n        },\n        {\n            /** Clears all components from an Entity */ key: "clear",\n            value: function clear() {\n                this._world.clearEntityComponents(this._id);\n                return this;\n            }\n        },\n        {\n            /**\n   * Remove all tags on an entity\n   */ key: "clearTags",\n            value: function clearTags() {\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this._world.entitiesByTags.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var _step_value = Entity_sliced_to_array(_step.value, 2), tag = _step_value[0], entitySet = _step_value[1];\n                        entitySet.delete(this._id);\n                        if (entitySet.size === 0) {\n                            this._world.entitiesByTags.delete(tag);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                return this;\n            }\n        },\n        {\n            /**\n   * Sets the state of the entity to \'created\'. that\'s it.\n   */ key: "finishCreation",\n            value: function finishCreation() {\n                this._state.next(\'created\');\n            }\n        },\n        {\n            /**\n   * Destroy an entity. Actual destruction is deferred until after the next pass of systems.\n   * This gives the systems a chance to do any cleanup that might be needed.\n   */ key: "destroy",\n            value: function destroy() {\n                // If no systems are added, the destroy immediately.\n                if (this._world.systems.compNamesBySystemName.size === 0) {\n                    this.destroyImmediately();\n                    return;\n                }\n                // Mark as "destroying" so that systems can act on it before actually being destroyed.\n                this._state.next(\'destroying\');\n            }\n        },\n        {\n            key: "destroyImmediately",\n            value: function destroyImmediately() {\n                // Right now calling before the actual destorying of the entity.\n                // Might want to change this to post destruction in the future, who knows.\n                this.onDestroy(this._world);\n                // Actually destroy entity.\n                this._world.destroyEntity(this._id); // should return an error??\n                this._state.next(\'destroyed\');\n            }\n        },\n        {\n            key: "components",\n            get: /**\n   * Get all components that have been added to an entity, via a ComponentCollection.\n   * Does the same thing as entityInstance.getAll().\n   */ function get() {\n                return this._world.componentCollections.get(this._id) || new ComponentCollection_ComponentCollection();\n            }\n        },\n        {\n            key: "tags",\n            get: /**\n   * Retrieves all the tags that have been added to this entity.\n   */ function get() {\n                var tags = new Set();\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this._world.entitiesByTags.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var _step_value = Entity_sliced_to_array(_step.value, 2), tag = _step_value[0], entitySet = _step_value[1];\n                        if (entitySet.has(this._id)) {\n                            tags.add(tag);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                return tags;\n            }\n        },\n        {\n            /**\n   * Convert Entity to a DevEntity. Very helpful in for debugging.\n   */ key: "toDevEntity",\n            value: function toDevEntity() {\n                return new src_DevEntity(this, this._world);\n            }\n        }\n    ]);\n    return Entity;\n}();\n\n\n;// CONCATENATED MODULE: ./src/DevTools.ts\nfunction DevTools_array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction DevTools_array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction DevTools_array_without_holes(arr) {\n    if (Array.isArray(arr)) return DevTools_array_like_to_array(arr);\n}\nfunction DevTools_class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction DevTools_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction DevTools_create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) DevTools_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) DevTools_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction DevTools_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction DevTools_iterable_to_array(iter) {\n    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);\n}\nfunction DevTools_iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i["return"] != null) _i["return"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction DevTools_non_iterable_rest() {\n    throw new TypeError("Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction DevTools_non_iterable_spread() {\n    throw new TypeError("Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction DevTools_sliced_to_array(arr, i) {\n    return DevTools_array_with_holes(arr) || DevTools_iterable_to_array_limit(arr, i) || DevTools_unsupported_iterable_to_array(arr, i) || DevTools_non_iterable_rest();\n}\nfunction DevTools_to_consumable_array(arr) {\n    return DevTools_array_without_holes(arr) || DevTools_iterable_to_array(arr) || DevTools_unsupported_iterable_to_array(arr) || DevTools_non_iterable_spread();\n}\nfunction DevTools_unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return DevTools_array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return DevTools_array_like_to_array(o, minLen);\n}\nvar DevTools_DevTools = /*#__PURE__*/ function() {\n    "use strict";\n    function DevTools(world) {\n        DevTools_class_call_check(this, DevTools);\n        DevTools_define_property(this, "world", void 0);\n        this.world = world;\n    }\n    DevTools_create_class(DevTools, [\n        {\n            key: "systemComponents",\n            get: /**\n   * display the all systems of the world, and the components required by each system.\n   * Super helpful to use with console.table()\n   * @example\n   * ```\n   * console.table(world.dev.systemComponents);\n   * ```\n   */ function get() {\n                var compsBySystems = [];\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this.world.systems.compNamesBySystemName[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var _step_value = DevTools_sliced_to_array(_step.value, 2), system = _step_value[0], compNames = _step_value[1];\n                        compsBySystems.push({\n                            system: system,\n                            components: compNames.join(", ")\n                        });\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                return compsBySystems;\n            }\n        },\n        {\n            key: "entities",\n            get: /**\n   * Create an array of DevEntites. Can be very helpful for things like inspecting component state,\n   * and which systems will be called on an entity.\n   * @example\n   * ```\n   * console.table(world.dev.entities);\n   *\n   * // Pro tip! try displaying a table of entities with console.table and DevEntity.toTableRow().\n   * console.table(world.dev.entities.map(devEntity => devEntity.toTableRow()));\n   * ```\n   */ function get() {\n                return DevTools_to_consumable_array(this.world.entities.values()).map(function(e) {\n                    return e.toDevEntity();\n                });\n            }\n        }\n    ]);\n    return DevTools;\n}();\n/* ESM default export */ const src_DevTools = (DevTools_DevTools);\n\n;// CONCATENATED MODULE: ./src/Systems.ts\nfunction Systems_array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction Systems_array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction Systems_class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction Systems_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction Systems_create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) Systems_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) Systems_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction Systems_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction Systems_iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i["return"] != null) _i["return"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction Systems_non_iterable_rest() {\n    throw new TypeError("Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction Systems_sliced_to_array(arr, i) {\n    return Systems_array_with_holes(arr) || Systems_iterable_to_array_limit(arr, i) || Systems_unsupported_iterable_to_array(arr, i) || Systems_non_iterable_rest();\n}\nfunction Systems_unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return Systems_array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Systems_array_like_to_array(o, minLen);\n}\n\n\nvar Systems_Systems = /*#__PURE__*/ function() {\n    "use strict";\n    function Systems(world) {\n        Systems_class_call_check(this, Systems);\n        Systems_define_property(this, "world", void 0);\n        Systems_define_property(this, "systemFuncBySystemName", void 0); // double check to make sure that maps are ordered.\n        Systems_define_property(this, "compNamesBySystemName", void 0);\n        this.world = world;\n        this.systemFuncBySystemName = new Map();\n        this.compNamesBySystemName = new Map();\n    }\n    Systems_create_class(Systems, [\n        {\n            key: "add",\n            value: function add(cTypes, systemFunc, funcName) {\n                var cNames = cTypes.map(function(ct) {\n                    return ct.name;\n                });\n                var name = systemFunc.name;\n                if (systemFunc.name === "") {\n                    // Super brute force, and might lead to errors in the future, but for now\n                    // using the stringified system function if the function doesn\'t already have a name.\n                    // This is useful for anonymous functions used as a system function.\n                    // Might be good to figure out how to get a hash of the function string.\n                    name = systemFunc.toString().slice(0, 30);\n                }\n                if (funcName) {\n                    name = funcName;\n                }\n                this.systemFuncBySystemName.set(name, systemFunc);\n                this.compNamesBySystemName.set(name, cNames);\n                this.world.entitiesByCTypes.set(cNames, new Set());\n                return this;\n            }\n        },\n        {\n            key: "run",\n            value: function run() {\n                var size = this.world.entitiesByCTypes.size;\n                var entitiesInCreatingState = [];\n                var entitiesInDestroyingState = [];\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this.world.entities.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var entity = _step.value;\n                        if (entity.state === "creating") {\n                            entitiesInCreatingState.push(entity);\n                        }\n                        if (entity.state === "destroying") {\n                            entitiesInDestroyingState.push(entity);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                var _iteratorNormalCompletion1 = true, _didIteratorError1 = false, _iteratorError1 = undefined;\n                try {\n                    for(var _iterator1 = this.systemFuncBySystemName.entries()[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true){\n                        var _step_value = Systems_sliced_to_array(_step1.value, 2), funcName = _step_value[0], systemFunc = _step_value[1];\n                        var index = 0;\n                        var cNames = this.compNamesBySystemName.get(funcName) || [];\n                        var cTypeArrs = this.world.entitiesByCTypes.get(cNames) || new Set();\n                        var _iteratorNormalCompletion2 = true, _didIteratorError2 = false, _iteratorError2 = undefined;\n                        try {\n                            for(var _iterator2 = cTypeArrs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true){\n                                var eid = _step2.value;\n                                var args = {\n                                    entity: this.world.entities.get(eid) || new Entity_Entity(this.world),\n                                    components: this.world.componentCollections.get(eid) || new ComponentCollection_ComponentCollection(),\n                                    world: this.world,\n                                    index: index,\n                                    size: size,\n                                    isFirst: index === 0,\n                                    isLast: index + 1 === size\n                                };\n                                systemFunc(args);\n                                index += 1;\n                            }\n                        } catch (err) {\n                            _didIteratorError2 = true;\n                            _iteratorError2 = err;\n                        } finally{\n                            try {\n                                if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                                    _iterator2.return();\n                                }\n                            } finally{\n                                if (_didIteratorError2) {\n                                    throw _iteratorError2;\n                                }\n                            }\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError1 = true;\n                    _iteratorError1 = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion1 && _iterator1.return != null) {\n                            _iterator1.return();\n                        }\n                    } finally{\n                        if (_didIteratorError1) {\n                            throw _iteratorError1;\n                        }\n                    }\n                }\n                var _iteratorNormalCompletion3 = true, _didIteratorError3 = false, _iteratorError3 = undefined;\n                try {\n                    for(var _iterator3 = entitiesInCreatingState[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true){\n                        var entity1 = _step3.value;\n                        entity1.finishCreation();\n                    }\n                } catch (err) {\n                    _didIteratorError3 = true;\n                    _iteratorError3 = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n                            _iterator3.return();\n                        }\n                    } finally{\n                        if (_didIteratorError3) {\n                            throw _iteratorError3;\n                        }\n                    }\n                }\n                var _iteratorNormalCompletion4 = true, _didIteratorError4 = false, _iteratorError4 = undefined;\n                try {\n                    for(var _iterator4 = entitiesInDestroyingState[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true){\n                        var entity2 = _step4.value;\n                        entity2.destroyImmediately();\n                    }\n                } catch (err) {\n                    _didIteratorError4 = true;\n                    _iteratorError4 = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n                            _iterator4.return();\n                        }\n                    } finally{\n                        if (_didIteratorError4) {\n                            throw _iteratorError4;\n                        }\n                    }\n                }\n            }\n        }\n    ]);\n    return Systems;\n}();\n\n\n;// CONCATENATED MODULE: ./src/TrackedComponent.ts\nfunction TrackedComponent_array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction TrackedComponent_array_without_holes(arr) {\n    if (Array.isArray(arr)) return TrackedComponent_array_like_to_array(arr);\n}\nfunction _construct(Parent, args, Class) {\n    if (_is_native_reflect_construct()) {\n        _construct = Reflect.construct;\n    } else {\n        _construct = function construct(Parent, args, Class) {\n            var a = [\n                null\n            ];\n            a.push.apply(a, args);\n            var Constructor = Function.bind.apply(Parent, a);\n            var instance = new Constructor();\n            if (Class) _set_prototype_of(instance, Class.prototype);\n            return instance;\n        };\n    }\n    return _construct.apply(null, arguments);\n}\nfunction TrackedComponent_iterable_to_array(iter) {\n    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);\n}\nfunction TrackedComponent_non_iterable_spread() {\n    throw new TypeError("Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction _set_prototype_of(o, p) {\n    _set_prototype_of = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n    };\n    return _set_prototype_of(o, p);\n}\nfunction TrackedComponent_to_consumable_array(arr) {\n    return TrackedComponent_array_without_holes(arr) || TrackedComponent_iterable_to_array(arr) || TrackedComponent_unsupported_iterable_to_array(arr) || TrackedComponent_non_iterable_spread();\n}\nfunction TrackedComponent_unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return TrackedComponent_array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return TrackedComponent_array_like_to_array(o, minLen);\n}\nfunction _is_native_reflect_construct() {\n    try {\n        var result = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n    } catch (_) {}\n    return (_is_native_reflect_construct = function() {\n        return !!result;\n    })();\n}\n// Waiting for Typescript 4.2 to come out so that Symbols are supporded keys.\nvar TrackedCompSymbolKeys = {\n    isTracked: Symbol.for("ecs.trackedComponent.isTracked"),\n    world: Symbol.for("ecs.trackedComponent.world"),\n    entityIDs: Symbol.for("ecs.trackedComponent.entityIDs"),\n    getEntities: Symbol.for("ecs.trackedComponent.getEntities"),\n    setWorld: Symbol.for("ecs.trackedComponent.setWorld"),\n    onAdd: Symbol.for("ecs.trackedComponent.onAdd"),\n    onUpdate: Symbol.for("ecs.trackedComponent.onUpdate"),\n    onRemove: Symbol.for("ecs.trackedComponent.onRemove")\n};\n// NOTE: Really need to get symbols working as keys in Typescript.\n//       Until then will have to cast to keyof CT.\n// https://stackoverflow.com/questions/54324323/typescript-type-string-is-not-assignable-to-type-keyof\n// https://github.com/microsoft/TypeScript/pull/26797\nfunction createClassInstanceProxyHandlers(trackedEventHandlers) {\n    var updatedProps = new Set();\n    return {\n        set: function set(component, property, value) {\n            updatedProps.add(property);\n            //@ts-ignore\n            var world = component[TrackedCompSymbolKeys.world];\n            var previousVal = component[property];\n            component[property] = value;\n            //@ts-ignore\n            var entities = component[TrackedCompSymbolKeys.getEntities](world);\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(var _iterator = entities.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var entity = _step.value;\n                    entity.onTrackedComponentUpdate({\n                        world: world,\n                        component: component\n                    });\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            if (trackedEventHandlers.onUpdate) {\n                trackedEventHandlers.onUpdate({\n                    entities: entities,\n                    world: world,\n                    component: component,\n                    previousVal: previousVal,\n                    property: property\n                });\n            }\n            return true;\n        }\n    };\n}\nfunction trackComponent(CompClass, trackedEventHandlers) {\n    return new Proxy(CompClass, {\n        construct: function construct(Component, args) {\n            var component = _construct(Component, TrackedComponent_to_consumable_array(args));\n            // For use in identifing a "tracked" class through the proxy.\n            //@ts-ignore\n            component[TrackedCompSymbolKeys.isTracked] = true;\n            //@ts-ignore\n            component[TrackedCompSymbolKeys.setWorld] = function(world) {\n                //@ts-ignore\n                component[TrackedCompSymbolKeys.world] = world;\n            };\n            // Holds entities that this component has been added to.\n            // Added and removed in world.add()/world.remove().\n            //@ts-ignore\n            component[TrackedCompSymbolKeys.entityIDs] = new Set();\n            // Helper function to get the Entities from entityIDs\n            //@ts-ignore\n            component[TrackedCompSymbolKeys.getEntities] = function(world) {\n                var entities = new Map();\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    //@ts-ignore\n                    for(var _iterator = component[TrackedCompSymbolKeys.entityIDs][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var eid = _step.value;\n                        var entity = world.entities.get(eid);\n                        if (entity) {\n                            entities.set(eid, entity);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                return entities;\n            };\n            //@ts-ignore\n            component[TrackedCompSymbolKeys.onAdd] = function(world, entity) {\n                if (trackedEventHandlers.onAdd) {\n                    //@ts-ignore\n                    var entities = component[TrackedCompSymbolKeys.getEntities](world);\n                    trackedEventHandlers.onAdd({\n                        component: component,\n                        world: world,\n                        entity: entity,\n                        entities: entities\n                    });\n                }\n            };\n            //@ts-ignore\n            component[TrackedCompSymbolKeys.onRemove] = function(world, entity) {\n                if (trackedEventHandlers.onRemove) {\n                    //@ts-ignore\n                    var entities = component[TrackedCompSymbolKeys.getEntities](world);\n                    trackedEventHandlers.onRemove({\n                        component: component,\n                        world: world,\n                        entity: entity,\n                        entities: entities\n                    });\n                }\n            };\n            return new Proxy(component, createClassInstanceProxyHandlers(trackedEventHandlers));\n        }\n    });\n}\n\n;// CONCATENATED MODULE: ./src/World.ts\nfunction World_array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction World_array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction World_class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError("Cannot call a class as a function");\n    }\n}\nfunction World_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if ("value" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction World_create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) World_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) World_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction World_define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction World_iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i["return"] != null) _i["return"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction World_non_iterable_rest() {\n    throw new TypeError("Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction World_sliced_to_array(arr, i) {\n    return World_array_with_holes(arr) || World_iterable_to_array_limit(arr, i) || World_unsupported_iterable_to_array(arr, i) || World_non_iterable_rest();\n}\nfunction World_unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return World_array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(n);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return World_array_like_to_array(o, minLen);\n}\n\n\n\n\n\nvar World_World = /*#__PURE__*/ function() {\n    "use strict";\n    function World() {\n        var _this = this;\n        World_class_call_check(this, World);\n        World_define_property(this, "componentCollections", new Map());\n        World_define_property(this, "entities", new Map());\n        World_define_property(this, "entitiesByCTypes", new Map());\n        World_define_property(this, "entitiesByTags", new Map());\n        World_define_property(this, "systems", void 0);\n        World_define_property(this, "dev", void 0);\n        /**\n   * "finds" a single entity based on a predicate\n   */ World_define_property(this, "find", function(predicate) {\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(var _iterator = _this.entities.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var entity = _step.value;\n                    if (predicate(entity)) {\n                        return entity;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            return null;\n        });\n        /**\n   * "finds" all entities based on a predicate, kinda like filter.\n   */ World_define_property(this, "findAll", function(predicate) {\n            var results = [];\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(var _iterator = _this.entities.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var entity = _step.value;\n                    if (predicate(entity)) {\n                        results.push(entity);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            return results;\n        });\n        /**\n   * "locates" a single entity based on its Components.\n   */ World_define_property(this, "locate", function(cl) {\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(var _iterator = _this.entities.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var entity = _step.value;\n                    if (entity.components.has(cl)) {\n                        return entity;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            return null;\n        });\n        /**\n   * Locates all entities that contain the components named\n   */ World_define_property(this, "locateAll", function(cl) {\n            var results = [];\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(var _iterator = _this.entities.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var entity = _step.value;\n                    if (entity.components.has(cl)) {\n                        results.push(entity);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            return results;\n        });\n        /**\n   * Grabs the first entity, and its related component, that matches the component type.\n   * @example\n   * ```\n   * const { entity, component } = world.grab(MyComponent);\n   * ```\n   */ World_define_property(this, "grab", function(cl) {\n            var entity = _this.locate(cl);\n            if (entity) {\n                var cc = _this.componentCollections.get(entity.id) || new ComponentCollection_ComponentCollection();\n                var component = cc.get(cl);\n                return {\n                    entity: entity,\n                    component: component\n                };\n            }\n            return null;\n        });\n        /**\n   * Grab single component based on component type and predicate.\n   *\n   * @example\n   * ```typescript\n   * const { entity, component } = world.grabBy(FirstComponent, (comp) => comp.id == \'awesome\')\n   * ```\n   */ World_define_property(this, "grabBy", function(cl, predicate) {\n            var entities = _this.locateAll(cl);\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                // const entities = this.locateAll((cl as unknown) as CT);\n                for(var _iterator = entities[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var entity = _step.value;\n                    var cc = _this.componentCollections.get(entity.id) || new ComponentCollection_ComponentCollection();\n                    var component = cc.get(cl);\n                    if (predicate(component)) {\n                        return {\n                            component: component,\n                            entity: entity\n                        };\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            return null;\n        });\n        /**\n   * Grab all the components primarily, and the entities if needed\n   */ World_define_property(this, "grabAll", function(cl) {\n            var entities = _this.locateAll(cl);\n            return entities.map(function(entity) {\n                return {\n                    entity: entity,\n                    component: entity.components.get(cl)\n                };\n            });\n        });\n        // TODO: Add grabAllBy method\n        /**\n   * Given an entity id and componentType, returns component\n   */ World_define_property(this, "get", function(eid, cl) {\n            var cc = _this.componentCollections.get(eid) || new ComponentCollection_ComponentCollection();\n            return cc.get(cl);\n        });\n        /**\n   * Find and get the first instance of a component, without any associated entities.\n   * Helpful is you know that only one instance of a component exists across all entities.\n   * @param cl Component Class Contructor\n   * @param defaultValue A default component instance if no components are found.\n   */ World_define_property(this, "getComponent", function(cl, defaultValue) {\n            var result = _this.grab(cl);\n            if (!result) {\n                return defaultValue ? defaultValue : null;\n            }\n            return result.component;\n        });\n        /**\n   * Get an entity that has been tagged with the given tag, or return null;\n   */ World_define_property(this, "getTagged", function(tag) {\n            var tagEntityIds = _this.entitiesByTags.get(tag);\n            if (tagEntityIds) {\n                var entityId = tagEntityIds.values().next().value;\n                var entity = _this.entities.get(entityId);\n                if (entity) {\n                    return entity;\n                }\n            }\n            return null;\n        });\n        /**\n   * Gett all entities that have been tagged with the given tag.\n   * @param tag A string or number.\n   */ World_define_property(this, "getAllTagged", function(tag) {\n            var entities = []; // eslint-disable-line\n            var tagEntityIds = _this.entitiesByTags.get(tag);\n            if (tagEntityIds) {\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = tagEntityIds[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var entityId = _step.value;\n                        var entity = _this.entities.get(entityId);\n                        if (entity) {\n                            entities.push(entity);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n            }\n            return entities;\n        });\n        /**\n   * Add a component on the given entity\n   */ World_define_property(this, "add", function(eid, component) {\n            var cc = _this.componentCollections.get(eid) || new ComponentCollection_ComponentCollection();\n            var entity = _this.entities.get(eid);\n            if (!entity) {\n                throw new Error("world.add: Unable to locate entity with id ".concat(eid));\n            }\n            cc.add(component);\n            _this.componentCollections.set(eid, cc);\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(var _iterator = _this.entitiesByCTypes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var _step_value = World_sliced_to_array(_step.value, 2), ctArr = _step_value[0], entitySet = _step_value[1];\n                    if (ctArr.every(cc.hasByName)) {\n                        entitySet.add(eid);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            // @ts-ignore\n            if (component[TrackedCompSymbolKeys.isTracked]) {\n                // @ts-ignore\n                component[TrackedCompSymbolKeys.setWorld](_this);\n                // @ts-ignore\n                component[TrackedCompSymbolKeys.entityIDs].add(eid);\n                // @ts-ignore\n                component[TrackedCompSymbolKeys.onAdd](_this, entity);\n            }\n            entity.onComponentAdd({\n                world: _this,\n                component: component\n            });\n            return _this;\n        });\n        /**\n   * Remove a component from the given entity.\n   * NOTE: This will change what systems will be called on the entity.\n   */ World_define_property(this, "remove", function(eid, cType) {\n            var cc = _this.componentCollections.get(eid) || new ComponentCollection_ComponentCollection();\n            // need to get component instance...\n            var component = cc.get(cType);\n            // @ts-ignore\n            if (component[TrackedCompSymbolKeys.isTracked]) {\n                var entity = _this.entities.get(eid);\n                if (!entity) {\n                    throw new Error("world.remove: Unable to locate entity. eid: ".concat(eid, ", cType: ").concat(cType.name));\n                }\n                // @ts-ignore\n                component[TrackedCompSymbolKeys.entityIDs].delete(eid);\n                // @ts-ignore\n                component[TrackedCompSymbolKeys.onRemove](_this, entity);\n            }\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                // remove entity from current entitiesByCTypes\n                for(var _iterator = _this.entitiesByCTypes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var _step_value = World_sliced_to_array(_step.value, 2), ctArr = _step_value[0], entitySet = _step_value[1];\n                    if (ctArr.every(cc.hasByName)) {\n                        entitySet.delete(eid);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            cc.remove(cType);\n            var _iteratorNormalCompletion1 = true, _didIteratorError1 = false, _iteratorError1 = undefined;\n            try {\n                // Move entityId to new CTypes if needed.\n                for(var _iterator1 = _this.entitiesByCTypes[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true){\n                    var _step_value1 = World_sliced_to_array(_step1.value, 2), ctArr1 = _step_value1[0], entitySet1 = _step_value1[1];\n                    if (ctArr1.every(cc.hasByName)) {\n                        entitySet1.add(eid);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError1 = true;\n                _iteratorError1 = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion1 && _iterator1.return != null) {\n                        _iterator1.return();\n                    }\n                } finally{\n                    if (_didIteratorError1) {\n                        throw _iteratorError1;\n                    }\n                }\n            }\n            var entity1 = _this.entities.get(eid);\n            if (entity1) {\n                entity1.onComponentRemove({\n                    world: _this,\n                    component: component\n                });\n            }\n            return _this;\n        });\n        this.dev = new src_DevTools(this);\n        this.systems = new Systems_Systems(this);\n    }\n    World_create_class(World, [\n        {\n            /**\n   * Method for adding systems.\n   */ key: "addSystem",\n            value: function addSystem(cTypes, systemFunc, funcName) {\n                this.systems.add(cTypes, systemFunc, funcName);\n                return this;\n            }\n        },\n        {\n            /**\n   * Setup an entity to exist in the given world. This is mostly an internal method, but exposed just in case.\n   */ key: "registerEntity",\n            value: function registerEntity(entity) {\n                var cc = new ComponentCollection_ComponentCollection();\n                this.componentCollections.set(entity.id, cc);\n                this.entities.set(entity.id, entity);\n                entity.onCreate(this);\n                return this;\n            }\n        },\n        {\n            /**\n   * Remove all components that belong to an entity.\n   */ key: "clearEntityComponents",\n            value: function clearEntityComponents(entityId) {\n                this.componentCollections.set(entityId, new ComponentCollection_ComponentCollection());\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this.entitiesByCTypes.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var entitySet = _step.value;\n                        if (entitySet.has(entityId)) {\n                            entitySet.delete(entityId);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                return this;\n            }\n        },\n        {\n            /**\n   * Create an entity that is in the world.\n   * Basically just new Entity(world), but saves an import of Entity.\n   */ key: "createEntity",\n            value: function createEntity() {\n                var entity = new Entity_Entity(this);\n                return entity;\n            // Register entity here....\n            }\n        },\n        {\n            /**\n   * Destroys an entity.\n   * Same as entity.destroy().\n   */ key: "destroyEntity",\n            value: function destroyEntity(entityId) {\n                this.componentCollections.delete(entityId);\n                var entity = this.entities.get(entityId);\n                if (!entity) {\n                    throw new Error("world.destroyEntity: No entity found. entity id: ".concat(entityId));\n                }\n                this.entities.delete(entityId);\n                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                try {\n                    for(var _iterator = this.entitiesByCTypes.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                        var entitySet = _step.value;\n                        if (entitySet.has(entityId)) {\n                            entitySet.delete(entityId);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally{\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                var _iteratorNormalCompletion1 = true, _didIteratorError1 = false, _iteratorError1 = undefined;\n                try {\n                    // remove any tag associations with destroyed entities.\n                    for(var _iterator1 = this.entitiesByTags[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true){\n                        var _step_value = World_sliced_to_array(_step1.value, 2), tag = _step_value[0], entitySet1 = _step_value[1];\n                        if (entitySet1.has(entityId)) {\n                            entitySet1.delete(entityId);\n                        }\n                        if (entitySet1.size === 0) {\n                            this.entitiesByTags.delete(tag);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError1 = true;\n                    _iteratorError1 = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion1 && _iterator1.return != null) {\n                            _iterator1.return();\n                        }\n                    } finally{\n                        if (_didIteratorError1) {\n                            throw _iteratorError1;\n                        }\n                    }\n                }\n                return this;\n            }\n        }\n    ]);\n    return World;\n}();\n\n\n;// CONCATENATED MODULE: ./src/index.ts\n\n\n\n\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbHRpbjpzd2MtbG9hZGVyPz9ydWxlU2V0WzFdLnJ1bGVzWzBdLnVzZVswXSEvVXNlcnMvYnJvY2gvcmVwb3MvZWNzdGF0aWMvc3JjL2luZGV4LnRzfDFmZjliYmFmZWY4ZmNlMzM2YWQzNTNjNzQ1YzMyODhjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcz83NjU4Iiwid2VicGFjazovL2Vjc3RhdGljLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcz80MjU1Iiwid2VicGFjazovL2Vjc3RhdGljLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92YWxpZGF0ZS5qcz8zYzNjIiwid2VicGFjazovL2Vjc3RhdGljLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanM/OWJjNyIsIndlYnBhY2s6Ly9lY3N0YXRpYy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjQuanM/ZTU3MCIsIndlYnBhY2s6Ly9lY3N0YXRpYy8uL3NyYy9ndWFyZHMudHM/Yjk2OCIsIndlYnBhY2s6Ly9lY3N0YXRpYy8uL3NyYy9Db21wb25lbnRDb2xsZWN0aW9uLnRzP2RlMzQiLCJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9zcmMvRGV2RW50aXR5LnRzP2ZmYzMiLCJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9zcmMvU2ltcGxlRlNNLnRzPzNiM2QiLCJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9zcmMvRW50aXR5LnRzPzg3NTUiLCJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9zcmMvRGV2VG9vbHMudHM/NjQ0ZSIsIndlYnBhY2s6Ly9lY3N0YXRpYy8uL3NyYy9TeXN0ZW1zLnRzPzJiNzAiLCJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9zcmMvVHJhY2tlZENvbXBvbmVudC50cz8xMDczIiwid2VicGFjazovL2Vjc3RhdGljLy4vc3JjL1dvcmxkLnRzP2VjOTYiLCJ3ZWJwYWNrOi8vZWNzdGF0aWMvLi9zcmMvaW5kZXgudHM/OGNjNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiBJbiB0aGUgYnJvd3NlciB3ZSB0aGVyZWZvcmVcbi8vIHJlcXVpcmUgdGhlIGNyeXB0byBBUEkgYW5kIGRvIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGZhbGxiYWNrIHRvIGxvd2VyIHF1YWxpdHkgcmFuZG9tIG51bWJlclxuLy8gZ2VuZXJhdG9ycyAobGlrZSBNYXRoLnJhbmRvbSgpKS5cbnZhciBnZXRSYW5kb21WYWx1ZXM7XG52YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIC8vIGxhenkgbG9hZCBzbyB0aGF0IGVudmlyb25tZW50cyB0aGF0IG5lZWQgdG8gcG9seWZpbGwgaGF2ZSBhIGNoYW5jZSB0byBkbyBzb1xuICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0byBpbXBsZW1lbnRhdGlvbi4gQWxzbyxcbiAgICAvLyBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gKG1zQ3J5cHRvKSBvbiBJRTExLlxuICAgIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykgfHwgdHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgL14oPzpbMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pOyIsImltcG9ydCBSRUdFWCBmcm9tICcuL3JlZ2V4LmpzJztcblxuZnVuY3Rpb24gdmFsaWRhdGUodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIpIHtcbiAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHZhciB1dWlkID0gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdpZnkocm5kcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHY0OyIsImV4cG9ydCBmdW5jdGlvbiBpc0NvbXBvbmVudEluc3RhbmNlPFQ+KFxuICBDbGFzczogbmV3ICguLi5hcmdzOiBhbnkpID0+IFQsXG4gIGNvbXA6IGFueVxuKTogY29tcCBpcyBJbnN0YW5jZVR5cGU8dHlwZW9mIENsYXNzPiB7XG4gIGlmICghY29tcCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghKGNvbXAgaW5zdGFuY2VvZiBDbGFzcykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cbiIsImltcG9ydCB7IGlzQ29tcG9uZW50SW5zdGFuY2UgfSBmcm9tIFwiLi9ndWFyZHNcIjtcblxudHlwZSBDb21wTmFtZSA9IHN0cmluZztcbnR5cGUgQ2xhc3NDb25zdHJ1Y3RvcjxUPiA9IHsgbmV3ICguLi5hcmdzOiBhbnlbXSk6IFQgfTtcblxuLy8gQ1QgaXMgYSBVbmlvbiwgbGlrZSBgdHlwZSA9IEZpcnN0Q29tcG9uZW50IHwgU2Vjb25kQ29tcG9uZW50YC5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvbmVudENvbGxlY3Rpb248Q1Q+IHtcbiAgY29tcG9uZW50czogTWFwPENvbXBOYW1lLCBDVD4gPSBuZXcgTWFwKCk7XG5cbiAgLy8gaW5zdGFuY2Ugb2YgYSBjb21wb25lbnRcbiAgYWRkID0gKGNvbXBvbmVudDogQ1QpOiB2b2lkID0+IHtcbiAgICB0aGlzLmNvbXBvbmVudHMuc2V0KCg8YW55PmNvbXBvbmVudCkuY29uc3RydWN0b3IubmFtZSwgY29tcG9uZW50KTtcbiAgfTtcblxuICB1cGRhdGUgPSA8VCBleHRlbmRzIENUPihjbDogQ2xhc3NDb25zdHJ1Y3RvcjxUPiwgZnVuYzogKGM6IFQpID0+IFQpOiB2b2lkID0+IHtcbiAgICBjb25zdCBjID0gdGhpcy5jb21wb25lbnRzLmdldChjbC5uYW1lKTtcblxuICAgIGlmIChpc0NvbXBvbmVudEluc3RhbmNlKGNsLCBjKSkge1xuICAgICAgY29uc3QgdXBkYXRlZENvbXBvbmVudCA9IGZ1bmMoYyk7XG4gICAgICB0aGlzLmNvbXBvbmVudHMuc2V0KGNsLm5hbWUsIHVwZGF0ZWRDb21wb25lbnQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIGEgY29tcG9uZW50LlxuICAgKiBAcGFyYW0gY1R5cGUgQ2xhc3Mgb2YgY29tcG9uZW50IHRvIHJlbW92ZS5cbiAgICovXG4gIHJlbW92ZSA9IChjVHlwZTogQ2xhc3NDb25zdHJ1Y3RvcjxDVD4pOiB2b2lkID0+IHtcbiAgICB0aGlzLmNvbXBvbmVudHMuZGVsZXRlKGNUeXBlLm5hbWUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgYSBjb21wb25lbnQgdGhhdCBtYXRjaGVzIHRoZSBwYXNzZWQgY2xhc3MuXG4gICAqIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgYW4gaW5zdGFuY2Ugb2YgdGhlIGdpdmVuIGNvbXBvbmVudFxuICAgKiBkb2Vzbid0IGV4aXN0IGluIHRoZSBjb2xsZWN0aW9uLCBzbyBpZiB5b3UgZG9uJ3Qga25vdyBpZiBpdCdzIHNhZmVcbiAgICogdG8gZ2V0IGEgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHRlc3Qgd2l0aCBoYXMoKSBvciBoYXNCeU5hbWUoKSBmaXJzdC5cbiAgICogWW91IGhhdmUgYmVlbiB3YXJuZWQuXG4gICAqIEBwYXJhbSBjbCBjb21wb25lbnQgQ2xhc3MgcmVmZXJlbmNlLlxuICAgKi9cbiAgZ2V0ID0gPFQgZXh0ZW5kcyBDVD4oY2w6IENsYXNzQ29uc3RydWN0b3I8VD4pOiBUID0+IHtcbiAgICBjb25zdCBjb21wID0gdGhpcy5jb21wb25lbnRzLmdldChjbC5uYW1lKTtcblxuICAgIGlmIChpc0NvbXBvbmVudEluc3RhbmNlPFQ+KGNsLCBjb21wKSkge1xuICAgICAgcmV0dXJuIGNvbXA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENvbXBvbmVudENvbGxlY3Rpb24gZG9lcyBub3QgaGF2ZSBjb21wb25lbnQgb2YgdHlwZSAke2NsLm5hbWV9YFxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFRlc3QgdG8gc2VlIGlmIHRoZSBjb2xsZWN0aW9uIGNvbnRhaW5zIGEgc3BlY2lmaWMgQ2xhc3Mgb3IgQ2xhc3Nlcy5cbiAgICogQHBhcmFtIGNUeXBlIGNvbXBvbmVudCBDbGFzcywgb3IgYXJyYXkgb2YgY29tcG9uZW50IENsYXNzZXMuXG4gICAqL1xuICBoYXMgPSAoY1R5cGU6IENsYXNzQ29uc3RydWN0b3I8Q1Q+IHwgQ2xhc3NDb25zdHJ1Y3RvcjxDVD5bXSk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGNUeXBlKVxuICAgICAgPyBjVHlwZS5ldmVyeSgoY3QpID0+IHRoaXMuY29tcG9uZW50cy5oYXMoY3QubmFtZSkgPT09IHRydWUpXG4gICAgICA6IHRoaXMuY29tcG9uZW50cy5oYXMoY1R5cGUubmFtZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRlc3QgdG8gc2VlIGlmIHRoZSBjb2xsZWN0aW9uIGhhcyBhIGNvbXBvbmVudCBpbnN0YW5jZSBiYXNlZCBvbiBhXG4gICAqIGNsYXNzIG5hbWUuIFNvbWUgYnVpbGQgc3RlcHMvbWluaWZpZXJzIHdpbGwgY2hhbmdlIHRoZSBuYW1lIG9mIENsYXNzZXMsXG4gICAqIHNvIGl0J3MgdXN1YWxseSBiZXN0IHRvIHBhc3MgaW4gYSBNeUNsYXNzLm5hbWUgaW5zdGVhZCBvZiAnTXlDbGFzcycuXG4gICAqIEBwYXJhbSBjTmFtZSBUaGUgbmFtZSBvZiBhIENsYXNzLCBvciBhcnJheSBvZiBDbGFzcyBuYW1lcy5cbiAgICovXG4gIGhhc0J5TmFtZSA9IChjTmFtZTogc3RyaW5nIHwgc3RyaW5nW10pOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShjTmFtZSlcbiAgICAgID8gY05hbWUuZXZlcnkoKGN0KSA9PiB0aGlzLmNvbXBvbmVudHMuaGFzKGN0KSA9PT0gdHJ1ZSlcbiAgICAgIDogdGhpcy5jb21wb25lbnRzLmhhcyhjTmFtZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29tcG9uZW50IHR5cGUgbmFtZXMgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIHVzZWQgaW4gdGhlIGNvbGxlY3Rpb24uXG4gICAqL1xuICBnZXQgY29tcG9uZW50VHlwZXMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBbLi4udGhpcy5jb21wb25lbnRzLmtleXMoKV07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IG51bWJlciBvZiBjb21wb25lbnRzIHRoYXQgYXJlIGluIHRoZSBjb2xsZWN0aW9uLlxuICAgKi9cbiAgZ2V0IHNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnRzLnNpemU7XG4gIH1cblxuICB0b0RldkNvbXBvbmVudHMoKTogUmVjb3JkPHN0cmluZywgQ1Q+IHtcbiAgICBjb25zdCBvYmo6IFJlY29yZDxzdHJpbmcsIENUPiA9IHt9O1xuICAgIGZvciAoY29uc3QgW2NvbXBOYW1lLCBjb21wXSBvZiB0aGlzLmNvbXBvbmVudHMpIHtcbiAgICAgIG9ialtjb21wTmFtZV0gPSBjb21wO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cbn1cbiIsImltcG9ydCBXb3JsZCBmcm9tIFwiLi9Xb3JsZFwiO1xuaW1wb3J0IEVudGl0eSBmcm9tIFwiLi9FbnRpdHlcIjtcbmltcG9ydCB7IFRhZyB9IGZyb20gXCIuL1RhZ1wiO1xuaW1wb3J0IHsgRW50aXR5U3RhdGUgfSBmcm9tIFwiZWNzdGF0aWNcIjtcblxuaW50ZXJmYWNlIERldkVudGl0eVRhYmxlUm93IHtcbiAgaWQ6IHN0cmluZztcbiAgY29tcG9uZW50czogc3RyaW5nO1xuICB0YWdzOiBzdHJpbmc7XG4gIHN5c3RlbXM6IHN0cmluZztcbn1cblxuY2xhc3MgRGV2RW50aXR5PENUPiB7XG4gIGlkOiBzdHJpbmc7XG5cbiAgY29tcG9uZW50czogUmVjb3JkPHN0cmluZywgQ1Q+O1xuXG4gIHRhZ3M6IFRhZ1tdO1xuXG4gIHN5c3RlbXM6IHN0cmluZ1tdID0gW107XG5cbiAgc3RhdGU6IEVudGl0eVN0YXRlO1xuXG4gIGNvbnN0cnVjdG9yKGVudGl0eTogRW50aXR5PENUPiwgd29ybGQ6IFdvcmxkPENUPikge1xuICAgIHRoaXMuaWQgPSBlbnRpdHkuaWQ7XG4gICAgdGhpcy5jb21wb25lbnRzID0gZW50aXR5LmNvbXBvbmVudHMudG9EZXZDb21wb25lbnRzKCksXG4gICAgdGhpcy50YWdzID0gWy4uLmVudGl0eS50YWdzXTtcbiAgICB0aGlzLnN0YXRlID0gZW50aXR5LnN0YXRlO1xuXG4gICAgY29uc3QgY29tcE5hbWVzID0gT2JqZWN0LmtleXModGhpcy5jb21wb25lbnRzKTtcblxuICAgIGZvciAoY29uc3QgW3N5c3RlbU5hbWUsIGNOYW1lc10gb2Ygd29ybGQuc3lzdGVtcy5jb21wTmFtZXNCeVN5c3RlbU5hbWUpIHtcbiAgICAgIGlmIChjTmFtZXMuZXZlcnkoKGNOYW1lKSA9PiBjb21wTmFtZXMuaW5jbHVkZXMoY05hbWUpKSkge1xuICAgICAgICB0aGlzLnN5c3RlbXMucHVzaChzeXN0ZW1OYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0b1RhYmxlUm93KCk6IERldkVudGl0eVRhYmxlUm93IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBjb21wb25lbnRzOiBPYmplY3Qua2V5cyh0aGlzLmNvbXBvbmVudHMpLmpvaW4oXCIsIFwiKSxcbiAgICAgIHRhZ3M6IHRoaXMudGFncy5qb2luKFwiLCBcIiksXG4gICAgICBzeXN0ZW1zOiB0aGlzLnN5c3RlbXMuam9pbignLCAnKSxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERldkVudGl0eTtcbiIsImV4cG9ydCB0eXBlIFN0YXRlID0gc3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sO1xuXG5leHBvcnQgdHlwZSBUcmFuc2l0aW9uczxTIGV4dGVuZHMgU3RhdGUsIEQgPSB1bmRlZmluZWQ+ID0gUmVjb3JkPFxuICBTLFxuICAoZGF0YTogRCwgY3VycmVudDogUykgPT4gU1xuPjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2ltcGxlRlNNPFMgZXh0ZW5kcyBTdGF0ZSwgRCA9IHVuZGVmaW5lZD4ge1xuICBjdXJyZW50OiBTO1xuXG4gIGluaXRhbDogUztcblxuICB0cmFuc2l0aW9uczogVHJhbnNpdGlvbnM8UywgRD47XG5cbiAgY29uc3RydWN0b3IoaW5pdGlhbFN0YXRlOiBTLCB0cmFuc2l0aW9uczogVHJhbnNpdGlvbnM8UywgRD4pIHtcbiAgICB0aGlzLmluaXRhbCA9IGluaXRpYWxTdGF0ZTtcbiAgICB0aGlzLmN1cnJlbnQgPSBpbml0aWFsU3RhdGU7XG4gICAgdGhpcy50cmFuc2l0aW9ucyA9IHRyYW5zaXRpb25zO1xuICB9XG5cbiAgbmV4dChkYXRhOiBEKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbnNbdGhpcy5jdXJyZW50XSkge1xuICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy50cmFuc2l0aW9uc1t0aGlzLmN1cnJlbnRdKGRhdGEsIHRoaXMuY3VycmVudCk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5pbml0YWw7XG4gIH1cblxuICBpcyhjaGVja1N0YXRlOiBTKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudCA9PT0gY2hlY2tTdGF0ZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCBXb3JsZCwgeyBDbGFzc0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4vV29ybGRcIjtcbmltcG9ydCBDb21wb25lbnRDb2xsZWN0aW9uIGZyb20gXCIuL0NvbXBvbmVudENvbGxlY3Rpb25cIjtcbmltcG9ydCB7IFRhZyB9IGZyb20gXCIuL1RhZ1wiO1xuaW1wb3J0IERldkVudGl0eSBmcm9tIFwiLi9EZXZFbnRpdHlcIjtcblxuaW1wb3J0IFNpbXBsZUZTTSBmcm9tIFwiLi9TaW1wbGVGU01cIjtcblxuZXhwb3J0IHR5cGUgRW50aXR5SWQgPSBzdHJpbmc7XG5cbmV4cG9ydCB0eXBlIEVudGl0eVN0YXRlID1cbiAgfCBcImNyZWF0aW5nXCJcbiAgfCBcImNyZWF0ZWRcIlxuICB8IFwiZGVzdHJveWluZ1wiXG4gIHwgXCJkZXN0cm95ZWRcIlxuICB8IFwiZXJyb3JcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFbnRpdHlDb21wRXZlbnRBcmdzPENUPiB7XG4gIHdvcmxkOiBXb3JsZDxDVD47XG4gIGNvbXBvbmVudDogQ1Q7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eTxDVD4ge1xuICBwcml2YXRlIF9pZDogc3RyaW5nO1xuICBwcml2YXRlIF93b3JsZDogV29ybGQ8Q1Q+O1xuXG4gIHByaXZhdGUgX2Vycm9yOiBFcnJvciB8IG51bGw7XG5cbiAgcHJpdmF0ZSBfc3RhdGU6IFNpbXBsZUZTTTxFbnRpdHlTdGF0ZSwgRW50aXR5U3RhdGU+O1xuXG4gIGdldCBpZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9pZDtcbiAgfVxuXG4gIGdldCB3b3JsZCgpOiBXb3JsZDxDVD4ge1xuICAgIHJldHVybiB0aGlzLl93b3JsZDtcbiAgfVxuXG4gIGdldCBzdGF0ZSgpOiBFbnRpdHlTdGF0ZSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlLmN1cnJlbnQ7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcih3b3JsZDogV29ybGQ8Q1Q+KSB7XG4gICAgdGhpcy5faWQgPSB1dWlkdjQoKTtcbiAgICB0aGlzLl93b3JsZCA9IHdvcmxkO1xuXG4gICAgdGhpcy5fZXJyb3IgPSBudWxsO1xuXG4gICAgY29uc3QgZnNtVHJhbnNpdGlvbiA9IChcbiAgICAgIG5zOiBFbnRpdHlTdGF0ZVxuICAgICk6IEVudGl0eVN0YXRlID0+IHtcbiAgICAgIGlmIChucyA9PT0gXCJlcnJvclwiIHx8IHRoaXMuX2Vycm9yKSByZXR1cm4gXCJlcnJvclwiO1xuICAgICAgcmV0dXJuIG5zO1xuICAgIH07XG5cbiAgICB0aGlzLl9zdGF0ZSA9IG5ldyBTaW1wbGVGU008RW50aXR5U3RhdGUsIEVudGl0eVN0YXRlPihcImNyZWF0aW5nXCIsIHtcbiAgICAgIGNyZWF0aW5nOiBmc21UcmFuc2l0aW9uLFxuICAgICAgY3JlYXRlZDogZnNtVHJhbnNpdGlvbixcbiAgICAgIGRlc3Ryb3lpbmc6IGZzbVRyYW5zaXRpb24sXG4gICAgICBkZXN0cm95ZWQ6ICgpID0+IFwiZGVzdHJveWVkXCIsXG4gICAgICBlcnJvcjogKCkgPT4gXCJlcnJvclwiLFxuICAgIH0pO1xuXG4gICAgLypcbiAgICBSZWdpc3RlcmluZyB3aXRoIHRoZSBXb3JsZC5cbiAgICAqL1xuICAgIHRoaXMuX3dvcmxkLnJlZ2lzdGVyRW50aXR5KHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuX3dvcmxkLnN5c3RlbXMuY29tcE5hbWVzQnlTeXN0ZW1OYW1lLnNpemUgPT09IDApIHtcbiAgICAgIHRoaXMuX3N0YXRlLm5leHQoJ2NyZWF0ZWQnKTtcbiAgICB9XG4gIH1cblxuICAvKiBMaWZlQ3ljbGUgbWV0aG9kcywgbWVhbnQgdG8gYmUgb3ZlcnJpZGRlbiAqL1xuXG4gIG9uQ3JlYXRlKHdvcmxkOiBXb3JsZDxDVD4pOiB2b2lkIHtcbiAgICAvLyBhYnN0cmFjdFxuICB9XG5cbiAgb25EZXN0cm95KHdvcmxkOiBXb3JsZDxDVD4pOiB2b2lkIHtcbiAgICAvLyBhYnN0cmFjdFxuICB9XG5cbiAgb25Db21wb25lbnRBZGQoYXJnczogRW50aXR5Q29tcEV2ZW50QXJnczxDVD4pOiB2b2lkIHtcbiAgICAvLyBhYnN0cmFjdFxuICB9XG5cbiAgb25UcmFja2VkQ29tcG9uZW50VXBkYXRlKGFyZ3M6IEVudGl0eUNvbXBFdmVudEFyZ3M8Q1Q+KTogdm9pZCB7XG4gICAgLy8gYWJzdHJhY3RcbiAgfVxuXG4gIG9uQ29tcG9uZW50UmVtb3ZlKGFyZ3M6IEVudGl0eUNvbXBFdmVudEFyZ3M8Q1Q+KTogdm9pZCB7XG4gICAgLy8gYWJzdHJhY3RcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBjb21wb25lbnQgdG8gYW4gRW50aXR5LCBkb2guXG4gICAqL1xuICBhZGQ8VCBleHRlbmRzIENUPihjb21wb25lbnQ6IFQpOiB0aGlzIHtcbiAgICB0aGlzLl93b3JsZC5hZGQodGhpcy5faWQsIGNvbXBvbmVudCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB0YWcgdG8gYSBjb21wb25lbnRcbiAgICovXG4gIGFkZFRhZyh0YWc6IFRhZyk6IHRoaXMge1xuICAgIGNvbnN0IGVudGl0eVNldCA9IHRoaXMuX3dvcmxkLmVudGl0aWVzQnlUYWdzLmhhcyh0YWcpXG4gICAgICA/IHRoaXMuX3dvcmxkLmVudGl0aWVzQnlUYWdzLmdldCh0YWcpXG4gICAgICA6IG5ldyBTZXQ8RW50aXR5SWQ+KCk7XG5cbiAgICBpZiAoZW50aXR5U2V0KSB7XG4gICAgICBlbnRpdHlTZXQuYWRkKHRoaXMuX2lkKTtcbiAgICAgIHRoaXMuX3dvcmxkLmVudGl0aWVzQnlUYWdzLnNldCh0YWcsIGVudGl0eVNldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBhbiBlbnRpdHkgaGFzIGEgY29tcG9uZW50IHJlbGF0ZWQgdG8gaXQuXG4gICAqL1xuICBoYXM8VCBleHRlbmRzIENUPihjVHlwZTogQ2xhc3NDb25zdHJ1Y3RvcjxUPik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNjID1cbiAgICAgIHRoaXMuX3dvcmxkLmNvbXBvbmVudENvbGxlY3Rpb25zLmdldCh0aGlzLl9pZCkgfHxcbiAgICAgIG5ldyBDb21wb25lbnRDb2xsZWN0aW9uPENUPigpO1xuXG4gICAgcmV0dXJuIGNjLmhhcyhjVHlwZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgdG8gc2VlIGlmIGFuIGVudGl0eSB0YWdnZWQgd2l0aCBhIGdpdmVuIHRhZy5cbiAgICovXG4gIGhhc1RhZyh0YWc6IFRhZyk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLl93b3JsZC5lbnRpdGllc0J5VGFncy5oYXModGFnKSkge1xuICAgICAgY29uc3QgZW50aXR5U2V0ID0gdGhpcy5fd29ybGQuZW50aXRpZXNCeVRhZ3MuZ2V0KHRhZyk7XG4gICAgICBpZiAoZW50aXR5U2V0KSB7XG4gICAgICAgIHJldHVybiBlbnRpdHlTZXQuaGFzKHRoaXMuX2lkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgY29tcG9uZW50IHRoYXQgYmVsb25ncyB0byBhbiBlbnRpdHkuXG4gICAqL1xuICBnZXQ8VCBleHRlbmRzIENUPihjbDogQ2xhc3NDb25zdHJ1Y3RvcjxUPik6IFQge1xuICAgIGNvbnN0IGNjID1cbiAgICAgIHRoaXMuX3dvcmxkLmNvbXBvbmVudENvbGxlY3Rpb25zLmdldCh0aGlzLl9pZCkgfHxcbiAgICAgIG5ldyBDb21wb25lbnRDb2xsZWN0aW9uPENUPigpO1xuXG4gICAgY29uc3QgY29tcG9uZW50ID0gY2MuZ2V0PFQ+KGNsKTtcblxuICAgIHJldHVybiBjb21wb25lbnQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBjb21wb25lbnRzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIHRvIGFuIGVudGl0eSwgdmlhIGEgQ29tcG9uZW50Q29sbGVjdGlvblxuICAgKi9cbiAgZ2V0QWxsKCk6IENvbXBvbmVudENvbGxlY3Rpb248Q1Q+IHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5fd29ybGQuY29tcG9uZW50Q29sbGVjdGlvbnMuZ2V0KHRoaXMuX2lkKSB8fFxuICAgICAgbmV3IENvbXBvbmVudENvbGxlY3Rpb248Q1Q+KClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGNvbXBvbmVudCBmcm9tIGFuIGVudGl0eS5cbiAgICogQHBhcmFtIGNUeXBlIEEgY29tcG9uZW50IGNsYXNzLCBlZyBNeUNvbXBvbmVudFxuICAgKi9cbiAgcmVtb3ZlKGNUeXBlOiBDbGFzc0NvbnN0cnVjdG9yPENUPik6IHRoaXMge1xuICAgIHRoaXMuX3dvcmxkLnJlbW92ZSh0aGlzLl9pZCwgY1R5cGUpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgdGFnIGZyb20gYW4gZW50aXR5XG4gICAqL1xuICByZW1vdmVUYWcodGFnOiBUYWcpOiB0aGlzIHtcbiAgICBpZiAodGhpcy5fd29ybGQuZW50aXRpZXNCeVRhZ3MuaGFzKHRhZykpIHtcbiAgICAgIGNvbnN0IGVudGl0eVNldCA9IHRoaXMuX3dvcmxkLmVudGl0aWVzQnlUYWdzLmdldCh0YWcpO1xuXG4gICAgICBpZiAoZW50aXR5U2V0KSB7XG4gICAgICAgIGVudGl0eVNldC5kZWxldGUodGhpcy5faWQpO1xuXG4gICAgICAgIGlmIChlbnRpdHlTZXQuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX3dvcmxkLmVudGl0aWVzQnlUYWdzLmRlbGV0ZSh0YWcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIENsZWFycyBhbGwgY29tcG9uZW50cyBmcm9tIGFuIEVudGl0eSAqL1xuICBjbGVhcigpOiB0aGlzIHtcbiAgICB0aGlzLl93b3JsZC5jbGVhckVudGl0eUNvbXBvbmVudHModGhpcy5faWQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCB0YWdzIG9uIGFuIGVudGl0eVxuICAgKi9cbiAgY2xlYXJUYWdzKCk6IHRoaXMge1xuICAgIGZvciAoY29uc3QgW3RhZywgZW50aXR5U2V0XSBvZiB0aGlzLl93b3JsZC5lbnRpdGllc0J5VGFncy5lbnRyaWVzKCkpIHtcbiAgICAgIGVudGl0eVNldC5kZWxldGUodGhpcy5faWQpO1xuXG4gICAgICBpZiAoZW50aXR5U2V0LnNpemUgPT09IDApIHtcbiAgICAgICAgdGhpcy5fd29ybGQuZW50aXRpZXNCeVRhZ3MuZGVsZXRlKHRhZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgc3RhdGUgb2YgdGhlIGVudGl0eSB0byAnY3JlYXRlZCcuIHRoYXQncyBpdC5cbiAgICovXG4gIGZpbmlzaENyZWF0aW9uKCk6IHZvaWQge1xuICAgIHRoaXMuX3N0YXRlLm5leHQoJ2NyZWF0ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IGFuIGVudGl0eS4gQWN0dWFsIGRlc3RydWN0aW9uIGlzIGRlZmVycmVkIHVudGlsIGFmdGVyIHRoZSBuZXh0IHBhc3Mgb2Ygc3lzdGVtcy5cbiAgICogVGhpcyBnaXZlcyB0aGUgc3lzdGVtcyBhIGNoYW5jZSB0byBkbyBhbnkgY2xlYW51cCB0aGF0IG1pZ2h0IGJlIG5lZWRlZC5cbiAgICovXG4gIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgLy8gSWYgbm8gc3lzdGVtcyBhcmUgYWRkZWQsIHRoZSBkZXN0cm95IGltbWVkaWF0ZWx5LlxuICAgIGlmICh0aGlzLl93b3JsZC5zeXN0ZW1zLmNvbXBOYW1lc0J5U3lzdGVtTmFtZS5zaXplID09PSAwKSB7XG4gICAgICB0aGlzLmRlc3Ryb3lJbW1lZGlhdGVseSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE1hcmsgYXMgXCJkZXN0cm95aW5nXCIgc28gdGhhdCBzeXN0ZW1zIGNhbiBhY3Qgb24gaXQgYmVmb3JlIGFjdHVhbGx5IGJlaW5nIGRlc3Ryb3llZC5cbiAgICB0aGlzLl9zdGF0ZS5uZXh0KCdkZXN0cm95aW5nJyk7XG4gIH1cblxuICBkZXN0cm95SW1tZWRpYXRlbHkoKTogdm9pZCB7XG4gICAgLy8gUmlnaHQgbm93IGNhbGxpbmcgYmVmb3JlIHRoZSBhY3R1YWwgZGVzdG9yeWluZyBvZiB0aGUgZW50aXR5LlxuICAgIC8vIE1pZ2h0IHdhbnQgdG8gY2hhbmdlIHRoaXMgdG8gcG9zdCBkZXN0cnVjdGlvbiBpbiB0aGUgZnV0dXJlLCB3aG8ga25vd3MuXG4gICAgdGhpcy5vbkRlc3Ryb3kodGhpcy5fd29ybGQpO1xuXG4gICAgLy8gQWN0dWFsbHkgZGVzdHJveSBlbnRpdHkuXG4gICAgdGhpcy5fd29ybGQuZGVzdHJveUVudGl0eSh0aGlzLl9pZCk7IC8vIHNob3VsZCByZXR1cm4gYW4gZXJyb3I/P1xuXG4gICAgdGhpcy5fc3RhdGUubmV4dCgnZGVzdHJveWVkJyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBjb21wb25lbnRzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIHRvIGFuIGVudGl0eSwgdmlhIGEgQ29tcG9uZW50Q29sbGVjdGlvbi5cbiAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBlbnRpdHlJbnN0YW5jZS5nZXRBbGwoKS5cbiAgICovXG4gIGdldCBjb21wb25lbnRzKCk6IENvbXBvbmVudENvbGxlY3Rpb248Q1Q+IHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5fd29ybGQuY29tcG9uZW50Q29sbGVjdGlvbnMuZ2V0KHRoaXMuX2lkKSB8fFxuICAgICAgbmV3IENvbXBvbmVudENvbGxlY3Rpb248Q1Q+KClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhbGwgdGhlIHRhZ3MgdGhhdCBoYXZlIGJlZW4gYWRkZWQgdG8gdGhpcyBlbnRpdHkuXG4gICAqL1xuICBnZXQgdGFncygpOiBTZXQ8VGFnPiB7XG4gICAgY29uc3QgdGFncyA9IG5ldyBTZXQ8VGFnPigpO1xuICAgIGZvciAoY29uc3QgW3RhZywgZW50aXR5U2V0XSBvZiB0aGlzLl93b3JsZC5lbnRpdGllc0J5VGFncy5lbnRyaWVzKCkpIHtcbiAgICAgIGlmIChlbnRpdHlTZXQuaGFzKHRoaXMuX2lkKSkge1xuICAgICAgICB0YWdzLmFkZCh0YWcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YWdzO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgRW50aXR5IHRvIGEgRGV2RW50aXR5LiBWZXJ5IGhlbHBmdWwgaW4gZm9yIGRlYnVnZ2luZy5cbiAgICovXG4gIHRvRGV2RW50aXR5KCk6IERldkVudGl0eTxDVD4ge1xuICAgIHJldHVybiBuZXcgRGV2RW50aXR5PENUPih0aGlzLCB0aGlzLl93b3JsZCk7XG4gIH1cbn1cbiIsImltcG9ydCBXb3JsZCBmcm9tICcuL1dvcmxkJztcbmltcG9ydCBEZXZFbnRpdHkgZnJvbSAnLi9EZXZFbnRpdHknO1xuXG5pbnRlcmZhY2UgRGV2U3lzdGVtQ29tcHMge1xuICBzeXN0ZW06IHN0cmluZztcbiAgY29tcG9uZW50czogc3RyaW5nO1xufVxuXG5cbmNsYXNzIERldlRvb2xzPENUPiB7XG4gIHdvcmxkOiBXb3JsZDxDVD47XG5cbiAgY29uc3RydWN0b3Iod29ybGQ6IFdvcmxkPENUPikge1xuICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgfVxuICAvKipcbiAgICogZGlzcGxheSB0aGUgYWxsIHN5c3RlbXMgb2YgdGhlIHdvcmxkLCBhbmQgdGhlIGNvbXBvbmVudHMgcmVxdWlyZWQgYnkgZWFjaCBzeXN0ZW0uXG4gICAqIFN1cGVyIGhlbHBmdWwgdG8gdXNlIHdpdGggY29uc29sZS50YWJsZSgpXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYFxuICAgKiBjb25zb2xlLnRhYmxlKHdvcmxkLmRldi5zeXN0ZW1Db21wb25lbnRzKTtcbiAgICogYGBgXG4gICAqL1xuICBnZXQgc3lzdGVtQ29tcG9uZW50cygpOiBEZXZTeXN0ZW1Db21wc1tdIHtcbiAgICBjb25zdCBjb21wc0J5U3lzdGVtcyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBbc3lzdGVtLCBjb21wTmFtZXNdIG9mIHRoaXMud29ybGQuc3lzdGVtcy5jb21wTmFtZXNCeVN5c3RlbU5hbWUpIHtcbiAgICAgIGNvbXBzQnlTeXN0ZW1zLnB1c2goeyBzeXN0ZW0sIGNvbXBvbmVudHM6IGNvbXBOYW1lcy5qb2luKFwiLCBcIikgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBzQnlTeXN0ZW1zO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBhcnJheSBvZiBEZXZFbnRpdGVzLiBDYW4gYmUgdmVyeSBoZWxwZnVsIGZvciB0aGluZ3MgbGlrZSBpbnNwZWN0aW5nIGNvbXBvbmVudCBzdGF0ZSxcbiAgICogYW5kIHdoaWNoIHN5c3RlbXMgd2lsbCBiZSBjYWxsZWQgb24gYW4gZW50aXR5LlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBcbiAgICogY29uc29sZS50YWJsZSh3b3JsZC5kZXYuZW50aXRpZXMpO1xuICAgKlxuICAgKiAvLyBQcm8gdGlwISB0cnkgZGlzcGxheWluZyBhIHRhYmxlIG9mIGVudGl0aWVzIHdpdGggY29uc29sZS50YWJsZSBhbmQgRGV2RW50aXR5LnRvVGFibGVSb3coKS5cbiAgICogY29uc29sZS50YWJsZSh3b3JsZC5kZXYuZW50aXRpZXMubWFwKGRldkVudGl0eSA9PiBkZXZFbnRpdHkudG9UYWJsZVJvdygpKSk7XG4gICAqIGBgYFxuICAgKi9cblxuICBnZXQgZW50aXRpZXMoKTogRGV2RW50aXR5PENUPltdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMud29ybGQuZW50aXRpZXMudmFsdWVzKCldLm1hcCgoZSkgPT4gZS50b0RldkVudGl0eSgpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEZXZUb29scztcbiIsImltcG9ydCBFbnRpdHksIHsgRW50aXR5SWQgfSBmcm9tIFwiLi9FbnRpdHlcIjtcbmltcG9ydCBXb3JsZCwgeyBDbGFzc0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4vV29ybGRcIjtcbmltcG9ydCBDb21wb25lbnRDb2xsZWN0aW9uIGZyb20gXCIuL0NvbXBvbmVudENvbGxlY3Rpb25cIjtcblxuLyoqXG4gKiBBcmd1bWVudHMgdGhhdCBhcmUgcGFzc2VkIGludG8gYSBTeXN0ZW0gZnVuY3Rpb24gb24gZWFjaCBpdGVyYXRpb24uXG4gKiBUaGlzIGlzIGhvdyB5b3UgYWNjZXMgdGhpbmdzIGxpa2UgdGhlIGVudGl0eSB0aGF0IHBhcnRpY3VsYXIgZW50aXR5IHRvIGFjdCBvbixcbiAqIGFzIHdlbGwgYXMgc29tZSBvdGhlciBoZWxwZnVsIHBhcmFtcyBsaWtlIGlmIHRoZSBlbnRpdHkgaXMgdGhlIGZpcnN0IG9yIGxhc3QgZW50aXR5XG4gKiBpbiB0aGUgZ3JvdXAgb2YgZW50aXRpZXMgdGhhdCBiZWluZyBpdGVyYXRlZCBvdmVyLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN5c3RlbUZ1bmNBcmdzPENUPiB7XG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBlbnRpdHkgYmVpbmcgaXRlcmF0ZWQuXG4gICAqL1xuICBlbnRpdHk6IEVudGl0eTxDVD47XG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50cyB0aGF0IGJlbG9uZyB0byB0aGUgZW50aXR5XG4gICAqL1xuICBjb21wb25lbnRzOiBDb21wb25lbnRDb2xsZWN0aW9uPENUPjtcbiAgLyoqXG4gICAqIFRoZSBXb3JsZCBpbnN0YW5jZS5cbiAgICogVXNlIHRoaXMgdG8gYWNjZXNzIG90aGVyIGVudGl0aWVzLlxuICAgKi9cbiAgd29ybGQ6IFdvcmxkPENUPjtcbiAgaW5kZXg6IG51bWJlcjtcbiAgc2l6ZTogbnVtYmVyO1xuICAvKipcbiAgICogSXMgdGhlIGZpcnN0IGVudGl0eSB0byBiZSBpdGVyYXRlZCBvbiB0aGlzIHJ1biBvZiBhIHN5c3RlbS5cbiAgICogSGVscGZ1bCBmb3Igc2V0dGluZyB1cCBzdGF0ZSB0aGF0IGlzIHRoZSBzYW1lIGZvciBhbGwgZW50aXRpZXMgb25seSBvbmNlLlxuICAgKi9cbiAgaXNGaXJzdDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIElzIHRoZSBsYXN0IGVudGl0eSB0byBiZSBpdGVyYXRlZCBvbiB0aGlzIHJ1biBvZiBhIHN5c3RlbS5cbiAgICogQ2FuIGJlIGhlbHBmdWwgdG8gdGVhciBkb3duIGFueXRoaW5nIHRoYXQgc2hvdWxkIGJlIGRlYWx0IHdpdGggYWZ0ZXIgYWxsIHRoZSBlbnRpdGVzIGhhdmUgcmFuLlxuICAgKi9cbiAgaXNMYXN0OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gYSBzeXN0ZW0gaXMgcnVuLlxuICovXG5leHBvcnQgdHlwZSBTeXN0ZW1GdW5jPENUPiA9IChzeXRlbUZ1bmNBcmdzOiBTeXN0ZW1GdW5jQXJnczxDVD4pID0+IHZvaWQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN5c3RlbXM8Q1Q+IHtcbiAgd29ybGQ6IFdvcmxkPENUPjtcblxuICBzeXN0ZW1GdW5jQnlTeXN0ZW1OYW1lOiBNYXA8c3RyaW5nLCBTeXN0ZW1GdW5jPENUPj47IC8vIGRvdWJsZSBjaGVjayB0byBtYWtlIHN1cmUgdGhhdCBtYXBzIGFyZSBvcmRlcmVkLlxuXG4gIGNvbXBOYW1lc0J5U3lzdGVtTmFtZTogTWFwPHN0cmluZywgc3RyaW5nW10+O1xuXG4gIGNvbnN0cnVjdG9yKHdvcmxkOiBXb3JsZDxDVD4pIHtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgdGhpcy5zeXN0ZW1GdW5jQnlTeXN0ZW1OYW1lID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuY29tcE5hbWVzQnlTeXN0ZW1OYW1lID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgYWRkKFxuICAgIGNUeXBlczogQ2xhc3NDb25zdHJ1Y3RvcjxDVD5bXSxcbiAgICBzeXN0ZW1GdW5jOiBTeXN0ZW1GdW5jPENUPixcbiAgICBmdW5jTmFtZT86IHN0cmluZ1xuICApOiB0aGlzIHtcbiAgICBjb25zdCBjTmFtZXMgPSBjVHlwZXMubWFwKChjdCkgPT4gY3QubmFtZSk7XG5cbiAgICBsZXQgbmFtZSA9IHN5c3RlbUZ1bmMubmFtZTtcbiAgICBpZiAoc3lzdGVtRnVuYy5uYW1lID09PSBcIlwiKSB7XG4gICAgICAvLyBTdXBlciBicnV0ZSBmb3JjZSwgYW5kIG1pZ2h0IGxlYWQgdG8gZXJyb3JzIGluIHRoZSBmdXR1cmUsIGJ1dCBmb3Igbm93XG4gICAgICAvLyB1c2luZyB0aGUgc3RyaW5naWZpZWQgc3lzdGVtIGZ1bmN0aW9uIGlmIHRoZSBmdW5jdGlvbiBkb2Vzbid0IGFscmVhZHkgaGF2ZSBhIG5hbWUuXG4gICAgICAvLyBUaGlzIGlzIHVzZWZ1bCBmb3IgYW5vbnltb3VzIGZ1bmN0aW9ucyB1c2VkIGFzIGEgc3lzdGVtIGZ1bmN0aW9uLlxuICAgICAgLy8gTWlnaHQgYmUgZ29vZCB0byBmaWd1cmUgb3V0IGhvdyB0byBnZXQgYSBoYXNoIG9mIHRoZSBmdW5jdGlvbiBzdHJpbmcuXG4gICAgICBuYW1lID0gc3lzdGVtRnVuYy50b1N0cmluZygpLnNsaWNlKDAsIDMwKTtcbiAgICB9XG5cbiAgICBpZiAoZnVuY05hbWUpIHtcbiAgICAgIG5hbWUgPSBmdW5jTmFtZTtcbiAgICB9XG5cbiAgICB0aGlzLnN5c3RlbUZ1bmNCeVN5c3RlbU5hbWUuc2V0KG5hbWUsIHN5c3RlbUZ1bmMpO1xuICAgIHRoaXMuY29tcE5hbWVzQnlTeXN0ZW1OYW1lLnNldChuYW1lLCBjTmFtZXMpO1xuICAgIHRoaXMud29ybGQuZW50aXRpZXNCeUNUeXBlcy5zZXQoY05hbWVzLCBuZXcgU2V0PEVudGl0eUlkPigpKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcnVuKCk6IHZvaWQge1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLndvcmxkLmVudGl0aWVzQnlDVHlwZXMuc2l6ZTtcbiAgICBcbiAgICBjb25zdCBlbnRpdGllc0luQ3JlYXRpbmdTdGF0ZSA9IFtdO1xuICAgIGNvbnN0IGVudGl0aWVzSW5EZXN0cm95aW5nU3RhdGUgPSBbXTtcblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHRoaXMud29ybGQuZW50aXRpZXMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChlbnRpdHkuc3RhdGUgPT09IFwiY3JlYXRpbmdcIikge1xuICAgICAgICBlbnRpdGllc0luQ3JlYXRpbmdTdGF0ZS5wdXNoKGVudGl0eSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbnRpdHkuc3RhdGUgPT09IFwiZGVzdHJveWluZ1wiKSB7XG4gICAgICAgIGVudGl0aWVzSW5EZXN0cm95aW5nU3RhdGUucHVzaChlbnRpdHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgW1xuICAgICAgZnVuY05hbWUsXG4gICAgICBzeXN0ZW1GdW5jLFxuICAgIF0gb2YgdGhpcy5zeXN0ZW1GdW5jQnlTeXN0ZW1OYW1lLmVudHJpZXMoKSkge1xuICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgIGNvbnN0IGNOYW1lcyA9IHRoaXMuY29tcE5hbWVzQnlTeXN0ZW1OYW1lLmdldChmdW5jTmFtZSkgfHwgW107XG4gICAgICBjb25zdCBjVHlwZUFycnMgPSB0aGlzLndvcmxkLmVudGl0aWVzQnlDVHlwZXMuZ2V0KGNOYW1lcykgfHwgbmV3IFNldCgpO1xuXG4gICAgICBmb3IgKGNvbnN0IGVpZCBvZiBjVHlwZUFycnMpIHtcbiAgICAgICAgY29uc3QgYXJnczogU3lzdGVtRnVuY0FyZ3M8Q1Q+ID0ge1xuICAgICAgICAgIGVudGl0eTogdGhpcy53b3JsZC5lbnRpdGllcy5nZXQoZWlkKSB8fCBuZXcgRW50aXR5PENUPih0aGlzLndvcmxkKSxcbiAgICAgICAgICBjb21wb25lbnRzOlxuICAgICAgICAgICAgdGhpcy53b3JsZC5jb21wb25lbnRDb2xsZWN0aW9ucy5nZXQoZWlkKSB8fFxuICAgICAgICAgICAgbmV3IENvbXBvbmVudENvbGxlY3Rpb248Q1Q+KCksXG4gICAgICAgICAgd29ybGQ6IHRoaXMud29ybGQsXG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgc2l6ZSxcbiAgICAgICAgICBpc0ZpcnN0OiBpbmRleCA9PT0gMCxcbiAgICAgICAgICBpc0xhc3Q6IGluZGV4ICsgMSA9PT0gc2l6ZSxcbiAgICAgICAgfTtcblxuICAgICAgICBzeXN0ZW1GdW5jKGFyZ3MpO1xuXG4gICAgICAgIGluZGV4ICs9IDE7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBlbnRpdGllc0luQ3JlYXRpbmdTdGF0ZSkge1xuICAgICAgZW50aXR5LmZpbmlzaENyZWF0aW9uKCk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZW50aXRpZXNJbkRlc3Ryb3lpbmdTdGF0ZSkge1xuICAgICAgZW50aXR5LmRlc3Ryb3lJbW1lZGlhdGVseSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAgVE9ETzogTmljZSB0byBoYXZlIG9wdGlvbnMgaGVyZTpcbiAgICAgIC0gc3lzdGVtcy5hY3RpdmVTeXN0ZW1zID0gbmV3IFNldCgpOyAvLyBpZiBub3QgaW4gc2V0LCBzeXN0ZW0gZG9lc24ndCBydW4uXG4gICAgICAtIHN5c3RlbXMuZGVhY3RpdmF0ZVN5c3RlbSgnc3lzdGVtTmFtZScpIC8vIHJlbW92ZSBzeXN0ZW0gZnJvbSBhY3RpdmVTeXN0ZW1zXG4gICAgICAtIHN5c3RlbXMuYWN0aXZhdGVTeXN0ZW0oJ3N5c3RlbU5hbWUpIC8vIGFkZHMgc3lzdGVtIGJhY2sgdG8gYWN0aXZlU3lzdGVtc1xuICAgICAgLSBzeXN0ZW1zLnBhdXNlKCkgLy8gcGF1c2VzIHJ1bm5pbmcgb2Ygc3lzdGVtcy4gYmFzaWNhbGx5IHJldHVybiBpbW1lZGlhdGVseSBvbiBydW4oKS5cbiAgICAgIC0gc3lzdGVtcy5yZXN1bWUoKSAvLyByZXN1bWUgcnVubmluZyBvZiBzeXN0ZW1zLlxuICAqL1xufVxuIiwiaW1wb3J0IFdvcmxkLCB7IENsYXNzQ29uc3RydWN0b3IgfSBmcm9tIFwiLi9Xb3JsZFwiO1xuaW1wb3J0IEVudGl0eSwgeyBFbnRpdHlJZCB9IGZyb20gXCIuL0VudGl0eVwiO1xuXG4vLyBXYWl0aW5nIGZvciBUeXBlc2NyaXB0IDQuMiB0byBjb21lIG91dCBzbyB0aGF0IFN5bWJvbHMgYXJlIHN1cHBvcmRlZCBrZXlzLlxuZXhwb3J0IGNvbnN0IFRyYWNrZWRDb21wU3ltYm9sS2V5cyA9IHtcbiAgaXNUcmFja2VkOiBTeW1ib2wuZm9yKFwiZWNzLnRyYWNrZWRDb21wb25lbnQuaXNUcmFja2VkXCIpLFxuICB3b3JsZDogU3ltYm9sLmZvcihcImVjcy50cmFja2VkQ29tcG9uZW50LndvcmxkXCIpLFxuICBlbnRpdHlJRHM6IFN5bWJvbC5mb3IoXCJlY3MudHJhY2tlZENvbXBvbmVudC5lbnRpdHlJRHNcIiksXG4gIGdldEVudGl0aWVzOiBTeW1ib2wuZm9yKFwiZWNzLnRyYWNrZWRDb21wb25lbnQuZ2V0RW50aXRpZXNcIiksXG4gIHNldFdvcmxkOiBTeW1ib2wuZm9yKFwiZWNzLnRyYWNrZWRDb21wb25lbnQuc2V0V29ybGRcIiksXG4gIG9uQWRkOiBTeW1ib2wuZm9yKFwiZWNzLnRyYWNrZWRDb21wb25lbnQub25BZGRcIiksXG4gIG9uVXBkYXRlOiBTeW1ib2wuZm9yKFwiZWNzLnRyYWNrZWRDb21wb25lbnQub25VcGRhdGVcIiksXG4gIG9uUmVtb3ZlOiBTeW1ib2wuZm9yKFwiZWNzLnRyYWNrZWRDb21wb25lbnQub25SZW1vdmVcIiksXG59IGFzIGNvbnN0O1xuXG4vL0B0cy1pZ25vcmVcbnR5cGUgVHJhY2tlZENvbXBvbmVudDxDVD4gPSB7XG4gIG5ldyAoLi4uYXJnczogYW55W10pOiBDVDtcblxuICAvL0B0cy1pZ25vcmVcbiAgW1RyYWNrZWRDb21wU3ltYm9sS2V5cy5pc1RyYWNrZWRdOiBib29sZWFuO1xuICAvL0B0cy1pZ25vcmVcbiAgW1RyYWNrZWRDb21wU3ltYm9sS2V5cy5zZXRXb3JsZF06ICh3b3JsZDogV29ybGQ8Q1Q+KSA9PiB2b2lkO1xuICAvL0B0cy1pZ25vcmVcbiAgW1RyYWNrZWRDb21wU3ltYm9sS2V5cy53b3JsZF06IFdvcmxkPENUPjtcbiAgLy9AdHMtaWdub3JlXG4gIFtUcmFja2VkQ29tcFN5bWJvbEtleXMuZW50aXR5SURzXTogU2V0PEVudGl0eUlkPjtcbiAgLy9AdHMtaWdub3JlXG4gIFtUcmFja2VkQ29tcFN5bWJvbEtleXMuZ2V0RW50aXRpZXNdOiAoKSA9PiBNYXA8RW50aXR5SWQsIEVudGl0eTxDVD4+O1xuICAvL0B0cy1pZ25vcmVcbiAgW1RyYWNrZWRDb21wU3ltYm9sS2V5cy5vbkFkZF06IChcbiAgICB3b3JsZDogV29ybGQ8Q1Q+LFxuICAgIGVudGl0eTogRW50aXR5PENUPlxuICApID0+IHZvaWQ7XG4gIC8vQHRzLWlnbm9yZVxuICBbVHJhY2tlZENvbXBTeW1ib2xLZXlzLm9uUmVtb3ZlXTogKFxuICAgIHdvcmxkOiBXb3JsZDxDVD4sXG4gICAgZW50aXR5OiBFbnRpdHk8Q1Q+XG4gICkgPT4gdm9pZDtcbn07XG5cbmludGVyZmFjZSBBZGRFdmVudEFyZ3M8Q1Q+IHtcbiAgd29ybGQ6IFdvcmxkPENUPjtcbiAgY29tcG9uZW50OiBDVDtcbiAgZW50aXR5OiBFbnRpdHk8Q1Q+O1xuICBlbnRpdGllczogTWFwPEVudGl0eUlkLCBFbnRpdHk8Q1Q+Pjtcbn1cblxuaW50ZXJmYWNlIFVwZGF0ZUV2ZW50QXJnczxDVD4ge1xuICBlbnRpdGllczogTWFwPEVudGl0eUlkLCBFbnRpdHk8Q1Q+PjtcbiAgY29tcG9uZW50OiBDVDtcbiAgd29ybGQ6IFdvcmxkPENUPjtcbiAgcHJldmlvdXNWYWw6IENUW2tleW9mIENUXTtcbiAgcHJvcGVydHk6IGtleW9mIENUO1xufVxuXG5pbnRlcmZhY2UgUmVtb3ZlRXZlbnRBcmdzPENUPiB7XG4gIHdvcmxkOiBXb3JsZDxDVD47XG4gIGNvbXBvbmVudDogQ1Q7XG4gIGVudGl0eTogRW50aXR5PENUPjtcbiAgZW50aXRpZXM6IE1hcDxFbnRpdHlJZCwgRW50aXR5PENUPj47XG59XG5cbmludGVyZmFjZSBUcmFja2VkRXZlbnRIYW5kbGVyczxDVD4ge1xuICBvbkFkZD86IChhcmdzOiBBZGRFdmVudEFyZ3M8Q1Q+KSA9PiB2b2lkO1xuICBvblVwZGF0ZT86IChhcmdzOiBVcGRhdGVFdmVudEFyZ3M8Q1Q+KSA9PiB2b2lkO1xuICBvblJlbW92ZT86IChhcmdzOiBSZW1vdmVFdmVudEFyZ3M8Q1Q+KSA9PiB2b2lkO1xufVxuXG5cbi8vIE5PVEU6IFJlYWxseSBuZWVkIHRvIGdldCBzeW1ib2xzIHdvcmtpbmcgYXMga2V5cyBpbiBUeXBlc2NyaXB0LlxuLy8gICAgICAgVW50aWwgdGhlbiB3aWxsIGhhdmUgdG8gY2FzdCB0byBrZXlvZiBDVC5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU0MzI0MzIzL3R5cGVzY3JpcHQtdHlwZS1zdHJpbmctaXMtbm90LWFzc2lnbmFibGUtdG8tdHlwZS1rZXlvZlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L3B1bGwvMjY3OTdcbmZ1bmN0aW9uIGNyZWF0ZUNsYXNzSW5zdGFuY2VQcm94eUhhbmRsZXJzPENUPihcbiAgdHJhY2tlZEV2ZW50SGFuZGxlcnM6IFRyYWNrZWRFdmVudEhhbmRsZXJzPENUPlxuKTogUHJveHlIYW5kbGVyPGFueT4ge1xuICBjb25zdCB1cGRhdGVkUHJvcHMgPSBuZXcgU2V0KCk7XG4gIHJldHVybiB7XG4gICAgc2V0KFxuICAgICAgY29tcG9uZW50OiBDVCxcbiAgICAgIHByb3BlcnR5OiBzdHJpbmcsXG4gICAgICB2YWx1ZTogQ1Rba2V5b2YgQ1RdXG4gICAgKSB7XG4gICAgICB1cGRhdGVkUHJvcHMuYWRkKHByb3BlcnR5KTtcblxuICAgICAgLy9AdHMtaWdub3JlXG4gICAgICBjb25zdCB3b3JsZCA9IGNvbXBvbmVudFtcbiAgICAgICAgVHJhY2tlZENvbXBTeW1ib2xLZXlzLndvcmxkXG4gICAgICBdIGFzIFdvcmxkPENUPjtcblxuICAgICAgY29uc3QgcHJldmlvdXNWYWwgPSBjb21wb25lbnRbcHJvcGVydHkgYXMga2V5b2YgQ1RdO1xuXG4gICAgICBjb21wb25lbnRbcHJvcGVydHkgYXMga2V5b2YgQ1RdID0gdmFsdWU7XG5cbiAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgY29uc3QgZW50aXRpZXMgPSBjb21wb25lbnRbVHJhY2tlZENvbXBTeW1ib2xLZXlzLmdldEVudGl0aWVzXSh3b3JsZCkgYXMgTWFwPEVudGl0eUlkLCBFbnRpdHk8Q1Q+PjtcbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZW50aXRpZXMudmFsdWVzKCkpIHtcbiAgICAgICAgZW50aXR5Lm9uVHJhY2tlZENvbXBvbmVudFVwZGF0ZSh7IHdvcmxkLCBjb21wb25lbnQgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0cmFja2VkRXZlbnRIYW5kbGVycy5vblVwZGF0ZSkge1xuICAgICAgICB0cmFja2VkRXZlbnRIYW5kbGVycy5vblVwZGF0ZSh7XG4gICAgICAgICAgZW50aXRpZXMsXG4gICAgICAgICAgd29ybGQsXG4gICAgICAgICAgY29tcG9uZW50LFxuICAgICAgICAgIHByZXZpb3VzVmFsLFxuICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSBhcyBrZXlvZiBDVCxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFja0NvbXBvbmVudDxDVD4oXG4gIENvbXBDbGFzczogQ2xhc3NDb25zdHJ1Y3RvcjxDVD4sXG4gIHRyYWNrZWRFdmVudEhhbmRsZXJzOiBUcmFja2VkRXZlbnRIYW5kbGVyczxDVD5cbik6IFRyYWNrZWRDb21wb25lbnQ8Q1Q+IHtcbiAgcmV0dXJuIG5ldyBQcm94eShDb21wQ2xhc3MsIHtcbiAgICBjb25zdHJ1Y3QoQ29tcG9uZW50OiBhbnksIGFyZ3M6IGFueSkge1xuICAgICAgY29uc3QgY29tcG9uZW50ID0gbmV3IENvbXBvbmVudCguLi5hcmdzKSBhcyBDVCAmIFRyYWNrZWRDb21wb25lbnQ8Q1Q+O1xuXG4gICAgICAvLyBGb3IgdXNlIGluIGlkZW50aWZpbmcgYSBcInRyYWNrZWRcIiBjbGFzcyB0aHJvdWdoIHRoZSBwcm94eS5cbiAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgY29tcG9uZW50W1RyYWNrZWRDb21wU3ltYm9sS2V5cy5pc1RyYWNrZWRdID0gdHJ1ZTtcblxuICAgICAgLy9AdHMtaWdub3JlXG4gICAgICBjb21wb25lbnRbVHJhY2tlZENvbXBTeW1ib2xLZXlzLnNldFdvcmxkXSA9IChcbiAgICAgICAgd29ybGQ6IFdvcmxkPENUPlxuICAgICAgKSA9PiB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBjb21wb25lbnRbVHJhY2tlZENvbXBTeW1ib2xLZXlzLndvcmxkXSA9IHdvcmxkO1xuICAgICAgfTtcblxuICAgICAgLy8gSG9sZHMgZW50aXRpZXMgdGhhdCB0aGlzIGNvbXBvbmVudCBoYXMgYmVlbiBhZGRlZCB0by5cbiAgICAgIC8vIEFkZGVkIGFuZCByZW1vdmVkIGluIHdvcmxkLmFkZCgpL3dvcmxkLnJlbW92ZSgpLlxuICAgICAgLy9AdHMtaWdub3JlXG4gICAgICBjb21wb25lbnRbVHJhY2tlZENvbXBTeW1ib2xLZXlzLmVudGl0eUlEc10gPSBuZXcgU2V0KCk7XG5cblxuICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgRW50aXRpZXMgZnJvbSBlbnRpdHlJRHNcbiAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgY29tcG9uZW50W1RyYWNrZWRDb21wU3ltYm9sS2V5cy5nZXRFbnRpdGllc10gPSAod29ybGQ6IFdvcmxkPENUPik6IE1hcDxFbnRpdHlJZCwgRW50aXR5PENUPj4gPT4ge1xuICAgICAgICBjb25zdCBlbnRpdGllcyA9IG5ldyBNYXA8RW50aXR5SWQsIEVudGl0eTxDVD4+KCk7XG5cbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGZvciAoY29uc3QgZWlkIG9mIGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMuZW50aXR5SURzXSkge1xuICAgICAgICAgIGNvbnN0IGVudGl0eSA9IHdvcmxkLmVudGl0aWVzLmdldChlaWQpO1xuICAgICAgICAgIGlmIChlbnRpdHkpIHtcbiAgICAgICAgICAgIGVudGl0aWVzLnNldChlaWQsIGVudGl0eSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVudGl0aWVzO1xuICAgICAgfVxuXG4gICAgICAvL0B0cy1pZ25vcmVcbiAgICAgIGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMub25BZGRdID0gKFxuICAgICAgICB3b3JsZDogV29ybGQ8Q1Q+LFxuICAgICAgICBlbnRpdHk6IEVudGl0eTxDVD5cbiAgICAgICkgPT4ge1xuICAgICAgICBpZiAodHJhY2tlZEV2ZW50SGFuZGxlcnMub25BZGQpIHtcbiAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICBjb25zdCBlbnRpdGllcyA9IGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMuZ2V0RW50aXRpZXNdKHdvcmxkKSBhcyBNYXA8RW50aXR5SWQsIEVudGl0eTxDVD4+O1xuXG4gICAgICAgICAgdHJhY2tlZEV2ZW50SGFuZGxlcnMub25BZGQoeyBjb21wb25lbnQsIHdvcmxkLCBlbnRpdHksIGVudGl0aWVzIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvL0B0cy1pZ25vcmVcbiAgICAgIGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMub25SZW1vdmVdID0gKFxuICAgICAgICB3b3JsZDogV29ybGQ8Q1Q+LFxuICAgICAgICBlbnRpdHk6IEVudGl0eTxDVD5cbiAgICAgICkgPT4ge1xuICAgICAgICBpZiAodHJhY2tlZEV2ZW50SGFuZGxlcnMub25SZW1vdmUpIHtcbiAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICBjb25zdCBlbnRpdGllcyA9IGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMuZ2V0RW50aXRpZXNdKHdvcmxkKSBhcyBNYXA8RW50aXR5SWQsIEVudGl0eTxDVD4+O1xuXG4gICAgICAgICAgdHJhY2tlZEV2ZW50SGFuZGxlcnMub25SZW1vdmUoeyBjb21wb25lbnQsIHdvcmxkLCBlbnRpdHksIGVudGl0aWVzIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gbmV3IFByb3h5KFxuICAgICAgICBjb21wb25lbnQsXG4gICAgICAgIGNyZWF0ZUNsYXNzSW5zdGFuY2VQcm94eUhhbmRsZXJzKHRyYWNrZWRFdmVudEhhbmRsZXJzKVxuICAgICAgKTtcbiAgICB9LFxuICB9KTtcbn1cbiIsImltcG9ydCBFbnRpdHksIHsgRW50aXR5SWQgfSBmcm9tIFwiLi9FbnRpdHlcIjtcbmltcG9ydCBDb21wb25lbnRDb2xsZWN0aW9uIGZyb20gXCIuL0NvbXBvbmVudENvbGxlY3Rpb25cIjtcbmltcG9ydCB7IFRhZyB9IGZyb20gXCIuL1RhZ1wiO1xuaW1wb3J0IHsgU3lzdGVtRnVuYyB9IGZyb20gXCIuL1N5c3RlbXNcIjtcbmltcG9ydCBEZXZUb29scyBmcm9tIFwiLi9EZXZUb29sc1wiO1xuaW1wb3J0IFN5c3RlbXMgZnJvbSAnLi9TeXN0ZW1zJztcbmltcG9ydCB7IFRyYWNrZWRDb21wU3ltYm9sS2V5cyB9IGZyb20gJy4vVHJhY2tlZENvbXBvbmVudCc7XG5cbmV4cG9ydCB0eXBlIENsYXNzQ29uc3RydWN0b3I8VD4gPSB7IG5ldyAoLi4uYXJnczogYW55W10pOiBUIH07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmxkPENUPiB7XG4gIGNvbXBvbmVudENvbGxlY3Rpb25zOiBNYXA8RW50aXR5SWQsIENvbXBvbmVudENvbGxlY3Rpb248Q1Q+PiA9IG5ldyBNYXAoKTtcblxuICBlbnRpdGllczogTWFwPEVudGl0eUlkLCBFbnRpdHk8Q1Q+PiA9IG5ldyBNYXAoKTtcblxuICBlbnRpdGllc0J5Q1R5cGVzOiBNYXA8c3RyaW5nW10sIFNldDxFbnRpdHlJZD4+ID0gbmV3IE1hcCgpO1xuXG4gIGVudGl0aWVzQnlUYWdzOiBNYXA8VGFnLCBTZXQ8RW50aXR5SWQ+PiA9IG5ldyBNYXAoKTtcblxuICBzeXN0ZW1zOiBTeXN0ZW1zPENUPjtcblxuICBkZXY6IERldlRvb2xzPENUPjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmRldiA9IG5ldyBEZXZUb29scyh0aGlzKTtcbiAgICB0aGlzLnN5c3RlbXMgPSBuZXcgU3lzdGVtcyh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcImZpbmRzXCIgYSBzaW5nbGUgZW50aXR5IGJhc2VkIG9uIGEgcHJlZGljYXRlXG4gICAqL1xuICBmaW5kID0gKHByZWRpY2F0ZTogKGVudGl0eTogRW50aXR5PENUPikgPT4gYm9vbGVhbik6IEVudGl0eTxDVD4gfCBudWxsID0+IHtcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB0aGlzLmVudGl0aWVzLnZhbHVlcygpKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGVudGl0eSkpIHtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogXCJmaW5kc1wiIGFsbCBlbnRpdGllcyBiYXNlZCBvbiBhIHByZWRpY2F0ZSwga2luZGEgbGlrZSBmaWx0ZXIuXG4gICAqL1xuICBmaW5kQWxsID0gKHByZWRpY2F0ZTogKGVudGl0eTogRW50aXR5PENUPikgPT4gYm9vbGVhbik6IEVudGl0eTxDVD5bXSA9PiB7XG4gICAgY29uc3QgcmVzdWx0czogRW50aXR5PENUPltdID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB0aGlzLmVudGl0aWVzLnZhbHVlcygpKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGVudGl0eSkpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGVudGl0eSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFwibG9jYXRlc1wiIGEgc2luZ2xlIGVudGl0eSBiYXNlZCBvbiBpdHMgQ29tcG9uZW50cy5cbiAgICovXG4gIGxvY2F0ZSA9IChjbDogQ2xhc3NDb25zdHJ1Y3RvcjxDVD4gfCBDbGFzc0NvbnN0cnVjdG9yPENUPltdKTogRW50aXR5PENUPiB8IG51bGwgPT4ge1xuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHRoaXMuZW50aXRpZXMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChlbnRpdHkuY29tcG9uZW50cy5oYXMoY2wpKSB7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIExvY2F0ZXMgYWxsIGVudGl0aWVzIHRoYXQgY29udGFpbiB0aGUgY29tcG9uZW50cyBuYW1lZFxuICAgKi9cbiAgbG9jYXRlQWxsID0gKGNsOiBDbGFzc0NvbnN0cnVjdG9yPENUPiB8IENsYXNzQ29uc3RydWN0b3I8Q1Q+W10pOiBFbnRpdHk8Q1Q+W10gPT4ge1xuICAgIGNvbnN0IHJlc3VsdHM6IEVudGl0eTxDVD5bXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdGhpcy5lbnRpdGllcy52YWx1ZXMoKSkge1xuICAgICAgaWYgKGVudGl0eS5jb21wb25lbnRzLmhhcyhjbCkpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGVudGl0eSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdyYWJzIHRoZSBmaXJzdCBlbnRpdHksIGFuZCBpdHMgcmVsYXRlZCBjb21wb25lbnQsIHRoYXQgbWF0Y2hlcyB0aGUgY29tcG9uZW50IHR5cGUuXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYFxuICAgKiBjb25zdCB7IGVudGl0eSwgY29tcG9uZW50IH0gPSB3b3JsZC5ncmFiKE15Q29tcG9uZW50KTtcbiAgICogYGBgXG4gICAqL1xuICBncmFiID0gPFQgZXh0ZW5kcyBDVD4oXG4gICAgY2w6IENsYXNzQ29uc3RydWN0b3I8VD5cbiAgKTogeyBlbnRpdHk6IEVudGl0eTxDVD47IGNvbXBvbmVudDogVCB9IHwgbnVsbCA9PiB7XG4gICAgY29uc3QgZW50aXR5ID0gdGhpcy5sb2NhdGUoY2wpO1xuXG4gICAgaWYgKGVudGl0eSkge1xuICAgICAgY29uc3QgY2MgPVxuICAgICAgICB0aGlzLmNvbXBvbmVudENvbGxlY3Rpb25zLmdldChlbnRpdHkuaWQpIHx8XG4gICAgICAgIG5ldyBDb21wb25lbnRDb2xsZWN0aW9uPENUPigpO1xuXG4gICAgICBjb25zdCBjb21wb25lbnQgPSBjYy5nZXQ8VD4oY2wpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbnRpdHksXG4gICAgICAgIGNvbXBvbmVudCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdyYWIgc2luZ2xlIGNvbXBvbmVudCBiYXNlZCBvbiBjb21wb25lbnQgdHlwZSBhbmQgcHJlZGljYXRlLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGNvbnN0IHsgZW50aXR5LCBjb21wb25lbnQgfSA9IHdvcmxkLmdyYWJCeShGaXJzdENvbXBvbmVudCwgKGNvbXApID0+IGNvbXAuaWQgPT0gJ2F3ZXNvbWUnKVxuICAgKiBgYGBcbiAgICovXG4gIGdyYWJCeSA9IDxUIGV4dGVuZHMgQ1Q+KFxuICAgIGNsOiBDbGFzc0NvbnN0cnVjdG9yPFQ+LFxuICAgIHByZWRpY2F0ZTogKGNvbXA6IFQpID0+IGJvb2xlYW5cbiAgKTogeyBlbnRpdHk6IEVudGl0eTxDVD47IGNvbXBvbmVudDogVCB9IHwgbnVsbCA9PiB7XG4gICAgY29uc3QgZW50aXRpZXMgPSB0aGlzLmxvY2F0ZUFsbChjbCk7XG4gICAgLy8gY29uc3QgZW50aXRpZXMgPSB0aGlzLmxvY2F0ZUFsbCgoY2wgYXMgdW5rbm93bikgYXMgQ1QpO1xuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZW50aXRpZXMpIHtcbiAgICAgIGNvbnN0IGNjID1cbiAgICAgICAgdGhpcy5jb21wb25lbnRDb2xsZWN0aW9ucy5nZXQoZW50aXR5LmlkKSB8fFxuICAgICAgICBuZXcgQ29tcG9uZW50Q29sbGVjdGlvbjxDVD4oKTtcblxuICAgICAgY29uc3QgY29tcG9uZW50ID0gY2MuZ2V0PFQ+KGNsKTtcblxuICAgICAgaWYgKHByZWRpY2F0ZShjb21wb25lbnQpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY29tcG9uZW50LFxuICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogR3JhYiBhbGwgdGhlIGNvbXBvbmVudHMgcHJpbWFyaWx5LCBhbmQgdGhlIGVudGl0aWVzIGlmIG5lZWRlZFxuICAgKi9cbiAgZ3JhYkFsbCA9IDxUIGV4dGVuZHMgQ1Q+KFxuICAgIGNsOiBDbGFzc0NvbnN0cnVjdG9yPFQ+XG4gICk6IHsgZW50aXR5OiBFbnRpdHk8Q1Q+OyBjb21wb25lbnQ6IFQgfVtdID0+IHtcbiAgICBjb25zdCBlbnRpdGllcyA9IHRoaXMubG9jYXRlQWxsKGNsKTtcblxuICAgIHJldHVybiBlbnRpdGllcy5tYXAoKGVudGl0eSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW50aXR5LFxuICAgICAgICBjb21wb25lbnQ6IGVudGl0eS5jb21wb25lbnRzLmdldDxUPihjbCksXG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFRPRE86IEFkZCBncmFiQWxsQnkgbWV0aG9kXG5cbiAgLyoqXG4gICAqIEdpdmVuIGFuIGVudGl0eSBpZCBhbmQgY29tcG9uZW50VHlwZSwgcmV0dXJucyBjb21wb25lbnRcbiAgICovXG4gIGdldCA9IDxUIGV4dGVuZHMgQ1Q+KGVpZDogRW50aXR5SWQsIGNsOiBDbGFzc0NvbnN0cnVjdG9yPFQ+KTogVCA9PiB7XG4gICAgY29uc3QgY2MgPVxuICAgICAgdGhpcy5jb21wb25lbnRDb2xsZWN0aW9ucy5nZXQoZWlkKSB8fCBuZXcgQ29tcG9uZW50Q29sbGVjdGlvbjxDVD4oKTtcblxuICAgIHJldHVybiBjYy5nZXQ8VD4oY2wpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGaW5kIGFuZCBnZXQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGEgY29tcG9uZW50LCB3aXRob3V0IGFueSBhc3NvY2lhdGVkIGVudGl0aWVzLlxuICAgKiBIZWxwZnVsIGlzIHlvdSBrbm93IHRoYXQgb25seSBvbmUgaW5zdGFuY2Ugb2YgYSBjb21wb25lbnQgZXhpc3RzIGFjcm9zcyBhbGwgZW50aXRpZXMuXG4gICAqIEBwYXJhbSBjbCBDb21wb25lbnQgQ2xhc3MgQ29udHJ1Y3RvclxuICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIEEgZGVmYXVsdCBjb21wb25lbnQgaW5zdGFuY2UgaWYgbm8gY29tcG9uZW50cyBhcmUgZm91bmQuXG4gICAqL1xuICBnZXRDb21wb25lbnQgPSA8VCBleHRlbmRzIENUPihcbiAgICBjbDogQ2xhc3NDb25zdHJ1Y3RvcjxUPixcbiAgICBkZWZhdWx0VmFsdWU/OiBUXG4gICk6IFQgfCBudWxsID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmdyYWIoY2wpO1xuXG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWUgPyBkZWZhdWx0VmFsdWUgOiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQuY29tcG9uZW50O1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgYW4gZW50aXR5IHRoYXQgaGFzIGJlZW4gdGFnZ2VkIHdpdGggdGhlIGdpdmVuIHRhZywgb3IgcmV0dXJuIG51bGw7XG4gICAqL1xuICBnZXRUYWdnZWQgPSAodGFnOiBUYWcpOiBFbnRpdHk8Q1Q+IHwgbnVsbCA9PiB7XG4gICAgY29uc3QgdGFnRW50aXR5SWRzID0gdGhpcy5lbnRpdGllc0J5VGFncy5nZXQodGFnKTtcblxuICAgIGlmICh0YWdFbnRpdHlJZHMpIHtcbiAgICAgIGNvbnN0IGVudGl0eUlkID0gdGFnRW50aXR5SWRzLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcblxuICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5lbnRpdGllcy5nZXQoZW50aXR5SWQpO1xuXG4gICAgICBpZiAoZW50aXR5KSB7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHQgYWxsIGVudGl0aWVzIHRoYXQgaGF2ZSBiZWVuIHRhZ2dlZCB3aXRoIHRoZSBnaXZlbiB0YWcuXG4gICAqIEBwYXJhbSB0YWcgQSBzdHJpbmcgb3IgbnVtYmVyLlxuICAgKi9cbiAgZ2V0QWxsVGFnZ2VkID0gKHRhZzogVGFnKTogRW50aXR5PENUPltdID0+IHtcbiAgICBsZXQgZW50aXRpZXM6IEVudGl0eTxDVD5bXSA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICBjb25zdCB0YWdFbnRpdHlJZHMgPSB0aGlzLmVudGl0aWVzQnlUYWdzLmdldCh0YWcpO1xuXG4gICAgaWYgKHRhZ0VudGl0eUlkcykge1xuICAgICAgZm9yIChjb25zdCBlbnRpdHlJZCBvZiB0YWdFbnRpdHlJZHMpIHtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5lbnRpdGllcy5nZXQoZW50aXR5SWQpO1xuICAgICAgICBpZiAoZW50aXR5KSB7XG4gICAgICAgICAgZW50aXRpZXMucHVzaChlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudGl0aWVzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgYSBjb21wb25lbnQgb24gdGhlIGdpdmVuIGVudGl0eVxuICAgKi9cbiAgYWRkID0gPFQgZXh0ZW5kcyBDVD4oZWlkOiBFbnRpdHlJZCwgY29tcG9uZW50OiBUKTogdGhpcyA9PiB7XG4gICAgY29uc3QgY2MgPVxuICAgICAgdGhpcy5jb21wb25lbnRDb2xsZWN0aW9ucy5nZXQoZWlkKSB8fCBuZXcgQ29tcG9uZW50Q29sbGVjdGlvbjxDVD4oKTtcblxuICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuZW50aXRpZXMuZ2V0KGVpZCk7XG5cbiAgICBpZiAoIWVudGl0eSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB3b3JsZC5hZGQ6IFVuYWJsZSB0byBsb2NhdGUgZW50aXR5IHdpdGggaWQgJHtlaWR9YCk7XG4gICAgfVxuXG4gICAgY2MuYWRkKGNvbXBvbmVudCk7XG5cbiAgICB0aGlzLmNvbXBvbmVudENvbGxlY3Rpb25zLnNldChlaWQsIGNjKTtcblxuICAgIGZvciAoY29uc3QgW2N0QXJyLCBlbnRpdHlTZXRdIG9mIHRoaXMuZW50aXRpZXNCeUNUeXBlcykge1xuICAgICAgaWYgKChjdEFyciBhcyBzdHJpbmdbXSkuZXZlcnkoY2MuaGFzQnlOYW1lKSkge1xuICAgICAgICBlbnRpdHlTZXQuYWRkKGVpZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChjb21wb25lbnRbVHJhY2tlZENvbXBTeW1ib2xLZXlzLmlzVHJhY2tlZF0pIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMuc2V0V29ybGRdKHRoaXMpO1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY29tcG9uZW50W1RyYWNrZWRDb21wU3ltYm9sS2V5cy5lbnRpdHlJRHNdLmFkZChlaWQpO1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY29tcG9uZW50W1RyYWNrZWRDb21wU3ltYm9sS2V5cy5vbkFkZF0odGhpcywgZW50aXR5KTtcbiAgICB9XG5cbiAgICBlbnRpdHkub25Db21wb25lbnRBZGQoeyB3b3JsZDogdGhpcywgY29tcG9uZW50IH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGNvbXBvbmVudCBmcm9tIHRoZSBnaXZlbiBlbnRpdHkuXG4gICAqIE5PVEU6IFRoaXMgd2lsbCBjaGFuZ2Ugd2hhdCBzeXN0ZW1zIHdpbGwgYmUgY2FsbGVkIG9uIHRoZSBlbnRpdHkuXG4gICAqL1xuICByZW1vdmUgPSAoZWlkOiBFbnRpdHlJZCwgY1R5cGU6IENsYXNzQ29uc3RydWN0b3I8Q1Q+KTogdGhpcyA9PiB7XG4gICAgY29uc3QgY2MgPVxuICAgICAgdGhpcy5jb21wb25lbnRDb2xsZWN0aW9ucy5nZXQoZWlkKSB8fCBuZXcgQ29tcG9uZW50Q29sbGVjdGlvbjxDVD4oKTtcblxuICAgIC8vIG5lZWQgdG8gZ2V0IGNvbXBvbmVudCBpbnN0YW5jZS4uLlxuICAgIGNvbnN0IGNvbXBvbmVudCA9IGNjLmdldChjVHlwZSk7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKGNvbXBvbmVudFtUcmFja2VkQ29tcFN5bWJvbEtleXMuaXNUcmFja2VkXSkge1xuICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5lbnRpdGllcy5nZXQoZWlkKTtcblxuICAgICAgaWYgKCFlbnRpdHkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB3b3JsZC5yZW1vdmU6IFVuYWJsZSB0byBsb2NhdGUgZW50aXR5LiBlaWQ6ICR7ZWlkfSwgY1R5cGU6ICR7Y1R5cGUubmFtZX1gKTtcbiAgICAgIH1cblxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY29tcG9uZW50W1RyYWNrZWRDb21wU3ltYm9sS2V5cy5lbnRpdHlJRHNdLmRlbGV0ZShlaWQpO1xuXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjb21wb25lbnRbVHJhY2tlZENvbXBTeW1ib2xLZXlzLm9uUmVtb3ZlXSh0aGlzLCBlbnRpdHkpO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBlbnRpdHkgZnJvbSBjdXJyZW50IGVudGl0aWVzQnlDVHlwZXNcbiAgICBmb3IgKGNvbnN0IFtjdEFyciwgZW50aXR5U2V0XSBvZiB0aGlzLmVudGl0aWVzQnlDVHlwZXMpIHtcbiAgICAgIGlmICgoY3RBcnIgYXMgc3RyaW5nW10pLmV2ZXJ5KGNjLmhhc0J5TmFtZSkpIHtcbiAgICAgICAgZW50aXR5U2V0LmRlbGV0ZShlaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNjLnJlbW92ZShjVHlwZSk7XG5cbiAgICAvLyBNb3ZlIGVudGl0eUlkIHRvIG5ldyBDVHlwZXMgaWYgbmVlZGVkLlxuICAgIGZvciAoY29uc3QgW2N0QXJyLCBlbnRpdHlTZXRdIG9mIHRoaXMuZW50aXRpZXNCeUNUeXBlcykge1xuICAgICAgaWYgKChjdEFyciBhcyBzdHJpbmdbXSkuZXZlcnkoY2MuaGFzQnlOYW1lKSkge1xuICAgICAgICBlbnRpdHlTZXQuYWRkKGVpZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZW50aXR5ID0gdGhpcy5lbnRpdGllcy5nZXQoZWlkKTtcbiAgICBpZiAoZW50aXR5KSB7XG4gICAgICBlbnRpdHkub25Db21wb25lbnRSZW1vdmUoeyB3b3JsZDogdGhpcywgY29tcG9uZW50IH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNZXRob2QgZm9yIGFkZGluZyBzeXN0ZW1zLlxuICAgKi9cbiAgYWRkU3lzdGVtKGNUeXBlczogQ2xhc3NDb25zdHJ1Y3RvcjxDVD5bXSwgc3lzdGVtRnVuYzogU3lzdGVtRnVuYzxDVD4sIGZ1bmNOYW1lPzogc3RyaW5nKTogdGhpcyB7XG4gICAgdGhpcy5zeXN0ZW1zLmFkZChjVHlwZXMsIHN5c3RlbUZ1bmMsIGZ1bmNOYW1lKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cblxuICAvKipcbiAgICogU2V0dXAgYW4gZW50aXR5IHRvIGV4aXN0IGluIHRoZSBnaXZlbiB3b3JsZC4gVGhpcyBpcyBtb3N0bHkgYW4gaW50ZXJuYWwgbWV0aG9kLCBidXQgZXhwb3NlZCBqdXN0IGluIGNhc2UuXG4gICAqL1xuICByZWdpc3RlckVudGl0eShlbnRpdHk6IEVudGl0eTxDVD4pOiBXb3JsZDxDVD4ge1xuICAgIGNvbnN0IGNjID0gbmV3IENvbXBvbmVudENvbGxlY3Rpb248Q1Q+KCk7XG5cbiAgICB0aGlzLmNvbXBvbmVudENvbGxlY3Rpb25zLnNldChlbnRpdHkuaWQsIGNjKTtcbiAgICB0aGlzLmVudGl0aWVzLnNldChlbnRpdHkuaWQsIGVudGl0eSk7XG5cbiAgICBlbnRpdHkub25DcmVhdGUodGhpcyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGNvbXBvbmVudHMgdGhhdCBiZWxvbmcgdG8gYW4gZW50aXR5LlxuICAgKi9cbiAgY2xlYXJFbnRpdHlDb21wb25lbnRzKGVudGl0eUlkOiBFbnRpdHlJZCk6IHRoaXMge1xuICAgIHRoaXMuY29tcG9uZW50Q29sbGVjdGlvbnMuc2V0KGVudGl0eUlkLCBuZXcgQ29tcG9uZW50Q29sbGVjdGlvbjxDVD4oKSk7XG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eVNldCBvZiB0aGlzLmVudGl0aWVzQnlDVHlwZXMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChlbnRpdHlTZXQuaGFzKGVudGl0eUlkKSkge1xuICAgICAgICBlbnRpdHlTZXQuZGVsZXRlKGVudGl0eUlkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gZW50aXR5IHRoYXQgaXMgaW4gdGhlIHdvcmxkLlxuICAgKiBCYXNpY2FsbHkganVzdCBuZXcgRW50aXR5KHdvcmxkKSwgYnV0IHNhdmVzIGFuIGltcG9ydCBvZiBFbnRpdHkuXG4gICAqL1xuICBjcmVhdGVFbnRpdHkoKTogRW50aXR5PENUPiB7XG4gICAgY29uc3QgZW50aXR5ID0gbmV3IEVudGl0eSh0aGlzKTtcblxuICAgIHJldHVybiBlbnRpdHk7XG5cbiAgICAvLyBSZWdpc3RlciBlbnRpdHkgaGVyZS4uLi5cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyBhbiBlbnRpdHkuXG4gICAqIFNhbWUgYXMgZW50aXR5LmRlc3Ryb3koKS5cbiAgICovXG4gIGRlc3Ryb3lFbnRpdHkoZW50aXR5SWQ6IEVudGl0eUlkKTogV29ybGQ8Q1Q+IHtcbiAgICB0aGlzLmNvbXBvbmVudENvbGxlY3Rpb25zLmRlbGV0ZShlbnRpdHlJZCk7XG4gICAgY29uc3QgZW50aXR5ID0gdGhpcy5lbnRpdGllcy5nZXQoZW50aXR5SWQpO1xuXG4gICAgaWYgKCFlbnRpdHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgd29ybGQuZGVzdHJveUVudGl0eTogTm8gZW50aXR5IGZvdW5kLiBlbnRpdHkgaWQ6ICR7ZW50aXR5SWR9YCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbnRpdGllcy5kZWxldGUoZW50aXR5SWQpO1xuXG4gICAgZm9yIChjb25zdCBlbnRpdHlTZXQgb2YgdGhpcy5lbnRpdGllc0J5Q1R5cGVzLnZhbHVlcygpKSB7XG4gICAgICBpZiAoZW50aXR5U2V0LmhhcyhlbnRpdHlJZCkpIHtcbiAgICAgICAgZW50aXR5U2V0LmRlbGV0ZShlbnRpdHlJZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGFueSB0YWcgYXNzb2NpYXRpb25zIHdpdGggZGVzdHJveWVkIGVudGl0aWVzLlxuICAgIGZvciAoY29uc3QgW3RhZywgZW50aXR5U2V0XSBvZiB0aGlzLmVudGl0aWVzQnlUYWdzKSB7XG4gICAgICBpZiAoZW50aXR5U2V0LmhhcyhlbnRpdHlJZCkpIHtcbiAgICAgICAgZW50aXR5U2V0LmRlbGV0ZShlbnRpdHlJZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbnRpdHlTZXQuc2l6ZSA9PT0gMCkge1xuICAgICAgICB0aGlzLmVudGl0aWVzQnlUYWdzLmRlbGV0ZSh0YWcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLypcbiAgVE9ETzogd29ybGQuZGVzdHJveSgpIGFuZCB3b3JsZC5kZXN0cm95SW1tZWRpYXRlbHkoKSBtZXRob2RzLlxuICAqL1xufVxuIiwiaW1wb3J0IFdvcmxkIGZyb20gJy4vV29ybGQnO1xuaW1wb3J0IHsgdHJhY2tDb21wb25lbnQgfSBmcm9tICcuL1RyYWNrZWRDb21wb25lbnQnO1xuaW1wb3J0IEVudGl0eSBmcm9tICcuL0VudGl0eSc7XG5cbmV4cG9ydCB7XG4gIFdvcmxkLFxuICB0cmFja0NvbXBvbmVudCxcbiAgRW50aXR5LFxufTtcbiJdLCJuYW1lcyI6WyJpc0NvbXBvbmVudEluc3RhbmNlIiwiQ2xhc3MiLCJjb21wIiwiX2luc3RhbmNlb2YiLCJDb21wb25lbnRDb2xsZWN0aW9uIiwiTWFwIiwiY29tcG9uZW50IiwiY2wiLCJmdW5jIiwiYyIsInVwZGF0ZWRDb21wb25lbnQiLCJjVHlwZSIsIkVycm9yIiwiQXJyYXkiLCJjdCIsImNOYW1lIiwidG9EZXZDb21wb25lbnRzIiwib2JqIiwiX2l0ZXJhdG9yRXJyb3IiLCJjb21wTmFtZSIsIkRldkVudGl0eSIsImVudGl0eSIsIndvcmxkIiwiY29tcE5hbWVzIiwiT2JqZWN0Iiwic3lzdGVtTmFtZSIsImNOYW1lcyIsInRvVGFibGVSb3ciLCJTaW1wbGVGU00iLCJpbml0aWFsU3RhdGUiLCJ0cmFuc2l0aW9ucyIsIm5leHQiLCJkYXRhIiwicmVzZXQiLCJpcyIsImNoZWNrU3RhdGUiLCJ2NCIsInV1aWR2NCIsIkVudGl0eSIsImZzbVRyYW5zaXRpb24iLCJucyIsIm9uQ3JlYXRlIiwib25EZXN0cm95Iiwib25Db21wb25lbnRBZGQiLCJhcmdzIiwib25UcmFja2VkQ29tcG9uZW50VXBkYXRlIiwib25Db21wb25lbnRSZW1vdmUiLCJhZGQiLCJhZGRUYWciLCJ0YWciLCJlbnRpdHlTZXQiLCJTZXQiLCJoYXMiLCJjYyIsImhhc1RhZyIsImdldCIsImdldEFsbCIsInJlbW92ZSIsInJlbW92ZVRhZyIsImNsZWFyIiwiY2xlYXJUYWdzIiwiZmluaXNoQ3JlYXRpb24iLCJkZXN0cm95IiwiZGVzdHJveUltbWVkaWF0ZWx5IiwidGFncyIsInRvRGV2RW50aXR5IiwiRGV2VG9vbHMiLCJjb21wc0J5U3lzdGVtcyIsInN5c3RlbSIsImUiLCJTeXN0ZW1zIiwiY1R5cGVzIiwic3lzdGVtRnVuYyIsImZ1bmNOYW1lIiwibmFtZSIsInJ1biIsInNpemUiLCJlbnRpdGllc0luQ3JlYXRpbmdTdGF0ZSIsImVudGl0aWVzSW5EZXN0cm95aW5nU3RhdGUiLCJfaXRlcmF0b3JFcnJvcjEiLCJpbmRleCIsImNUeXBlQXJycyIsIl9pdGVyYXRvckVycm9yMiIsImVpZCIsIl9pdGVyYXRvckVycm9yMyIsImVudGl0eTEiLCJfaXRlcmF0b3JFcnJvcjQiLCJlbnRpdHkyIiwiVHJhY2tlZENvbXBTeW1ib2xLZXlzIiwiU3ltYm9sIiwiY3JlYXRlQ2xhc3NJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJ0cmFja2VkRXZlbnRIYW5kbGVycyIsInVwZGF0ZWRQcm9wcyIsInNldCIsInByb3BlcnR5IiwidmFsdWUiLCJwcmV2aW91c1ZhbCIsImVudGl0aWVzIiwidHJhY2tDb21wb25lbnQiLCJDb21wQ2xhc3MiLCJQcm94eSIsImNvbnN0cnVjdCIsIkNvbXBvbmVudCIsIldvcmxkIiwicHJlZGljYXRlIiwicmVzdWx0cyIsImRlZmF1bHRWYWx1ZSIsInJlc3VsdCIsInRhZ0VudGl0eUlkcyIsImVudGl0eUlkIiwiY3RBcnIiLCJjdEFycjEiLCJlbnRpdHlTZXQxIiwiYWRkU3lzdGVtIiwicmVnaXN0ZXJFbnRpdHkiLCJjbGVhckVudGl0eUNvbXBvbmVudHMiLCJjcmVhdGVFbnRpdHkiLCJkZXN0cm95RW50aXR5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDOztBQ2xCQSx3Q0FBZSxjQUFjLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxVQUFVLEdBQUcseUNBQXlDLEU7O0FDQXJHOztBQUUvQjtBQUNBLHFDQUFxQyxVQUFVO0FBQy9DOztBQUVBLHVEQUFlLFFBQVEsRTs7QUNOYztBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxTQUFTLFdBQUMsTUFBTSxXQUFDLFFBQVEsRUFBRSxXQUFDO0FBQzVCLGtCQUFrQixXQUFDO0FBQ25COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMGdCQUEwZ0I7QUFDMWdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU8sb0JBQVE7QUFDZjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsd0RBQWUsU0FBUyxFOztBQzdCRztBQUNZOztBQUV2QyxTQUFTLEtBQUU7QUFDWDtBQUNBLCtDQUErQyxHQUFHLEtBQUs7O0FBRXZEO0FBQ0EsbUNBQW1DOztBQUVuQztBQUNBOztBQUVBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxTQUFTLHFCQUFTO0FBQ2xCOztBQUVBLHFDQUFlLEtBQUUsRTs7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\n//# sourceURL=webpack-internal:///309\n\n}')}},__webpack_module_cache__={};function __webpack_require__(n){var t=__webpack_module_cache__[n];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var e=__webpack_module_cache__[n]={id:n,exports:{}};try{var r={id:n,module:e,factory:__webpack_modules__[n],require:__webpack_require__};if(__webpack_require__.i.forEach(function(n){n(r)}),e=r.module,!r.factory)throw console.error("undefined factory",n),Error("RuntimeError: factory is undefined ("+n+")");r.factory.call(e.exports,e,e.exports,r.require)}catch(n){throw e.error=n,n}return e.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.c=__webpack_module_cache__,__webpack_require__.i=[],(()=>{__webpack_require__.d=(n,t)=>{for(var e in t)__webpack_require__.o(t,e)&&!__webpack_require__.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})}})(),(()=>{__webpack_require__.hu=n=>"hot/hot-update.js"})(),(()=>{__webpack_require__.hmrF=function(){return"hot/hot-update.json"}})(),(()=>{__webpack_require__.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t)})(),(()=>{var n,t,e,r={},o=__webpack_require__.c,i=[],l=[],Q="idle",s=0,a=[];function B(t,e){var r=o[e];if(!r)return t;var l=function(l){if(r.hot.active){if(o[l]){var Q=o[l].parents;-1===Q.indexOf(e)&&Q.push(e)}else i=[e],n=l;-1===r.children.indexOf(l)&&r.children.push(l)}else console.warn("[HMR] unexpected require("+l+") from disposed module "+e),i=[];return t(l)},Q=function(n){return{configurable:!0,enumerable:!0,get:function(){return t[n]},set:function(e){t[n]=e}}};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&"e"!==s&&Object.defineProperty(l,s,Q(s));return l.e=function(n,e){return F(t.e(n,e))},l}function c(o,s){var a=n!==o,B={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:a,_requireSelf:function(){i=s.parents.slice(),n=a?void 0:o,__webpack_require__(o)},active:!0,accept:function(n,t,e){if(void 0===n)B._selfAccepted=!0;else if("function"==typeof n)B._selfAccepted=n;else if("object"==typeof n&&null!==n)for(var r=0;r<n.length;r++)B._acceptedDependencies[n[r]]=t||function(){},B._acceptedErrorHandlers[n[r]]=e;else B._acceptedDependencies[n]=t||function(){},B._acceptedErrorHandlers[n]=e},decline:function(n){if(void 0===n)B._selfDeclined=!0;else if("object"==typeof n&&null!==n)for(var t=0;t<n.length;t++)B._declinedDependencies[n[t]]=!0;else B._declinedDependencies[n]=!0},dispose:function(n){B._disposeHandlers.push(n)},addDisposeHandler:function(n){B._disposeHandlers.push(n)},removeDisposeHandler:function(n){var t=B._disposeHandlers.indexOf(n);t>=0&&B._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,Q){case"idle":t=[],Object.keys(__webpack_require__.hmrI).forEach(function(n){__webpack_require__.hmrI[n](o,t)}),d("ready");break;case"ready":Object.keys(__webpack_require__.hmrI).forEach(function(n){__webpack_require__.hmrI[n](o,t)});break;case"prepare":case"check":case"dispose":case"apply":(e=e||[]).push(o)}},check:u,apply:b,status:function(n){if(!n)return Q;l.push(n)},addStatusHandler:function(n){l.push(n)},removeStatusHandler:function(n){var t=l.indexOf(n);t>=0&&l.splice(t,1)},data:r[o]};return n=void 0,B}function d(n){Q=n;for(var t=[],e=0;e<l.length;e++)t[e]=l[e].call(null,n);return Promise.all(t).then(function(){})}function U(){0==--s&&d("ready").then(function(){if(0===s){var n=a;a=[];for(var t=0;t<n.length;t++)n[t]()}})}function F(n){switch(Q){case"ready":d("prepare");case"prepare":return s++,n.then(U,U),n;default:return n}}function I(n){return 0===s?n():new Promise(function(t){a.push(function(){t(n())})})}function u(n){if("idle"!==Q)throw Error("check() is only allowed in idle status");return d("check").then(__webpack_require__.hmrM).then(function(e){return e?d("prepare").then(function(){var r=[];return t=[],Promise.all(Object.keys(__webpack_require__.hmrC).reduce(function(n,o){return __webpack_require__.hmrC[o](e.c,e.r,e.m,n,t,r),n},[])).then(function(){return I(function(){return n?g(n):d("ready").then(function(){return r})})})}):d(C()?"ready":"idle").then(function(){return null})})}function b(n){return"ready"!==Q?Promise.resolve().then(function(){throw Error("apply() is only allowed in ready status (state: "+Q+")")}):g(n)}function g(n){n=n||{},C();var r,o=t.map(function(t){return t(n)});t=void 0;var i=o.map(function(n){return n.error}).filter(Boolean);if(i.length>0)return d("abort").then(function(){throw i[0]});var l=d("dispose");o.forEach(function(n){n.dispose&&n.dispose()});var Q=d("apply"),s=function(n){r||(r=n)},a=[];return o.forEach(function(n){if(n.apply){var t=n.apply(s);if(t)for(var e=0;e<t.length;e++)a.push(t[e])}}),Promise.all([l,Q]).then(function(){return r?d("fail").then(function(){throw r}):e?g(n).then(function(n){return a.forEach(function(t){0>n.indexOf(t)&&n.push(t)}),n}):d("idle").then(function(){return a})})}function C(){if(e)return t||(t=[]),Object.keys(__webpack_require__.hmrI).forEach(function(n){e.forEach(function(e){__webpack_require__.hmrI[n](e,t)})}),e=void 0,!0}__webpack_require__.hmrD=r,__webpack_require__.i.push(function(n){var t=n.module,e=B(n.require,n.id);t.hot=c(n.id,t),t.parents=i,t.children=[],i=[],n.require=e}),__webpack_require__.hmrC={},__webpack_require__.hmrI={}})(),(()=>{var n={},t="ecstatic:";__webpack_require__.l=function(e,r,o,i){if(n[e])return void n[e].push(r);if(void 0!==o)for(var l,Q,s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var B=s[a];if(B.getAttribute("src")==e||B.getAttribute("data-webpack")==t+o){l=B;break}}l||(Q=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,__webpack_require__.nc&&l.setAttribute("nonce",__webpack_require__.nc),l.setAttribute("data-webpack",t+o),l.src=e),n[e]=[r];var c=function(t,r){l.onerror=l.onload=null,clearTimeout(d);var o=n[e];if(delete n[e],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach(function(n){return n(r)}),t)return t(r)},d=setTimeout(c.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=c.bind(null,l.onerror),l.onload=c.bind(null,l.onload),Q&&document.head.appendChild(l)}})(),(()=>{__webpack_require__.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.p="/static/"})(),(()=>{var n,t,e,r,o,i=__webpack_require__.hmrS_jsonp=__webpack_require__.hmrS_jsonp||{889:0},l={};function Q(t,e){return n=e,new Promise((n,e)=>{l[t]=n;var r=__webpack_require__.p+__webpack_require__.hu(t),o=Error(),i=n=>{if(l[t]){l[t]=void 0;var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading hot update chunk "+t+" failed.\n("+r+": "+i+")",o.name="ChunkLoadError",o.type=r,o.request=i,e(o)}};__webpack_require__.l(r,i)})}function s(n){function l(n){for(var t=[n],e={},r=t.map(function(n){return{chain:[n],id:n}});r.length>0;){var o=r.pop(),i=o.id,l=o.chain,s=__webpack_require__.c[i];if(s&&(!s.hot._selfAccepted||s.hot._selfInvalidated)){if(s.hot._selfDeclined)return{type:"self-declined",chain:l,moduleId:i};if(s.hot._main)return{type:"unaccepted",chain:l,moduleId:i};for(var a=0;a<s.parents.length;a++){var B=s.parents[a],c=__webpack_require__.c[B];if(c){if(c.hot._declinedDependencies[i])return{type:"declined",chain:l.concat([B]),moduleId:i,parentId:B};if(-1===t.indexOf(B)){if(c.hot._acceptedDependencies[i]){e[B]||(e[B]=[]),Q(e[B],[i]);continue}delete e[B],t.push(B),r.push({chain:l.concat([B]),id:B})}}}}}return{type:"accepted",moduleId:n,outdatedModules:t,outdatedDependencies:e}}function Q(n,t){for(var e=0;e<t.length;e++){var r=t[e];-1===n.indexOf(r)&&n.push(r)}}__webpack_require__.f&&delete __webpack_require__.f.jsonpHmr,t=void 0;var s,a={},B=[],c={},d=function(n){console.warn("[HMR] unexpected require("+n.id+") to disposed module")};for(var U in e)if(__webpack_require__.o(e,U)){var F=e[U],I=F?l(U):{type:"disposed",moduleId:U},u=!1,b=!1,g=!1,C="";switch(I.chain&&(C="\nUpdate propagation: "+I.chain.join(" -> ")),I.type){case"self-declined":n.onDeclined&&n.onDeclined(I),n.ignoreDeclined||(u=Error("Aborted because of self decline: "+I.moduleId+C));break;case"declined":n.onDeclined&&n.onDeclined(I),n.ignoreDeclined||(u=Error("Aborted because of declined dependency: "+I.moduleId+" in "+I.parentId+C));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(I),n.ignoreUnaccepted||(u=Error("Aborted because "+U+" is not accepted"+C));break;case"accepted":n.onAccepted&&n.onAccepted(I),b=!0;break;case"disposed":n.onDisposed&&n.onDisposed(I),g=!0;break;default:throw Error("Unexception type "+I.type)}if(u)return{error:u};if(b)for(U in c[U]=F,Q(B,I.outdatedModules),I.outdatedDependencies)__webpack_require__.o(I.outdatedDependencies,U)&&(a[U]||(a[U]=[]),Q(a[U],I.outdatedDependencies[U]));g&&(Q(B,[I.moduleId]),c[U]=d)}e=void 0;for(var y=[],G=0;G<B.length;G++){var m=B[G],p=__webpack_require__.c[m];p&&(p.hot._selfAccepted||p.hot._main)&&c[m]!==d&&!p.hot._selfInvalidated&&y.push({module:m,require:p.hot._requireSelf,errorHandler:p.hot._selfAccepted})}return{dispose:function(){r.forEach(function(n){delete i[n]}),r=void 0;for(var n,t,e=B.slice();e.length>0;){var o=e.pop(),l=__webpack_require__.c[o];if(l){var Q={},c=l.hot._disposeHandlers;for(G=0;G<c.length;G++)c[G].call(null,Q);for(__webpack_require__.hmrD[o]=Q,l.hot.active=!1,delete __webpack_require__.c[o],delete a[o],G=0;G<l.children.length;G++){var d=__webpack_require__.c[l.children[G]];d&&(n=d.parents.indexOf(o))>=0&&d.parents.splice(n,1)}}}for(var U in a)if(__webpack_require__.o(a,U)&&(l=__webpack_require__.c[U]))for(G=0,s=a[U];G<s.length;G++)t=s[G],(n=l.children.indexOf(t))>=0&&l.children.splice(n,1)},apply:function(t){for(var e in c)__webpack_require__.o(c,e)&&(__webpack_require__.m[e]=c[e]);for(var r=0;r<o.length;r++)o[r](__webpack_require__);for(var i in a)if(__webpack_require__.o(a,i)){var l=__webpack_require__.c[i];if(l){s=a[i];for(var Q=[],d=[],U=[],F=0;F<s.length;F++){var I=s[F],u=l.hot._acceptedDependencies[I],b=l.hot._acceptedErrorHandlers[I];if(u){if(-1!==Q.indexOf(u))continue;Q.push(u),d.push(b),U.push(I)}}for(var g=0;g<Q.length;g++)try{Q[g].call(null,s)}catch(e){if("function"==typeof d[g])try{d[g](e,{moduleId:i,dependencyId:U[g]})}catch(r){n.onErrored&&n.onErrored({type:"accept-error-handler-errored",moduleId:i,dependencyId:U[g],error:r,originalError:e}),n.ignoreErrored||(t(r),t(e))}else n.onErrored&&n.onErrored({type:"accept-errored",moduleId:i,dependencyId:U[g],error:e}),n.ignoreErrored||t(e)}}}for(var C=0;C<y.length;C++){var G=y[C],m=G.module;try{G.require(m)}catch(e){if("function"==typeof G.errorHandler)try{G.errorHandler(e,{moduleId:m,module:__webpack_require__.c[m]})}catch(r){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:m,error:r,originalError:e}),n.ignoreErrored||(t(r),t(e))}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:m,error:e}),n.ignoreErrored||t(e)}}return B}}}self.webpackHotUpdateecstatic=(t,r,i)=>{for(var Q in r)__webpack_require__.o(r,Q)&&(e[Q]=r[Q],n&&n.push(Q));i&&o.push(i),l[t]&&(l[t](),l[t]=void 0)},__webpack_require__.hmrI.jsonp=function(n,t){e||(e={},o=[],r=[],t.push(s)),__webpack_require__.o(e,n)||(e[n]=__webpack_require__.m[n])},__webpack_require__.hmrC.jsonp=function(n,l,a,B,c,d){c.push(s),t={},r=l,e=a.reduce(function(n,t){return n[t]=!1,n},{}),o=[],n.forEach(function(n){__webpack_require__.o(i,n)&&void 0!==i[n]?(B.push(Q(n,d)),t[n]=!0):t[n]=!1}),__webpack_require__.f&&(__webpack_require__.f.jsonpHmr=function(n,e){t&&__webpack_require__.o(t,n)&&!t[n]&&(e.push(Q(n)),t[n]=!0)})},__webpack_require__.hmrM=()=>{if("undefined"==typeof fetch)throw Error("No browser support: need fetch API");return fetch(__webpack_require__.p+__webpack_require__.hmrF()).then(n=>{if(404!==n.status){if(!n.ok)throw Error("Failed to fetch update manifest "+n.statusText);return n.json()}})}})();var __webpack_exports__=__webpack_require__(309);return __webpack_exports__})());